{"version":3,"sources":["webpack:///node_modules/flatpickr/dist/l10n sync ^\\.\\/.*\\.js$","webpack:///node_modules/moment-mini/locale sync ^\\.\\/.*$","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts.AppComponent.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/guards/authGuard.ts","webpack:///src/app/guards/roleGuard.ts","webpack:///src/app/helpers/httpInterceptor/Interceptor.ts","webpack:///src/app/helpers/httpInterceptor/errorInterceptor.ts","webpack:///src/app/helpers/httpInterceptor/loaderInterceptor.ts","webpack:///src/app/models/PdctHldSubst.ts","webpack:///src/app/models/break.ts","webpack:///src/app/models/chartImagesModel.ts","webpack:///src/app/models/couvertureStockModel.ts","webpack:///src/app/models/data.ts","webpack:///src/app/models/dataBreak.ts","webpack:///src/app/models/dataEntry.ts","webpack:///src/app/models/dataEntryTrackingModel.ts","webpack:///src/app/models/dataHldDashboardAModel.ts","webpack:///src/app/models/dataPartOfMarketModel.ts","webpack:///src/app/models/datesBySessionModel.ts","webpack:///src/app/models/dropGroup.ts","webpack:///src/app/models/etatDuMarcheModel.ts","webpack:///src/app/models/firstStep.ts","webpack:///src/app/models/granularite.ts","webpack:///src/app/models/gridCellData.class.ts","webpack:///src/app/models/gridCellToCreate.class.ts","webpack:///src/app/models/gridCellToSave.class.ts","webpack:///src/app/models/gridCellToValidate.class.ts","webpack:///src/app/models/gridDataRow.class.ts","webpack:///src/app/models/gridDataType.enum.ts","webpack:///src/app/models/gridIconsRef.class.ts","webpack:///src/app/models/group.ts","webpack:///src/app/models/indc.ts","webpack:///src/app/models/indcTypes.enum.ts","webpack:///src/app/models/index.ts","webpack:///src/app/models/indicatif.ts","webpack:///src/app/models/labo.ts","webpack:///src/app/models/lstIndc.ts","webpack:///src/app/models/lstSubst.ts","webpack:///src/app/models/mail.ts","webpack:///src/app/models/previsionnelGersModel.ts","webpack:///src/app/models/previsionnelMedicamModel.ts","webpack:///src/app/models/secondStep.ts","webpack:///src/app/models/simulateurGersModel.ts","webpack:///src/app/models/simulateurMedicamModel.ts","webpack:///src/app/models/subst.ts","webpack:///src/app/models/thirdStep.ts","webpack:///src/app/models/user.ts","webpack:///src/app/services/admin/index.ts","webpack:///src/app/services/admin/laboratoire.service.ts","webpack:///src/app/services/authentication.service.ts","webpack:///src/app/services/break/break.service.ts","webpack:///src/app/services/break/index.ts","webpack:///src/app/services/cache/cache.service.ts","webpack:///src/app/services/cache/index.ts","webpack:///src/app/services/config/config.service.ts","webpack:///src/app/services/config/index.ts","webpack:///src/app/services/dashboard/dashboard.service.ts","webpack:///src/app/services/dashboard/index.ts","webpack:///src/app/services/dataEntry/dataEntry.service.ts","webpack:///src/app/services/dataEntry/index.ts","webpack:///src/app/services/excel/excel.service.ts","webpack:///src/app/services/excel/index.ts","webpack:///src/app/services/gridData/gridData.service.ts","webpack:///src/app/services/gridData/index.ts","webpack:///src/app/services/home/home.service.ts","webpack:///src/app/services/home/index.ts","webpack:///src/app/services/index.ts","webpack:///src/app/services/indicatifs/index.ts","webpack:///src/app/services/indicatifs/indicatifs.service.ts","webpack:///src/app/services/language/index.ts","webpack:///src/app/services/language/language.service.ts","webpack:///src/app/services/loader.service.ts","webpack:///src/app/services/logs/index.ts","webpack:///src/app/services/logs/logs.service.ts","webpack:///src/app/services/mailer/index.ts","webpack:///src/app/services/mailer/mailer.service.ts","webpack:///src/app/services/request.service.ts","webpack:///src/app/services/roles/index.ts","webpack:///src/app/services/roles/roles.service.ts","webpack:///src/app/services/unit/index.ts","webpack:///src/app/services/unit/unit.service.ts","webpack:///src/app/services/user/index.ts","webpack:///src/app/services/user/user.service.ts","webpack:///src/app/shared/dialog/index.ts","webpack:///src/app/shared/dialog/noUserForLabo/index.ts","webpack:///src/app/shared/dialog/noUserForLabo/noUserForLabo.component.html","webpack:///src/app/shared/dialog/noUserForLabo/noUserForLabo.component.ts","webpack:///src/app/shared/dropdown/dropdown.component.html","webpack:///src/app/shared/dropdown/dropdown.component.ts","webpack:///src/app/shared/dropdown/index.ts","webpack:///src/app/shared/formulaire/formulaire.component.html","webpack:///src/app/shared/formulaire/formulaire.component.ts","webpack:///src/app/shared/formulaire/index.ts","webpack:///src/app/shared/highlightTitle/highlightTitle.component.html","webpack:///src/app/shared/highlightTitle/highlightTitle.component.ts","webpack:///src/app/shared/highlightTitle/index.ts","webpack:///src/app/shared/iconText/iconText.component.html","webpack:///src/app/shared/iconText/iconText.component.ts","webpack:///src/app/shared/iconText/index.ts","webpack:///src/app/shared/index.ts","webpack:///src/app/shared/navbar/index.ts","webpack:///src/app/shared/navbar/navbar.component.html","webpack:///src/app/shared/navbar/navbar.component.ts","webpack:///src/app/shared/reCaptcha/index.ts","webpack:///src/app/shared/reCaptcha/reCaptcha.component.html","webpack:///src/app/shared/reCaptcha/reCaptcha.component.ts","webpack:///src/app/shared/redirection/index.ts","webpack:///src/app/shared/redirection/redirection.component.html","webpack:///src/app/shared/redirection/redirection.component.ts","webpack:///src/app/utils/index.ts","webpack:///src/app/utils/order.service.ts","webpack:///src/app/view/dashboard/dashboard.component.html","webpack:///src/app/view/dashboard/dashboard.component.ts","webpack:///src/app/view/dashboard/dataDci/dataDci.component.html","webpack:///src/app/view/dashboard/dataDci/dataDci.component.ts","webpack:///src/app/view/dashboard/graphicView/GraphView/graphView.component.html","webpack:///src/app/view/dashboard/graphicView/GraphView/graphView.component.ts","webpack:///src/app/view/dashboard/graphicView/graphicView.component.html","webpack:///src/app/view/dashboard/graphicView/graphicView.component.ts","webpack:///src/app/view/dataEntry/dataEntry.component.html","webpack:///src/app/view/dataEntry/dataEntry.component.ts","webpack:///src/app/view/dataEntry/dataEntryForm/dataEntryForm.component.html","webpack:///src/app/view/dataEntry/dataEntryForm/dataEntryForm.component.ts","webpack:///src/app/view/dataEntry/dataEntryForm/dataEntryFormInput/dataEntryFormInput.component.html","webpack:///src/app/view/dataEntry/dataEntryForm/dataEntryFormInput/dataEntryFormInput.component.ts","webpack:///src/app/view/dataEntry/dataEntryForm/dataEntryGrid/dataEntryGrid.component.html","webpack:///src/app/view/dataEntry/dataEntryForm/dataEntryGrid/dataEntryGrid.component.ts","webpack:///src/app/view/dataEntry/dataEntryTracking.component.html","webpack:///src/app/view/dataEntry/dataEntryTracking.component.ts","webpack:///src/app/view/home/home.component.html","webpack:///src/app/view/home/home.component.ts","webpack:///src/app/view/laboratoire/custom-angularComponentEditor.ts","webpack:///src/app/view/laboratoire/editor-ng-select.component.ts.EditorNgSelectComponent.html","webpack:///src/app/view/laboratoire/editor-ng-select.component.ts","webpack:///src/app/view/laboratoire/laboratoire.component.html","webpack:///src/app/view/laboratoire/laboratoire.component.ts","webpack:///src/app/view/login/login.component.html","webpack:///src/app/view/login/login.component.ts","webpack:///src/app/view/login/loginForm/loginForm.component.html","webpack:///src/app/view/login/loginForm/loginForm.component.ts","webpack:///src/app/view/login/smsForm/smsForm.component.html","webpack:///src/app/view/login/smsForm/smsForm.component.ts","webpack:///src/app/view/profilUser/detailUser/detailUser.component.html","webpack:///src/app/view/profilUser/detailUser/detailUser.component.ts","webpack:///src/app/view/profilUser/profil.component.html","webpack:///src/app/view/profilUser/profil.component.ts","webpack:///src/app/view/profilUser/profilUser.component.html","webpack:///src/app/view/profilUser/profilUser.component.ts","webpack:///src/app/view/soldOut/create.component.html","webpack:///src/app/view/soldOut/create.component.ts","webpack:///src/app/view/soldOut/step/stepFourCreate/stepFourCreate.component.html","webpack:///src/app/view/soldOut/step/stepFourCreate/stepFourCreate.component.ts","webpack:///src/app/view/soldOut/step/stepFourUpdate/stepFourUpdate.component.html","webpack:///src/app/view/soldOut/step/stepFourUpdate/stepFourUpdate.component.ts","webpack:///src/app/view/soldOut/step/stepOne/stepOne.component.html","webpack:///src/app/view/soldOut/step/stepOne/stepOne.component.ts","webpack:///src/app/view/soldOut/step/stepThree/stepThree.component.html","webpack:///src/app/view/soldOut/step/stepThree/stepThree.component.ts","webpack:///src/app/view/soldOut/step/stepTwo/stepTwo.component.html","webpack:///src/app/view/soldOut/step/stepTwo/stepTwo.component.ts","webpack:///src/app/view/soldOut/update.component.html","webpack:///src/app/view/soldOut/update.component.ts","webpack:///src/app/view/unit/unit.component.html","webpack:///src/app/view/unit/unit.component.ts","webpack:///src/config sync ^\\.\\/.*$","webpack:///src/environments/environment.ts","webpack:///src/i18n sync ^\\.\\/.*\\.json$","webpack:///src/main.ts","webpack:///crypto (ignored)"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","Object","resolve","module","exports","webpackEmptyAsyncContext","Promise","then","AppComponent","languageService","init","_copyright","copyright","Date","getUTCFullYear","appearance","config","AppModule","AuthGuard","router","authenticationService","route","state","currentUser","currentUserValue","jwt","sms","navigate","queryParams","returnUrl","url","RoleGuard","roles","dataentry","find","x","role","admin","dashboard","Interceptor","_authenticationService","_logs","_urlsAvoid","login","api","next","search","clone","setHeaders","handle","pipe","data","type","registerLogs","err","ErrorInterceptor","request","status","logout","sessionExpired","LoaderInterceptor","loader","templateAvoid","template","body","includes","startingDataLoading","undefined","response","setTimeout","endingDataLoading","error","PdctHldSubst","Break","ChartImagesModel","CouvertureStockModel","DataCouvertureStock","Data","DataBreak","DataEntry","DataEntryTrackingModel","Info","DataHldDashboardAModel","DataHld","Sales","DataPartOfMarketModel","DatesBySessionModel","DropGroup","EtatDuMarcheModel","DataEtatDuMarche","DataByDate","Params","FirstStep","Granularite","GridCellData","_","dataRow","cd_cip13","cd_stat_entry","dt_grnlr","id_break","id_hld","id_indc","ts_lst_upd","ts_crt","val_indc","cd_indc","cd_indc_typ","NUMBER","val","parseInt","isNaN","GridCellToCreate","id_usr_crt","idUser","id_usr_vld","ts_vld","GridCellToSave","GridCellToValidate","GridDataRow","dataType","nm_medic","ll_prest","_rowOrigin","_dataType","forEach","d","currVal","origVal","typeVal","TEXT","toString","canValidate","fl_indc_mdty","_hasValueChanged","reduce","count","filter","bind","GridDataType","GridIconsRef","_baseIconPath","RECURRENT","STARTING","Group","Groupes","Indc","IndcTypes","Indicatif","Labo","LstIndc","LstSubst","Mail","PrevisionnelGersModel","PrevisionnelGersStock","PrevisionnelMedicamModel","PrevisionnelMedicamStock","SecondStep","SimulateurGersModel","SimulateurGersStock","SimulateurMedicamModel","SimulateurMedicamStock","Subst","ThirdStep","User","LaboratoireService","_Request","params","post","Number","rows","laboratories","Array","el","index","laboratory","idhld","namehld","src","modified","idsubsdry","nmsubsdry","isUse","isUser","push","setLaboratoires","ok","element","_laboratoires","laboratoires","AuthenticationService","requestService","switchSmsToMail","_userForgetPassword","currentUserSubject","JSON","parse","localStorage","getItem","asObservable","username","password","setItem","stringify","production","getTokenAndUserDetails","value","currentUserInfo","userDetails","user","_registerUserInfo","sendCode","redirection","postNewPassword","_username","length","removeItem","method","loginCheck","postCheckUser","contact","tel","email","postCodeVerification","subscribe","resp","lastName","userReferences","name","firstName","prenom","mail","labo","BreakService","_datePipe","dt","cd","set","Set","newId","from","values","result","pdctHldSubsts","cd_cis","cd_subst","nm_subst","commercialise","listGrp","nm_hld","idpdct","idbreak","_results","ll_indc","sl_indc","cd_indc_faml","nb_ord","nb_vers","cd_grnlr","jlst_indc","jlst_subst","fl_break_actvt","ds_break","de_break","nm_break","visibility","listpdct","s","results","code_subst","pendding","date","grnlr","ts_break","dates","start","end","transform","laboName","emailExist","CacheService","options","hours","expireHours","expireDate","key","item","now","remove","clear","LocalStorageSaveOptions","RECAPTCHA_URL","ConfigService","http","_appConfigUrl","_mailConfigUrl","_validateNumberPattern","reject","time","Math","round","getTime","appConfig","concatResponse","get","_config","_configMail","complete","newConfig","newConfigUrl","DashboardService","session","temporyResults","grp","cd_cip7","substr","form","dose","unit","coef","setResults","lb_grp","total","indc","allHld","arrayOfDashboardData","dashboardData","idlabo","nmgrp","consoDataMissing","gers","courbe","color","dataByDate","medicamH","medicamV","medicamT","medicamHPY","medicamVPY","medicamTPY","dataByLabo","arrayForDataByDate","arrayForDataByDatePY","dataByDatePY","iddate","etat_marche","sort","y","graph","abscisse","_dataDashboardB","_dataDashboardC","_dataDashboardD","_dataDashboardE","_dataDashboardF","consoMedicam","ceil","consoGers","ecartStckMedicam","date_stock","alreadyDashboardDataByLabo","valeur","conso_moyenne_hebdo_medicam","conso_moyenne_hebdo_gers","ecart_stock_besoins_medicam","indexOf","_pushAtSpecifyIndex","i","lastDt","consoGersNext","ecartStckGers","stck_reel","ventes_gers","approvisionnement","stk_gers_prev","Stock_moins_ventes_gers","consoMedicamNext","ventes_medicam","stk_medicam_prev","Stock_moins_ventes_medicam","stckNext","stck","stk_gers_affich","stk_affich","stk_gers_color","stk_medicam_affich","stk_medicam_color","array","existe","DataEntryService","_translate","groupes","groupe","grp_name","id_session","id_labo","id_mth","dt_mth","value_hld","value_total","part_of_market","idsession","namelabo","info","resultAlreadyExist","unshift","indexOfMinDtGrnlrNoValidated","iMax","validatedindc","totalindc","navindex","selectedCurrentDate","periodecourante","selectedLastDate","lastupdate","a","b","isGreatestDate","isSameDate","newDataEntry","newBreak","newIndc","dt_start_indc","dt_end_indc","cd_indc_fonc","lb_date","instant","start_periode","end_periode","next_dt_grnlr","dataEntry","id_indic","replaceAll","_nextDtGrnlr","_dateEnd","de","_dateStart","ds","_dataBreak","ExcelService","images","id_user","cip13","cip7","cis","subst","lib","presentation","dtstockstart","dtstockend","namecolumn","stock","valgers","valmedicam","excelData","isLabo","workbook","worksheet1","addWorksheet","pageSetup","paperSize","orientation","_worksheetContent","_worksheet1SpecialContent","_stylingWorksheet","worksheet2","nameWorkSheet2","activeView","newLaboName","lastDate","laboView","activeGraph","_worksheet2SpecialContent","title","idView","allData","worksheet3","_worksheet4SpecialContent","printArea","xlsx","writeBuffer","dataBlob","blob","Blob","nb","worksheet","addRow","mergeCells","getRow","height","getCell","header","cellNb","_stylingWorksheet1Special","laboid","vue","n","img","image","addImage","base64","extension","cdGrnlr","othersColumn","othersColumnName","periode","dataByHld","dataInTable","column","dataHld","_stylingWorksheet3Special","nA","nB","nbDate","sumGers","sumMedicam","valGers","valMedicam","reducer","accumulator","currentValue","totalGers","totalMedicam","denoGers","denoMedicam","columns","width","font","size","argb","alignment","vertical","bold","wrapText","fill","pattern","fgColor","horizontal","table","_setTable","_columns","cellNbString","headerLength","alphabetic","GridDataService","_breakService","_dataEntry","_authService","saveSuccess","validated","saved","_data","newData","_dataOrigin","row","archives","errorStock","dataToValidate","_getDataToValidate","prevData","archivedDataByDate","nextDtGrnlr","originData","valuesPrevStock","valuesStockOrigin","valuesSupplyOrigin","valuesSendedOrigin","recurrentData","valuesStock","concat","valuesSupply","valuesSended","dataPrevStock","valuePrevStock","datavaluesSupply","valueSupply","dataStock","valueStock","stockTotal","stockMin","abs","stockMax","errorSended","dataToSave","_getDataToSave","obs","updateDataEntry","_updateValues","emit","_saveSuccess","_onError","dataToCreate","_getDataToCreate","_setNextDate","toCreate","_createDataEntry","created","controlDataEntry","acc","rowOrig","entry","nextDate","newDataEntries","createDataEntry","hasEmptyValues","c","nbEmptyValue","_canValidate","HomeService","sessionSucces","IndicatifsService","indicatifs","pays","LanguageService","translate","_languages","addLangs","setTranslation","setDefaultLang","use","language","console","LoaderService","showSpinner","LogsService","_router","hideDataSensible","log","toISOString","userId","detail","message","actionText","sensibleData","sensible","createLogs","MailerService","dtgrnlr","pdct","cip","nomSubst","nomMedic","saveOrValidate","postMail","RequestService","_http","apiUrl","observe","psd","headers","otpUrl","RolesService","validator","leem","allRoles","lbl","UnitService","alreadyCipExist","pdctUnitModel","nom","dosage","objet","UserService","tech_user","ref_user","NoUserForLaboComponent","dialogRef","DropdownComponent","presentData","dataDeleted","keyUpEvent","checkEvent","searchIsEmpty","typeOfData","field","searchElement","nativeElement","focus","isSubmitted","dropdownToggleLabel","text","stopPropagation","checked","target","dropdownToggleLabels","placeholder","FormulaireComponent","formBuilder","dataForm","submitted","initForm","group","required","HighlightTitleComponent","highlight","replace","IconTextComponent","baseDir","srcActive","srcInactive","NavbarComponent","active","ReCaptchaComponent","captchaValid","siteKey","reCaptchaKey","captchaResponse","input","newResponse","className","classExiste","classList","add","errorDetails","RedirectionComponent","subscriptions","_getInfo","unsubscribe","sub","backRoute","OrderUtils","reverse","getOrder","setOrder","_orderName","DashboardComponent","excelService","_dashboardService","_rolesService","showExcel","graphView","today","_getBreaks","selectSession","listBreakFilter","allSession","toUpperCase","labelDropdownGraph","_getDashboardData","presentationGrpPdct","selectGroup","_getDataExportExcel","_dataExportExcel","subtitle","selectAllGroup","groupesBySession","labelDropdownGroup","generateExcel","_resetData","labelDropdownSessionName","code_prdt","localeCompare","grpCip","_getGrp","getBreaks","getResults","getGrp","_setPresentationGrpPdct","hld","getDataForDashboardOthers","getDataForDashboardA","selectGrp","totalAccess","idHldDetails","getDashboard","getDashboardEtatMarche","medicam","finalData","extractDate","gersDate","toLocaleString","month","year","medicamDate","dataDashboardGers","dt1","dt2","dataDashboardMedicam","totalSaleGers","totalSaleMedicam","sales","sale","saleAverageGers","denominateurGers","saleAverageMedicam","denominateurMedicam","salesAverage","DataDciComponent","orderUtils","GraphViewComponent","disabledExport","stockReel","ecartStck","appro","gersMoyenne","medicamMoyenne","mediumMedicamColor","warningColor","dangerColor","_hiddenLegendeA","hidden","lastIndexData","toLocaleDateString","canvas","document","getElementById","myChart","_canvas","_setFirstIdChart","_createChart","_myChart","destroy","_setIdChart","_prevId","ctx","getContext","_ctx","_createLabels","_setOptionEtatMarche","_createDataA","_setOption","_createDataB","_createDataC","_createDataD","_setOptionCourbe","_createDataE","_createDataF","labels","_labels","datasets","_datasets","_option","elementData","label","borderColor","borderDash","dataVal","backgroundColor","maxBarThickness","xAxisID","barPercentage","dataStckRealExist","stockreal","isr","dataStckNextExist","stocknext","isn","gradientFill","createLinearGradient","finalDate","colorPoint1","y1","levelOne","levelTwo","sign","colorPoint2","y2","levelOneBis","levelTwoBis","addColorStop","pointBorderColor","pointBackgroundColor","radius","pointHoverRadius","pointHoverBorderWidth","pointHoverBorderColor","pointBorderWidth","borderWidth","that","doneOnComplete","_exportUrl","animation","onComplete","legend","position","align","padding","lineWidth","usePointStyle","generateLabels","chart","_getSortedDatasetMetas","meta","style","controller","getStyle","dash","fillStyle","strokeStyle","lineDash","pointStyle","datasetIndex","onClick","legendItem","ci","getDatasetMeta","update","responsive","maintainAspectRatio","bezierCurve","elements","line","tension","scales","yAxes","ticks","beginAtZero","min","callback","gridLines","zeroLineColor","drawBorder","offsetGridLines","xAxes","stacked","offset","autoSkip","maxRotation","minRotation","tooltipFormat","minUnit","unitStepSize","displayFormats","tooltips","enabled","callbacks","tooltipItems","afterBody","_setFormatAbscisse","source","_tooltipFormat","_unit","_displayFormats","toFixed","preLabel","Infinity","display","test","alreadyHidden","ebis","tooltipIndex","stockR","yLabel","day","week","dataUrl","toDataURL","_updateChart","pop","shift","_updateTypeB","_updateTypeC","_updateTypeD","_updateTypeE","_updateTypeF","datasetToUpdating","dataset","dataStckGers","splice","dataStckMedicam","GraphicViewComponent","_excelService","excelActive","allImage","dataForGraph","graphData","getAttribute","DataEntryComponent","_dataEntryService","_roles","idHld","getDataEntry","archived","_getArchivedData","toValidated","_getToValidatedData","archivedData","isAdmin","_getAllDates","_checkedVueForAdmin","lastToValidatedData","newDataBreak","allGrnlr","datesGrnlr","archiveByBreakId","dataBreak","startDate","endDate","startingData","_calculeMinOrMaxGrnlr","newDatesBySession","grnlrByIdBreak","dateToValidate","allDatesGrnlrBySession","DisplayStyle","DataEntryFormComponent","gridData","dataEntryService","_formBuilder","_role","emitIsValidateOrSave","isValidator","errorData","gridDataType","displayStyle","displayFlag","GRID","nullValueToSave","archiveIdx","warningStockBiggest","warningStockError","_subsriptions","_subscriptionsSave","nbChecked","dataEntryForm","dataToUpdate","_afterValidate","subSave","_afterSave","_initSelectSessionAfterReloadData","checkPendingModif","FORM","hasPendingModif","readOnly","presentationData","dialogDisplayViewChange","toggleDisplayFlag","nbDataExpected","nbDataResponseFind","formControls","presentationHasError","updated","updt","listDataFound","canSave","saveFuncs","onClickSubmitSave","save","closeDisplayDialog","_fetchProducts","_initd","_setDateStart","_registerNullValueToUpdate","_handleErrorDataToActiveOrErrorClass","dataCreate","dataUpdate","controls","removeAt","_checkedIfInputFieldUsePresentationOrUpdateData","prevDataForIndcToVerifiesExiste","valuesExistAndDataNotValidated","afterChecked","valueSended","dataToUpdateWithNullValue","_saveDataEntries","nbCheked","_updateDataEntry","_applyData","dateStart","dateEnd","setValue","_getUniqueCdCip13List","getPdcts","_sortData","elem","cipA","cipB","toLowerCase","lA","lB","dataToRegister","dataAlreadyRegister","validateSuccess","controlError","dataSaved","archive","valOrigin","getModifData","modif","valid","submitSaveIsActive","nbModif","_findModifs","DataEntryFormInputComponent","valueChanged","_init","emitFuncs","_emitNumber","_emitText","dataEntryType","formGroupOptions","displayValue","_separateThousands","validateNumberPattern","thousandSeparatorPattern","split","formattedValue","isValid","invalid","toLocaleLowerCase","lowerType","GridError","DataEntryGridComponent","_transalte","containerId","gridIcons","gridErrors","_rowHeight","_collapsable","_nbFrozenCol","_initGridData","_initColumnDefinitions","_initGridOptions","dataContext","DataToDtGrnlr","prevNumber","angularGrid","grid","window","onresize","resizerService","resizeGrid","slickGrid","getEditorLock","commitCurrentEdit","columnDefinitions","_buildColDef","_fixWidth","_makeCollapsable","_protectFrozenColCells","_addColDef","col","minWidth","maxWidth","resizable","_makeNonEditable","setData","gridOptions","rowHeight","frozenColumn","alwaysShowVerticalScroll","enableAutoResize","autoResize","enableSorting","enableGridMenu","enableColumnReorder","enableColumnPicker","enableHeaderMenu","enableHeaderButton","enableCellNavigation","_editableGridOptions","enableExcelCopyBuffer","excelCopyBufferOptions","newRowCreator","editable","autoCommitEdit","newCol","formatter","_formatter","_setColumnType","_makeEditable","_addHelp","colDef","sortable","slickTypes","string","number","_addButtonToColumnHeader","cssClass","command","tooltip","columnId","itemVisibilityOverride","args","action","_expandCollapseColumn","onCellChange","_rollbackCellChange","cannotTriggerInsert","editor","model","_trimValue","_validateCellValue","_setError","INVALID_NUMBER_VALUE","button","buttons","collapse","_collapseColumn","expand","_expandColumn","_refreshColumnDefinitions","headerCssClass","dataRowOrig","getData","columnDef","gridService","renderGrid","newValue","cell","notExpected","_controlIndcExpected","valueToReturn","_controlSendedMoreThanStock","_controlErreurStock","bodyHeight","headerPadding","scrollbarSize","headerHeight","DataEntryTrackingComponent","_mailer","_configService","_cacheService","dialogActiveMail","notRobot","alreadySended","_getAllSessions","selectedSession","createData","_allSession","dataPart","partOfMarketData","partOfMarketByGrpAndMth","max","loadMailIsAlreadySended","dataSelected","getUsers","users","u","sendedMailMessage","succes","reset","cache","pdctForMail","getPdctForMail","_createdMails","bodyMail","createMail","idTemplateRecall","produits","r","userCheck","_getNbVersion","respOfNbVersion","_getDataEntryTracking","respAllDataTracking","_getPartOfMarket","nbvers","nbSession","idSession","getDataEntryTracking","allDataTracking","allDate","lbGrp","getPartOfMarket","HomeComponent","home","authentication","menuLinks","_currentUser","_checkRoles","link","dropdown","newMenuLinks","CustomAngularComponentEditor","_subscriptions","columnEditor","component","angularUtilService","componentOutput","createAngularComponentAppendToDom","container","componentRef","assign","instance","collection","onItemChanged","validation","validate","hasAutoCommitEdit","commitChanges","selectedId","defaultId","selectedItem","defaultItem","cancelChanges","hide","show","itemObject","msg","internalColumnEditor","getOptions","EditorNgSelectComponent","LaboratoireComponent","_laboratoireService","errorMessage","succesMessage","idToChange","dialogValidate","userFind","sessionFind","_initView","_reset","_angularGrid","allDataToSave","nameIsEmpty","updateLaboratories","_max","afterSave","listOfLaboratories","_callListOfLaboratories","_initSlickGrid","_initNextId","_options","_getData","nextIdGrp","Source","Code","IsModified","IdSubsdry","NmSubsdry","Identification","Laboratoire","nameKey","filterable","queryFieldFilter","queryFieldSorter","complexObject","complexFieldLabel","exportWithFormatter","_verifiedIsUse","requiredFieldValidator","_changeDataName","match","_argsCheckBeforeChangeId","_changeDataId","group_list","_dataHasBeenChange","updateItem","dataSameId","parallele","oldData","autoEdit","headerRowHeight","sidePadding","enableFiltering","LoginComponent","isSmsVerificationFormVisible","event","LoginFormComponent","verificationCodeSended","loginTitle","loginTitleHighlighted","initTitle","initTitleHighlighted","loginForm","disabled","reCaptcha","requiredTrue","searchLoginElement","initPasswordForm","enable","disable","errorRequestMessage","forgetPassword","isInit","getUserByCheck","SmsFormComponent","smsPattern","desactiveReset","smsForm","smsTitle","smsTitleHighlighted","smsVerificationCode","codeErreur","DetailUserComponent","_indicatifsService","_userService","_authentication","nameSended","modifIsSucces","listLaboFound","allLabo","userForm","offsetParent","childNodes","confirmPassword","changePassword","canSubmit","salt","indctel","step","_createNewUser","_updateUser","formValid","isDiff","createUser","createRefUser","alreadyUsername","sessionError","updateUser","updateRefUser","ProfilComponent","_setInfoUser","_setForm","_user","telIndc","substring","_mustMatch","controlName","matchingControlName","formGroup","control","matchingControl","errors","mustMatch","setErrors","ProfilUserComponent","labelDropdown","_getUsers","_getLabo","selectUser","userName","laboValidator","handleStep","listUserFound","allUser","getLabo","CreateComponent","steps","granularite","firstStepData","SelectPdct","secondStepData","thirdStepData","_getSubstsAndIndc","listPdct","selectedPdct","lstSubst","listGroupPdct","formResult","lstIndc","recurrence","getSubsts","_getSubs","getindc","_getIndcs","listIndcSorted","StepFourCreateComponent","dialog","_home","dashboardVisibility","dashboardPendding","dateClass","getDate","getDay","myFilter","_lstIndc","_recurrence","_getDtGrnlr","datesPeriod","getPeriodFromNow","dtPrd","resetDates","resultData","getDtGrnlr","dtGrnlr","sessionToCreate","createBreak","createBreakHldSubst","_createDataEntries","dataEntries","_sendMail","_checkeIfNoUserForLabo","createdBreak","pdctId","idTemplateCreatedSession","pdctToTheMail","pdctByUser","toTimeString","userByPdct","noUserForLabo","open","afterClosed","sessionCreatedSuccess","setDate","getMonth","setHours","setMinutes","setSeconds","setMilliseconds","StepFourUpdateComponent","emitToUpdate","updateSuccess","blockValidate","_getNewPdctAndIndc","updateBreak","updateBreakHldSubst","_sendDataEntry","_getNewPdctIdHld","pdctToCompare","updateError","dtPrdChoose","deleteBreakHldSubst","newPdct","newHld","getDateGrnlrFromNow","_sendMailClosed","toUpdate","indcReference","activeOrValidate","idTemplateClosedSession","newIndcStart","indcStart","indcToCompare","arrayOfIdHld","StepOneComponent","substSended","firstFormSended","nextStep","checkAll","searchPdct","stepOneForm","sessionName","selectedSubst","_updateData","listSubstFound","grp_hld","presentationPdct","listPdctFound","allPdctWithoutFiltre","cond_one","cond_two","nm","cond_three","product","idPdct","idGrp","idSubst","_getPdctHldSubst","getPdctBreak","_resetSelectPdct","StepThreeComponent","resultDataSended","stepThreeForm","labelInput","StepTwoComponent","cdRef","secondeFormSended","_generateLstDrop","detectChanges","querySelector","offsetHeight","order","indexDropNameError","indexDropSubstError","previousContainer","previousIndex","currentIndex","indexLastGrpAdded","lstDrop","checkedGrpIsValid","_createResponse","resetDropList","allIdPdct","UpdateComponent","selectedData","_restoreFirstStep","breaks","getBreaksPending","_getSubsts","getDtCalendar","setAllStepData","_restoreSecondeStep","idsubst","cd_prdc","getPdctBreakUpdate","compare","_restoreThirdStep","UnitComponent","_unitService","supp","initVue","setPdcts","listPdctFoundBySession","formValue","getRawValue","cle","updateOrCreateUnit","slice","cips","list","environment","prototype","ngOnDestroy","subscription"],"mappings":"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AA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,S;;;;;;;;;;;;;;;;;;;ACAb;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,I;;;;;;;;;;;;;;;;;;;ACEb;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,O;;;;;;;;;;;;;;;;;;;ACAb;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,Q;;;;;;;;;;;;;;;;;;;ACFb;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,I;;;;;;;;;;;;;;;;;;;ACAb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA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","file":"main-es5.js","sourcesContent":["var map = {\n\t\"./ar.js\": \"./node_modules/flatpickr/dist/l10n/ar.js\",\n\t\"./at.js\": \"./node_modules/flatpickr/dist/l10n/at.js\",\n\t\"./az.js\": \"./node_modules/flatpickr/dist/l10n/az.js\",\n\t\"./be.js\": \"./node_modules/flatpickr/dist/l10n/be.js\",\n\t\"./bg.js\": \"./node_modules/flatpickr/dist/l10n/bg.js\",\n\t\"./bn.js\": \"./node_modules/flatpickr/dist/l10n/bn.js\",\n\t\"./bs.js\": \"./node_modules/flatpickr/dist/l10n/bs.js\",\n\t\"./cat.js\": \"./node_modules/flatpickr/dist/l10n/cat.js\",\n\t\"./cs.js\": \"./node_modules/flatpickr/dist/l10n/cs.js\",\n\t\"./cy.js\": \"./node_modules/flatpickr/dist/l10n/cy.js\",\n\t\"./da.js\": \"./node_modules/flatpickr/dist/l10n/da.js\",\n\t\"./de.js\": \"./node_modules/flatpickr/dist/l10n/de.js\",\n\t\"./default.js\": \"./node_modules/flatpickr/dist/l10n/default.js\",\n\t\"./eo.js\": \"./node_modules/flatpickr/dist/l10n/eo.js\",\n\t\"./es.js\": \"./node_modules/flatpickr/dist/l10n/es.js\",\n\t\"./et.js\": \"./node_modules/flatpickr/dist/l10n/et.js\",\n\t\"./fa.js\": \"./node_modules/flatpickr/dist/l10n/fa.js\",\n\t\"./fi.js\": \"./node_modules/flatpickr/dist/l10n/fi.js\",\n\t\"./fo.js\": \"./node_modules/flatpickr/dist/l10n/fo.js\",\n\t\"./fr.js\": \"./node_modules/flatpickr/dist/l10n/fr.js\",\n\t\"./ga.js\": \"./node_modules/flatpickr/dist/l10n/ga.js\",\n\t\"./gr.js\": \"./node_modules/flatpickr/dist/l10n/gr.js\",\n\t\"./he.js\": \"./node_modules/flatpickr/dist/l10n/he.js\",\n\t\"./hi.js\": \"./node_modules/flatpickr/dist/l10n/hi.js\",\n\t\"./hr.js\": \"./node_modules/flatpickr/dist/l10n/hr.js\",\n\t\"./hu.js\": \"./node_modules/flatpickr/dist/l10n/hu.js\",\n\t\"./id.js\": \"./node_modules/flatpickr/dist/l10n/id.js\",\n\t\"./index.js\": \"./node_modules/flatpickr/dist/l10n/index.js\",\n\t\"./is.js\": \"./node_modules/flatpickr/dist/l10n/is.js\",\n\t\"./it.js\": \"./node_modules/flatpickr/dist/l10n/it.js\",\n\t\"./ja.js\": \"./node_modules/flatpickr/dist/l10n/ja.js\",\n\t\"./ka.js\": \"./node_modules/flatpickr/dist/l10n/ka.js\",\n\t\"./km.js\": \"./node_modules/flatpickr/dist/l10n/km.js\",\n\t\"./ko.js\": \"./node_modules/flatpickr/dist/l10n/ko.js\",\n\t\"./kz.js\": \"./node_modules/flatpickr/dist/l10n/kz.js\",\n\t\"./lt.js\": \"./node_modules/flatpickr/dist/l10n/lt.js\",\n\t\"./lv.js\": \"./node_modules/flatpickr/dist/l10n/lv.js\",\n\t\"./mk.js\": \"./node_modules/flatpickr/dist/l10n/mk.js\",\n\t\"./mn.js\": \"./node_modules/flatpickr/dist/l10n/mn.js\",\n\t\"./ms.js\": \"./node_modules/flatpickr/dist/l10n/ms.js\",\n\t\"./my.js\": \"./node_modules/flatpickr/dist/l10n/my.js\",\n\t\"./nl.js\": \"./node_modules/flatpickr/dist/l10n/nl.js\",\n\t\"./no.js\": \"./node_modules/flatpickr/dist/l10n/no.js\",\n\t\"./pa.js\": \"./node_modules/flatpickr/dist/l10n/pa.js\",\n\t\"./pl.js\": \"./node_modules/flatpickr/dist/l10n/pl.js\",\n\t\"./pt.js\": \"./node_modules/flatpickr/dist/l10n/pt.js\",\n\t\"./ro.js\": \"./node_modules/flatpickr/dist/l10n/ro.js\",\n\t\"./ru.js\": \"./node_modules/flatpickr/dist/l10n/ru.js\",\n\t\"./si.js\": \"./node_modules/flatpickr/dist/l10n/si.js\",\n\t\"./sk.js\": \"./node_modules/flatpickr/dist/l10n/sk.js\",\n\t\"./sl.js\": \"./node_modules/flatpickr/dist/l10n/sl.js\",\n\t\"./sq.js\": \"./node_modules/flatpickr/dist/l10n/sq.js\",\n\t\"./sr-cyr.js\": \"./node_modules/flatpickr/dist/l10n/sr-cyr.js\",\n\t\"./sr.js\": \"./node_modules/flatpickr/dist/l10n/sr.js\",\n\t\"./sv.js\": \"./node_modules/flatpickr/dist/l10n/sv.js\",\n\t\"./th.js\": \"./node_modules/flatpickr/dist/l10n/th.js\",\n\t\"./tr.js\": \"./node_modules/flatpickr/dist/l10n/tr.js\",\n\t\"./uk.js\": \"./node_modules/flatpickr/dist/l10n/uk.js\",\n\t\"./uz.js\": \"./node_modules/flatpickr/dist/l10n/uz.js\",\n\t\"./uz_latn.js\": \"./node_modules/flatpickr/dist/l10n/uz_latn.js\",\n\t\"./vn.js\": \"./node_modules/flatpickr/dist/l10n/vn.js\",\n\t\"./zh-tw.js\": \"./node_modules/flatpickr/dist/l10n/zh-tw.js\",\n\t\"./zh.js\": \"./node_modules/flatpickr/dist/l10n/zh.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/flatpickr/dist/l10n sync recursive ^\\\\.\\\\/.*\\\\.js$\";","var map = {\n\t\"./locale\": \"./node_modules/moment-mini/locale/locale.js\",\n\t\"./locale.js\": \"./node_modules/moment-mini/locale/locale.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment-mini/locale sync recursive ^\\\\.\\\\/.*$\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","\n    <router-outlet></router-outlet>\n    <div class=\"copyright\">{{copyright}}</div>\n    ","import { Component } from '@angular/core';\n\nimport { LanguageService } from './services/language/language.service';\nimport { version } from '../../package.json';\n\n@Component({\n    selector: 'app-leem',\n    template: `\n    <router-outlet></router-outlet>\n    <div class=\"copyright\">{{copyright}}</div>\n    `\n})\n\nexport class AppComponent {\n    public copyright;\n    constructor(\n        private languageService: LanguageService\n    ) {\n        this.languageService.init();\n        this._copyright();\n    }\n\n    private _copyright() {\n        this.copyright = `© Connexin ${new Date().getUTCFullYear()} | version ${version} | Tous droits réservés`;\n\n    }\n}\n","import { NgModule, APP_INITIALIZER, LOCALE_ID } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RoutingModule } from './app.routing';\nimport { AppComponent } from './app.component';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { OrderModule } from 'ngx-order-pipe';\nimport { DatePipe } from '@angular/common';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { AngularSlickgridModule } from 'angular-slickgrid';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MAT_DATE_LOCALE } from '@angular/material/core';\nimport { registerLocaleData } from '@angular/common';\nimport localeFr from '@angular/common/locales/fr';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { RecaptchaModule, RECAPTCHA_BASE_URL } from 'ng-recaptcha';\n\nregisterLocaleData(localeFr);\n\nimport {\n    Interceptor,\n    ErrorInterceptor,\n    LoaderInterceptor\n} from './helpers';\nimport {\n    OrderUtils\n} from './utils';\nimport {\n    ConfigService,\n    LanguageService,\n    AuthenticationService,\n    RequestService,\n    BreakService,\n    DataEntryService,\n    LoaderService,\n    RolesService,\n    UserService,\n    IndicatifsService,\n    MailerService,\n    LogsService,\n    GridDataService,\n    DashboardService,\n    ExcelService,\n    HomeService,\n    UnitService,\n    RECAPTCHA_URL,\n    CacheService\n} from './services';\nimport {\n    ViewComponent,\n    LoginComponent,\n    LoginFormComponent,\n    HomeComponent,\n    SmsFormComponent,\n    DataEntryComponent,\n    DashboardComponent,\n    StepOneComponent,\n    StepTwoComponent,\n    StepThreeComponent,\n    StepFourCreateComponent,\n    DataEntryFormComponent,\n    DataEntryFormInputComponent,\n    DataEntryGridComponent,\n    DataDciComponent,\n    GraphicViewComponent,\n    CreateComponent,\n    StepFourUpdateComponent,\n    UpdateComponent,\n    ProfilUserComponent,\n    DetailUserComponent,\n    GraphViewComponent,\n    ProfilComponent,\n    DataEntryTrackingComponent,\n    UnitComponent,\n    LaboratoireComponent,\n    EditorNgSelectComponent,\n} from './view';\nimport {\n    HighlightTitleComponent,\n    IconTextComponent,\n    FormulaireComponent,\n    DropdownComponent,\n    NavbarComponent,\n    RedirectionComponent,\n    NoUserForLaboComponent,\n    ReCaptchaComponent\n} from './shared';\n\n@NgModule({\n    imports: [\n        AngularSlickgridModule.forRoot(),\n        BrowserModule,\n        RoutingModule,\n        HttpClientModule,\n        TranslateModule.forRoot(),\n        ReactiveFormsModule,\n        FormsModule,\n        BrowserAnimationsModule,\n        DragDropModule,\n        MatProgressSpinnerModule,\n        OrderModule,\n        MatDialogModule,\n        MatInputModule,\n        MatDatepickerModule,\n        MatNativeDateModule,\n        NgSelectModule,\n        RecaptchaModule\n    ],\n    declarations: [\n        /**\n         * VIEWS\n         */\n        AppComponent,\n        ViewComponent,\n        LoginComponent,\n        LoginFormComponent,\n        SmsFormComponent,\n        HomeComponent,\n        DataEntryComponent,\n        DashboardComponent,\n        StepOneComponent,\n        StepTwoComponent,\n        StepThreeComponent,\n        StepFourCreateComponent,\n        DataEntryFormComponent,\n        DataEntryFormInputComponent,\n        DataEntryGridComponent,\n        DataDciComponent,\n        GraphicViewComponent,\n        CreateComponent,\n        UpdateComponent,\n        ProfilUserComponent,\n        DetailUserComponent,\n        GraphViewComponent,\n        ProfilComponent,\n        DataEntryTrackingComponent,\n        UnitComponent,\n        LaboratoireComponent,\n        EditorNgSelectComponent,\n        /**\n         * SHARED\n         */\n        HighlightTitleComponent,\n        IconTextComponent,\n        FormulaireComponent,\n        DropdownComponent,\n        NavbarComponent,\n        RedirectionComponent,\n        StepFourUpdateComponent,\n        NoUserForLaboComponent,\n        ReCaptchaComponent\n    ],\n    entryComponents: [\n        NoUserForLaboComponent,\n        EditorNgSelectComponent\n    ],\n    providers: [\n        /**\n         * SHARED\n         */\n        ConfigService,\n        LanguageService,\n        AuthenticationService,\n        RequestService,\n        BreakService,\n        DataEntryService,\n        UserService,\n        LoaderService,\n        RolesService,\n        DatePipe,\n        IndicatifsService,\n        MailerService,\n        LogsService,\n        GridDataService,\n        DashboardService,\n        ExcelService,\n        HomeService,\n        UnitService,\n        CacheService,\n        /**\n         * UTILS\n         */\n        OrderUtils,\n        {\n            provide: MAT_DATE_LOCALE,\n            useValue: 'fr-FR'\n        },\n        {\n            provide: MAT_FORM_FIELD_DEFAULT_OPTIONS,\n            useValue: {\n                appearance: 'fill'\n            }\n        },\n        {\n            provide: HTTP_INTERCEPTORS,\n            useClass: Interceptor,\n            multi: true\n        },\n        {\n            provide: HTTP_INTERCEPTORS,\n            useClass: ErrorInterceptor,\n            multi: true\n        },\n        {\n            provide: HTTP_INTERCEPTORS,\n            useClass: LoaderInterceptor,\n            multi: true\n        },\n        {\n            provide: APP_INITIALIZER,\n            useFactory: (config: ConfigService) => () => config.init(),\n            deps: [ConfigService],\n            multi: true\n        },\n        {\n            provide: LOCALE_ID,\n            useValue: 'fr-FR'\n        },\n        {\n          provide: RECAPTCHA_BASE_URL,\n          useValue: RECAPTCHA_URL, // use recaptcha.net script source\n        },\n    ],\n    bootstrap: [\n        AppComponent\n    ]\n})\n\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AuthenticationService } from '../services';\n\n\n@Injectable({ providedIn: 'root' })\nexport class AuthGuard implements CanActivate {\n    constructor(\n        private router: Router,\n        private authenticationService: AuthenticationService\n    ) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        const currentUser = this.authenticationService.currentUserValue;\n        if (currentUser && currentUser.jwt && currentUser.sms && currentUser.sms === 'isValid') {\n            return true;\n        }\n\n        // not logged in so redirect to login page with the return url\n        this.router.navigate(['view/login'], { queryParams: { returnUrl: state.url } });\n        return false;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot } from '@angular/router';\nimport { AuthenticationService, RolesService } from '../services';\n\ninterface ErrorQueryParams {\n    returnUrl: string;\n    sessionExpired?: boolean;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class RoleGuard implements CanActivate {\n    constructor(\n        private authenticationService: AuthenticationService,\n        private roles: RolesService\n    ) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        const currentUser = this.authenticationService.currentUserValue;\n        switch (state.url) {\n            case '/view/home':\n                if (currentUser && this.roles.dataentry.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/users':\n                if (currentUser && this.roles.admin.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/soldOut/create':\n                if (currentUser && this.roles.admin.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/soldOut/update':\n                if (currentUser && this.roles.admin.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/dataEntryTracking':\n                if (currentUser && this.roles.admin.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/dataEntry':\n                if (currentUser && this.roles.dataentry.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/unit':\n                if (currentUser && this.roles.admin.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/laboratoire':\n                if (currentUser && this.roles.admin.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n            case '/view/dashboard':\n                if (currentUser && this.roles.dashboard.find(x => x === currentUser.role)) {\n                    return true;\n                }\n                break;\n        }\n        return false;\n    }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { AuthenticationService, LogsService } from 'src/app/services';\n@Injectable({\n  providedIn: 'root'\n})\nexport class Interceptor implements HttpInterceptor {\n    private readonly _urlsAvoid = {\n        login: 'api/auth/*',\n        api: 'api/query'\n    };\n    constructor(\n        private readonly _authenticationService: AuthenticationService,\n        private readonly _logs: LogsService,\n    ) {}\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        // Exclude interceptor for login request\n        const currentUser = this._authenticationService.currentUserValue;\n        if (req.url.search(this._urlsAvoid.login) === -1)  {\n            // set jwt in header request if loggedIn\n            if (currentUser && currentUser.jwt) {\n                req = req.clone({\n                    setHeaders: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${currentUser.jwt}`\n                    }\n                });\n            }\n        }\n        return next.handle(req)\n        .pipe(\n            tap(\n                data => {\n                    if (data.type === 0 ) {\n                        return;\n                    }\n                    this._logs.registerLogs(req, data, currentUser);\n                },\n                err => {\n                    this._logs.registerLogs(req, err, currentUser);\n                }\n            )\n        );\n    }\n}\n\n\n\n\n\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { AuthenticationService } from 'src/app/services';\n\ninterface ErrorQueryParams {\n    returnUrl: string;\n    sessionExpired?: boolean;\n}\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n    constructor(\n        private authenticationService: AuthenticationService,\n        private router: Router,\n        ) { }\n\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n        return next.handle(request).pipe(catchError(err => {\n            if (err.status === 401) {\n                // auto logout if 401 response returned from api\n                this.authenticationService.logout();\n\n                // redirect to error page\n                const queryParams: ErrorQueryParams = {\n                    returnUrl: this.router.url,\n                    sessionExpired: true\n                };\n                this.router.navigate(['error'], { queryParams: queryParams });\n            }\n            return throwError(err);\n        }));\n    }\n}\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { LoaderService } from 'src/app/services';\n\n\n@Injectable()\nexport class LoaderInterceptor implements HttpInterceptor {\n    private templateAvoid = [\n      'insert_logs.tpl',\n      null\n    ]\n    constructor(private loader: LoaderService) { }\n\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n      const template = request.body && request.body.template ? request.body.template : null;\n      !this.templateAvoid.includes(template) ? this.loader.startingDataLoading() : undefined;\n      return next.handle(request).pipe(\n        map(\n          (response: any) => {\n            if (response.url) {\n              setTimeout(() => {                \n                !this.templateAvoid.includes(template) ? this.loader.endingDataLoading() : undefined;\n              }, 1000);\n            }\n            return response;\n          }\n        ),\n        catchError(\n          (error: any) => {\n            setTimeout(() => {\n                this.loader.endingDataLoading();\n              }, 1000);\n            return throwError(error);\n          }\n        )\n      );\n    }\n}\n","import { Data } from '.';\n\nexport class PdctHldSubst {\n    cd_cis?: number;\n    cd_cip7?: number;\n    cd_cip13: number;\n    nm_medic?: string;\n    id_hld?: number;\n    nm_hld?: string;\n    cd_subst?: number;\n    cd_hld_typ?: string;\n    nm_subst?: string;\n    ll_prest?: string;\n    data?: Data;\n    error?: boolean;\n    class?: string;\n    form?: string;\n    dose?: string;\n    unit?: string;\n    coef?: number;\n    commercialise?: boolean;\n    listGrp?: Array<any>;\n}\n","export class Break {\n    id_break?: number;\n    nb_vers?: number;\n    cd_grnlr: string;\n    jlst_indc: any;\n    jlst_subst: any;\n    fl_break_actvt: number;\n    ds_break?: string;\n    de_break?: Date;\n    ts_crt?: string;\n    nm_break?: string;\n    visibility?: boolean;\n}\n","export class ChartImagesModel {\n    name: string;\n    url: string;\n}\n","export class CouvertureStockModel {\n    labo: string;\n    idlabo: number;\n    nmgrp: number;\n    data: DataCouvertureStock;\n    consoDataMissing: boolean;\n    lastDt: string;\n}\n\nexport class DataCouvertureStock {\n    date_stock: Array<string>;\n    valeur: Array<number>;\n    conso_moyenne_hebdo_medicam: Array<number>;\n    conso_moyenne_hebdo_gers: Array<number>;\n    ecart_stock_besoins_medicam: Array<number>;\n}\n\n\n","import { DataEntry } from '.';\n\nexport class Data {\n    date?: string;\n    startDate?: string;\n    endDate?: string;\n    nextDtGrnlr?: string;\n    recurrentData: Array<DataEntry>;\n    startingData: Array<DataEntry>;\n}\n","import { Data, Break } from '.';\n\nexport class DataBreak {\n    break: Break;\n    data?: Data;\n    archivedDataByDate?: Array<Data>;\n    idHld?: Array<number>;\n}\n","import { Indc, Break } from '.';\n\nexport class DataEntry {\n    id_break?: Break;\n    id_session?: number;\n    id_hld: number;\n    cd_cip13: number;\n    id_indc?: Indc;\n    id_indic?: number;\n    cd_stat_entry?: string;\n    id_usr_crt?: number;\n    id_usr_vld?: number;\n    ts_crt?: Date;\n    ts_lst_upd?: Date;\n    val_indc?: number;\n    ts_vld?: string;\n    dt_grnlr?: string;\n    fl_indc_mdty?: number;\n    start_periode?: string;\n    end_periode?: string;\n    next_dt_grnlr?: string;\n}\n","export class DataEntryTrackingModel {\n    idsession: number;\n    idlabo: number;\n    namelabo: string;\n    navindex: number;\n    info: Array<Info>;\n    selectedCurrentDate?: Date;\n    selectedLastDate?: Date;\n}\n\nclass Info {\n    dtgrnlr: string;\n    periodecourante: Date;\n    lastupdate: Date;\n    totalindc: number;\n    savedindc: number;\n    validatedindc: number;\n    archivedindc: number;\n    rejectedindc: number;\n    failedindc: number;\n}\n\n\n","export class DataHldDashboardAModel {\n    dates: string[];\n    dataHld: DataHld[];\n}\n\nexport class DataHld {\n    name: string;\n    cip7: number;\n    cip13: number;\n    cis: number;\n    subst: string;\n    lib: string;\n    presentation: string;\n    form: string;\n    dose: string;\n    unit: string;\n    valgers: number;\n    valmedicam: number;\n    sales: Sales[];\n    salesAverage: Sales[];\n    namecolumn: string;\n    stock: string;\n    dtstockstart: string;\n    dtstockend: string;\n}\n\nexport class Sales {\n    name: string;\n    sale: number;\n}\n","export class DataPartOfMarketModel {\n    id_session: number;\n    id_labo: number;\n    lb_grp: string;\n    id_mth: number;\n    dt_mth: Date;\n    value_hld: number;\n    value_total: number;\n    part_of_market: number;\n}\n\n\n","export class DatesBySessionModel {\n    id_break: number;\n    dates: Array<string>;\n}\n","import { PdctHldSubst } from '.';\n\nexport class DropGroup {\n    name: string;\n    presentation: Array<PdctHldSubst>;\n}\n","export class EtatDuMarcheModel {\n    labo: string;\n    idlabo: number;\n    nmgrp: number;\n    data: Array<DataEtatDuMarche>;\n    consoDataMissing: boolean;\n}\n\nexport class DataEtatDuMarche {\n    name: string;\n    courbe: string;\n    color: string;\n    dataByDate: Array<DataByDate>;\n}\n\nexport class DataByDate {\n    iddate: string;\n    date: string;\n    etat_marche: number;\n}\n\nexport class Params {\n    id_break: number;\n    id_hld: Array<number>;\n    cd_cip13: Array<number>;\n    lb_grp: string;\n    dt_grnlr: string;\n    cd_grnlr: string;\n    total: boolean;\n    allHld: Array<number>;\n    indc: Array<number>;\n}\n\n\n","import { Subst, PdctHldSubst } from '.';\n\nexport class FirstStep {\n    name?: string;\n    subst?: Array<Subst>;\n    SelectPdct?: Array<PdctHldSubst>;\n}\n","\nexport class Granularite {\n    value?: string;\n    text?: string;\n}\n","import { GridDataRow } from './gridDataRow.class';\nimport { DataEntry } from './dataEntry';\nimport { IndcTypes } from './indcTypes.enum';\n\nexport class GridCellData {\n    public cd_cip13: number;\n    public cd_stat_entry: string;\n    public dt_grnlr: string;\n    public id_break: number;\n    public id_hld: number;\n    public id_indc: number;\n    public id_usr_crt: number;\n    public id_usr_vld: number;\n    public ts_crt: Date;\n    public ts_lst_upd: Date;\n    public ts_vld: Date | string;\n    public val_indc: number | string;\n    public cd_indc_typ: string;\n\n    constructor(_: DataEntry, dataRow: GridDataRow) {\n        this.cd_cip13 = _.cd_cip13;\n        this.cd_stat_entry = _.cd_stat_entry;\n        this.dt_grnlr = _.dt_grnlr;\n        this.id_break = _.id_break.id_break;\n        this.id_hld = _.id_hld;\n        this.id_indc = _.id_indc.id_indc;\n        this.ts_lst_upd = new Date();\n        this.ts_crt = new Date(_.ts_crt);\n        this.val_indc = dataRow[_.id_indc.cd_indc];\n        this.cd_indc_typ = _.id_indc.cd_indc_typ;\n        if (_.id_indc.cd_indc_typ === IndcTypes.NUMBER) {\n            const val: number = parseInt(dataRow[_.id_indc.cd_indc], 10);\n            this.val_indc = isNaN(val) ? null : val;\n        }\n    }\n}\n","import { GridCellData } from './gridCellData.class';\nimport { DataEntry } from './dataEntry';\nimport { GridDataRow } from './gridDataRow.class';\n\nexport class GridCellToCreate extends GridCellData {\n\n    constructor(_: DataEntry, dataRow: GridDataRow) {\n        super(_, dataRow);\n        this.cd_stat_entry = 'toValidated';\n        this.id_usr_crt = dataRow.idUser;\n        this.id_usr_crt = -1;\n        this.id_usr_vld = -1;\n        this.ts_crt = new Date();\n        this.ts_lst_upd = new Date();\n        this.ts_vld = 'null';\n        this.val_indc = -1;\n    }\n}\n","import { GridCellData } from './gridCellData.class';\nimport { DataEntry } from './dataEntry';\nimport { GridDataRow } from './gridDataRow.class';\n\nexport class GridCellToSave extends GridCellData {\n\n    constructor(_: DataEntry, dataRow: GridDataRow) {\n        super(_, dataRow);\n        this.id_usr_crt = dataRow.idUser;\n        this.id_usr_vld = -1;\n    }\n}\n","import { GridCellData } from './gridCellData.class';\nimport { DataEntry } from './dataEntry';\nimport { GridDataRow } from './gridDataRow.class';\n\nexport class GridCellToValidate extends GridCellData {\n\n    constructor(_: DataEntry, dataRow: GridDataRow) {\n        super(_, dataRow);\n        this.id_usr_crt = (_.id_usr_crt === null ? dataRow.idUser : _.id_usr_crt);\n        this.id_usr_vld = dataRow.idUser;\n        this.cd_stat_entry = 'validated';\n        this.ts_vld = new Date();\n    }\n}\n","import { PdctHldSubst } from './PdctHldSubst';\nimport { GridDataType } from './gridDataType.enum';\nimport { DataEntry } from './dataEntry';\nimport { GridCellToSave } from './gridCellToSave.class';\nimport { GridCellToValidate } from './gridCellToValidate.class';\nimport { GridCellToCreate } from './gridCellToCreate.class';\nimport { IndcTypes } from './indcTypes.enum';\n\nexport class GridDataRow {\n    public id: number;\n    public cd_cip13: number;\n    public nm_medic: string;\n    public ll_prest: string;\n    public idUser: number;\n\n    private _dataType: GridDataType;\n    private _rowOrigin: PdctHldSubst;\n\n    constructor(_: PdctHldSubst, dataType: GridDataType, idUser: number) {\n        this.id = _.cd_cip13;\n        this.cd_cip13 = _.cd_cip13;\n        this.nm_medic = _.nm_medic;\n        this.ll_prest = _.ll_prest;\n        this._rowOrigin = _;\n        this._dataType = dataType;\n        this.idUser = idUser;\n        _.data[dataType].forEach(d => this[d.id_indc.cd_indc] = d.val_indc);\n    }\n\n    get canValidate(): boolean {\n        let canValidate = true;\n        this._rowOrigin.data[this._dataType].forEach(d => {\n            if (d.id_indc.fl_indc_mdty === 1\n            && (this._hasValueChanged(d) || d.cd_stat_entry !== 'toValidated')) {\n                canValidate = false;\n            }\n        });\n        return canValidate;\n    }\n\n    get nbEmptyValue(): number {\n        return this._rowOrigin.data[this._dataType].reduce((count, d) => {\n            const val: string | number = this[d.id_indc.cd_indc];\n            if (d.id_indc.fl_indc_mdty === 1 && (val === null || val === '')) {\n                count++;\n            }\n            return count;\n        }, 0);\n    }\n\n    get dataToSave(): Array<GridCellToSave> {\n        return this._rowOrigin.data[this._dataType]\n            .filter(this._hasValueChanged.bind(this))\n            .map(d => new GridCellToSave(d, this));\n    }\n\n    get dataToValidate(): Array<GridCellToValidate> {\n        return this._rowOrigin.data[this._dataType]\n            .map(d => new GridCellToValidate(d, this));\n    }\n\n    get dataToCreate(): Array<GridCellToCreate> {\n        return this._rowOrigin.data[this._dataType]\n            .map(d => new GridCellToCreate(d, this));\n    }\n\n    private _hasValueChanged(d: DataEntry): boolean {\n        const currVal: string|number = this[d.id_indc.cd_indc];\n        const origVal: string|number = d.val_indc;\n        const typeVal: string = d.id_indc.cd_indc_typ;\n        if (currVal === origVal) {\n            return false;\n        } else if (currVal === null || currVal === '') {\n            return origVal !== null;\n        } else if (origVal === null) {\n            return currVal !== null && currVal !== '';\n        } else if (typeVal === IndcTypes.TEXT) {\n            return currVal !== origVal;\n        } else if (typeVal === IndcTypes.NUMBER) {\n            return parseInt(currVal as string, 10) !== parseInt(origVal.toString(), 10)\n            && currVal !== origVal;\n        }\n    }\n}\n","export enum GridDataType {\n    RECURRENT = 'recurrentData',\n    STARTING = 'startingData'\n}\n","import { GridDataType } from './gridDataType.enum';\n\nexport class GridIconsRef {\n    public [GridDataType.RECURRENT]: string;\n    public [GridDataType.STARTING]: string;\n\n    private _baseIconPath: string = 'ansm_icons/';\n\n    constructor() {\n        this[GridDataType.RECURRENT] = `${this._baseIconPath}recurrent.svg`;\n        this[GridDataType.STARTING] = `${this._baseIconPath}starting.svg`;\n    }\n}\n","export class Group {\n    id?: number;\n    number?: string;\n    name: string;\n    subst?: number;\n    presentation?: Array<any>;\n}\n\nexport class Groupes {\n    grp_name: string;\n    code_prdt?: Array<number>;\n    code_pdct?: Array<number>;\n}\n","export class Indc {\n    id_indc: number;\n    cd_indc: string;\n    ll_indc?: string;\n    sl_indc?: string;\n    cd_indc_faml?: string;\n    cd_indc_typ?: string;\n    cd_indc_fonc?: string;\n    nb_ord?: number;\n    fl_indc_mdty?: number;\n    dt_start_indc?: Date;\n    dt_end_indc?: Date;\n    lb_date?: string;\n}\n","export enum IndcTypes {\n    NUMBER = 'NUM',\n    TEXT = 'TEXT'\n}\n","export * from './user';\nexport * from './group';\nexport * from './data';\nexport * from './lstSubst';\nexport * from './subst';\nexport * from './lstIndc';\nexport * from './indc';\nexport * from './labo';\nexport * from './break';\nexport * from './firstStep';\nexport * from './secondStep';\nexport * from './thirdStep';\nexport * from './PdctHldSubst';\nexport * from './dropGroup';\nexport * from './granularite';\nexport * from './dataEntry';\nexport * from './dataBreak';\nexport * from './indicatif';\nexport * from './mail';\nexport * from './chartImagesModel';\nexport * from './gridCallbackArgs.interface';\nexport * from './gridDataRow.class';\nexport * from './gridDataType.enum';\nexport * from './gridIconsRef.class';\nexport * from './gridCellData.class';\nexport * from './gridCellToSave.class';\nexport * from './gridCellToValidate.class';\nexport * from './datesBySessionModel';\nexport * from './indcTypes.enum';\nexport * from './etatDuMarcheModel';\nexport * from './couvertureStockModel';\nexport * from './simulateurMedicamModel';\nexport * from './simulateurGersModel';\nexport * from './previsionnelGersModel';\nexport * from './previsionnelMedicamModel';\nexport * from './dataEntryTrackingModel';\nexport * from './dataPartOfMarketModel';\nexport * from './dataHldDashboardAModel';\nexport * from './pdctUnitModel';\nexport * from './laboratoireModel';\nexport * from './PdctForMail';\n","export class Indicatif {\n    pays: string;\n    indc: string;\n}\n\n","export class Labo {\n    id_hld: number;\n    nm_hld: string;\n    dt_feed?: string;\n    dt_oper?: Date;\n    type?: string;\n}\n","import { Indc } from '.';\n\nexport class LstIndc {\n    startingData: Array<Indc>;\n    recurrentData: Array<Indc>;\n}\n","import {Groupes} from '.';\n\nexport class LstSubst {\n     code_subst: number;\n     groupes: Array<Groupes>;\n}\n","export class Mail {\n    email_address: string;\n    template_id: number;\n    name: string;\n    var_session: string;\n    var_username?: string;\n    var_labo: string;\n    var_produits?: Array<any>;\n    var_indicateurs?: Array<any>;\n    var_nom?: string;\n    var_prenom?: string;\n}\n\n","export class PrevisionnelGersModel {\n    labo: string;\n    idlabo: number;\n    nmgrp: number;\n    data: PrevisionnelGersStock;\n    consoDataMissing: boolean;\n    lastDt: string;\n}\n\nexport class PrevisionnelGersStock {\n    date_stock: Array<string>;\n    stk_gers_affich: Array<number>;\n    stk_affich: Array<number>;\n    ventes_gers: Array<number>;\n    stk_gers_color: string;\n}\n\n\n","export class PrevisionnelMedicamModel {\n    labo: string;\n    idlabo: number;\n    nmgrp: number;\n    data: PrevisionnelMedicamStock;\n    consoDataMissing: boolean;\n    lastDt: string;\n}\n\nexport class PrevisionnelMedicamStock {\n    date_stock: Array<string>;\n    stk_medicam_affich: Array<number>;\n    stk_affich: Array<number>;\n    ventes_medicam: Array<number>;\n    stk_medicam_color: string;\n}\n\n\n","import { PdctHldSubst, LstSubst } from '.';\n\nexport class SecondStep {\n    listPdct?: Array<PdctHldSubst>;\n    listGroupPdct?: Array<LstSubst>;\n}\n","export class SimulateurGersModel {\n    labo: string;\n    idlabo: number;\n    nmgrp: number;\n    data: SimulateurGersStock;\n    consoDataMissing: boolean;\n    lastDt: string;\n}\n\nexport class SimulateurGersStock {\n    date_stock: Array<string>;\n    stck_reel: Array<number>;\n    stk_gers_prev: Array<number>;\n    ventes_gers: Array<number>;\n    Stock_moins_ventes_gers: Array<number>;\n    approvisionnement: Array<number>;\n}\n\n\n","export class SimulateurMedicamModel {\n    labo: string;\n    idlabo: number;\n    nmgrp: number;\n    data: SimulateurMedicamStock;\n    consoDataMissing: boolean;\n    lastDt: string;\n}\n\nexport class SimulateurMedicamStock {\n    date_stock: Array<string>;\n    stck_reel: Array<number>;\n    stk_medicam_prev: Array<number>;\n    ventes_medicam: Array<number>;\n    Stock_moins_ventes_medicam: Array<number>;\n    approvisionnement: Array<number>;\n}\n\n\n","export class Subst {\n    cd_subst: number;\n    nm_subst: string;\n    dt_feed?: string;\n    dt_oper?: string;\n}\n","import { LstIndc } from '.';\n\nexport class ThirdStep {\n    listIndcSorted?: LstIndc;\n    lstIndc: Array<number>;\n    recurrence: string;\n}\n","\nexport class User {\n    id?: number;\n    username: string;\n    lastName?: string;\n    firstName?: string;\n    email?: string;\n    labo?: number;\n    laboName?: string;\n    tel?: string;\n    password?: string;\n    status?: boolean;\n    role?: string;\n    jwt?: string;\n    sms?: string;\n}\n","export * from './laboratoire.service';\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { LaboratoireModel } from 'src/app/models';\nimport { RequestService } from 'src/app/services/request.service';\nimport { AuthenticationService } from '../authentication.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class LaboratoireService {\n  private _laboratoires: Array<LaboratoireModel>;\n  get getLaboratoires(): Array<LaboratoireModel> { return this._laboratoires; }\n  set setLaboratoires(laboratoires: Array<LaboratoireModel>) { this._laboratoires = laboratoires; }\n\n  constructor(\n    private readonly _Request: RequestService,\n    private readonly _authenticationService: AuthenticationService\n  ) { }\n\n       /**\n    * @author Jeremy da Costa\n    * @name nextIdGrp\n    * @description\n    */\n   public nextIdGrp(): Observable<number> {\n    const params = {\n        'id_user': this._authenticationService.currentUserValue.id\n    };\n    return this._Request.post('list_id_hld_seq.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return Number(response.body.rows[0][0]);\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n     /**\n    * @author Jeremy da Costa\n    * @name listOfLaboratories\n    * @description\n    *    request that set and return all laboratoiries from oper database and table <sur_key_hld>\n    */\n  public listOfLaboratories(): Observable<Array<LaboratoireModel>> {\n    const params = {\n        'id_user': this._authenticationService.currentUserValue.id\n    };\n    return this._Request.post('list_sur_key_hld.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const laboratories: Array<LaboratoireModel> = new Array;\n        response.body.rows.forEach((el: Array<any>, index: number) => {\n          const laboratory = {} as LaboratoireModel;\n          laboratory.idhld = el[0];\n          laboratory.namehld = el[1];\n          laboratory.src = el[2];\n          laboratory.code = el[3];\n          laboratory.modified = el[4];\n          laboratory.idsubsdry = el[5];\n          laboratory.nmsubsdry = el[6];\n          laboratory.isUse = el[7];\n          laboratory.isUser = el[8];\n          laboratories.push(laboratory);\n        });\n        this.setLaboratoires = laboratories;\n        return laboratories;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n  public updateLaboratories(data: Array<LaboratoireModel>): Observable<any> {\n    const params = {\n      'id_user': this._authenticationService.currentUserValue.id,\n      'results': data\n    };\n    return this._Request.post('update_sur_key.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        let ok = -1;\n        response.body.rows.forEach((element: Array<any>) => {\n          ok = 1;\n        });\n        return ok;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n}\n","import { HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\nimport { User } from '../models';\nimport { RequestService } from './request.service';\nimport { RolesService } from './roles';\n\n\n@Injectable({ providedIn: 'root' })\nexport class AuthenticationService {\n    public currentUser: Observable<User>;\n    public loginCheck: string;\n    public switchSmsToMail: boolean = false;\n    private currentUserSubject: BehaviorSubject<User>;\n    private _userForgetPassword: boolean = false;\n    private _username: string;\n\n    constructor(\n        private requestService: RequestService,\n        private roles: RolesService,\n        private router: Router,\n    ) {\n        this.currentUserSubject = new BehaviorSubject<User>(JSON.parse(localStorage.getItem('currentUser')));\n        this.currentUser = this.currentUserSubject.asObservable();\n    }\n\n    public get currentUserValue(): User {\n        return this.currentUserSubject.value;\n    }\n\n    login(username: AbstractControl, password: AbstractControl): Observable<any> {\n        localStorage.setItem('currentUser', JSON.stringify(null));\n        this.currentUserSubject.next(null);\n        if (environment.production) {\n        return this.requestService.getTokenAndUserDetails(username.value, password.value)\n            .pipe(map(\n                (response: HttpResponse<any>) => {\n                        const jwt = response.body.jwt;\n                        const currentUserInfo = response.body.userDetails.user;\n                        this._registerUserInfo(currentUserInfo, jwt);\n                        this.sendCode(username.value);\n                        // vérifie si le code est toujours valide\n                        // this._smsVerificationValidity(username.value);\n                        return true;\n                },\n                (error) => {\n                    return error;\n                }\n            ));\n        } else {\n            return this.requestService.getTokenAndUserDetails(username.value, password.value)\n            .pipe(map(\n                (response: HttpResponse<any>) => {\n                        const jwt = response.body.jwt;\n                        const currentUserInfo = response.body.userDetails.user;\n                        this._registerUserInfo(currentUserInfo, jwt);\n                        // skip sms verification\n                        this.currentUserValue.sms = 'isValid';\n                        localStorage.setItem('currentUser', JSON.stringify(this.currentUserValue));\n                        this.currentUserSubject.next(this.currentUserValue);\n                        this.redirection();\n                        return true;\n                },\n                (error) => {\n                    return error;\n                }\n            ));\n        }\n    }\n    smsVerificationCode(sms: AbstractControl): Observable<any> {\n        if (this._userForgetPassword) {\n            return this.requestService.postNewPassword(this._username, sms.value)\n            .pipe(map(\n                (response: any) => {\n                    const jwt = response.body.jwt;\n                    const currentUserInfo = response.body.userDetails.user;\n                    this._registerUserInfo(currentUserInfo, jwt);\n                    this.currentUserValue.sms = 'isValid';\n                    localStorage.setItem('currentUser', JSON.stringify(this.currentUserValue));\n                    this.currentUserSubject.next(this.currentUserValue);\n                    this.router.navigate(['view/profil']);\n                    return true;\n                },\n                (error) => {\n                    return error;\n                }\n            ));\n        } else {\n            const params = {\n                'username': this.currentUserValue.username,\n                'sms': sms.value\n            };\n            return this.requestService.post('validity_sms.tpl', params)\n            .pipe(map(\n                (response: any) => {\n                    if (response.body.rows.length > 0 && response.body.rows[0][0] === this.currentUserValue.username) {\n                        this.currentUserValue.sms = 'isValid';\n                        localStorage.setItem('currentUser', JSON.stringify(this.currentUserValue));\n                        this.currentUserSubject.next(this.currentUserValue);\n                        this.redirection();\n                        return true;\n                    } else {\n                        return false;\n                    }\n                },\n                (error) => {\n                return error;\n                }\n            ));\n        }\n    }\n    logout() {\n        // remove user from local storage and set current user to null\n        localStorage.removeItem('currentUser');\n        this.currentUserSubject.next(null);\n    }\n    // get user by mail\n    public getUserByCheck(login: string): Observable<any> {\n        const method = this.switchSmsToMail ? 'mail' : 'sms';\n        localStorage.setItem('currentUser', JSON.stringify(null));\n        this.currentUserSubject.next(null);\n        delete this.loginCheck;\n        this._userForgetPassword = false;\n        delete this._username;\n        return this.requestService.postCheckUser(login, method)\n        .pipe(map(\n            (response: any) => {\n                this.loginCheck = login;\n                this._userForgetPassword = true;\n                this._username = response.body.username;\n                return true;\n            },\n            (error) => {\n                return error;\n            }\n        ));\n    }\n    redirection() {\n        if (this.currentUserValue) {\n            const role = this.currentUserValue.role;\n            if (this.roles.dataentry.find(x => x === role)) {\n                this.router.navigate(['view/home']);\n            } else {\n                this.router.navigate(['view/dashboard']);\n            }\n        } else {\n            return;\n        }\n    }\n    sendCode(username: string) {\n        let contact: string;\n        let url: string;\n        if (!this.switchSmsToMail) {\n            contact = this.currentUserValue.tel;\n            url = 'sms';\n        } else {\n            contact = this.currentUserValue.email;\n            url = 'mail';\n        }\n        this.requestService.postCodeVerification(username, contact, url)\n        .subscribe(\n            (resp) => {\n                return;\n            },\n            (error) => {\n                return;\n            }\n        );\n    }\n    private _registerUserInfo(user: any, jwt: string) {\n        const currentUser: User = {\n            id: user.id,\n            username: user.username,\n            lastName: user.userReferences[0].name,\n            firstName: user.userReferences[0].prenom,\n            email: user.userReferences[0].mail,\n            labo: user.userReferences[0].labo,\n            tel: user.userReferences[0].tel,\n            role: user.role,\n            jwt: jwt\n        };\n        localStorage.setItem('currentUser', JSON.stringify(currentUser));\n        this.currentUserSubject.next(currentUser);\n    }\n    // si le code sms est toujours valide n'envoi pas de sms et redirige vers le site, sinon envoi sms et redirige vers formulaire sms\n    // private _smsVerificationValidity(username: string) {\n    //     const params = {\n    //         'username': username\n    //     };\n    //     return this.requestService.post('validity_sms.tpl', params)\n    //     .subscribe(\n    //         (response: any) => {\n    //             if (response.body.rows.length > 0 && response.body.rows[0][0] === username) {\n    //                 this.currentUserValue.sms = 'isValid';\n    //                 localStorage.setItem('currentUser', JSON.stringify(this.currentUserValue));\n    //                 this.currentUserSubject.next(this.currentUserValue);\n    //                 this.redirection();\n    //                 return;\n    //             } else {\n    //                 this.sendSms(username, this.currentUserValue.tel);\n    //                 return;\n    //             }\n    //         },\n    //         (error) => {\n    //         return;\n    //         }\n    //     );\n    // }\n}\n","import { DatePipe } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Break, PdctHldSubst, User } from 'src/app/models';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class BreakService {\n  private _results: Array<any>;\n\n  constructor(\n    private readonly _Request: RequestService,\n    private readonly _datePipe: DatePipe,\n  ) { }\n  public getDtCalendar(dt: string, cd: string) {\n    const params = {\n      'dt_grnlr': dt,\n      'cd_grnlr': cd\n    };\n    return this._Request.post('list_dt_for_calendar.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return response.body.rows[0][0];\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n  // get PdctHldSubsts (...)\n  public getPdctBreak(id: Array<number>): Observable<any> {\n    let params = {};\n    const set: Set<number> = new Set(id);\n    const newId = Array.from(set.values());\n    params = {\n      'cd_subst': newId\n    };\n    return this._Request.post('list_pdct_create_break.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const result: Array<PdctHldSubst> = [];\n        response.body.rows.forEach((element: Array<any>) => {\n          const pdctHldSubsts = new PdctHldSubst();\n          pdctHldSubsts.cd_cis = element[0];\n          pdctHldSubsts.cd_cip13 = element[1];\n          pdctHldSubsts.cd_subst = element[2];\n          pdctHldSubsts.nm_subst = element[3];\n          pdctHldSubsts.nm_medic = element[4];\n          pdctHldSubsts.ll_prest = element[5];\n          pdctHldSubsts.commercialise = element[6] === 'Commercialisée' ? true : false;\n          pdctHldSubsts.listGrp = JSON.parse(element[7]['value']);\n          pdctHldSubsts.id_hld = pdctHldSubsts.listGrp[0]['id'];\n          pdctHldSubsts.nm_hld = pdctHldSubsts.listGrp[0]['hld'];\n          result.push(pdctHldSubsts);\n        });\n        return result;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n  public getPdctBreakUpdate(id: Array<number>, idpdct: Array<number>, idbreak: number): Observable<any> {\n    let params = {};\n    const set: Set<number> = new Set(id);\n    const newId = Array.from(set.values());\n    params = {\n      'cd_subst': newId,\n      'cips': idpdct,\n      'break': idbreak\n    };\n    return this._Request.post('list_pdct_update_break.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const result: Array<PdctHldSubst> = [];\n        response.body.rows.forEach((element: Array<any>) => {\n          const pdctHldSubsts = new PdctHldSubst();\n          pdctHldSubsts.cd_cis = element[0];\n          pdctHldSubsts.cd_cip13 = element[1];\n          pdctHldSubsts.cd_subst = element[2];\n          pdctHldSubsts.nm_subst = element[3];\n          pdctHldSubsts.nm_medic = element[4];\n          pdctHldSubsts.ll_prest = element[5];\n          pdctHldSubsts.commercialise = element[6] === 'Commercialisée' ? true : false;\n          pdctHldSubsts.listGrp = element[7] ? JSON.parse(element[7]['value']) : null;\n          pdctHldSubsts.id_hld = element[8];\n          pdctHldSubsts.nm_hld = element[9];\n          result.push(pdctHldSubsts);\n        });\n        return result;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n  // get substances (name and id)\n  public getSubsts(): Observable<any> {\n    const params = {};\n    return this._Request.post('list_subst.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = [];\n        if (response.body.rows.length < 1) {\n            return false;\n        } else {\n            response.body.rows.forEach((element: Array<any>) => {\n                this._results.push(\n                    {\n                        cd_subst: element[0],\n                        nm_subst: element[1]\n                    }\n                );\n        });\n        return true;\n        }\n      },\n      (error) => {\n        return false;\n      }\n    ));\n  }\n  // get all indc\n  public getindc(): Observable<any>  {\n    const params = {};\n    return this._Request.post('list_indc.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = [];\n        if (response.body.rows.length < 1) {\n            return false;\n        } else {\n            response.body.rows.forEach(element => {\n                this._results.push({\n                    id_indc: element[0],\n                    cd_indc: element[1],\n                    ll_indc: element[2],\n                    sl_indc: element[3],\n                    cd_indc_faml: element[4],\n                    cd_indc_typ: element[5],\n                    nb_ord: element[6],\n                    fl_indc_mdty: element[7]\n                });\n            });\n            return true;\n        }\n      },\n      (error) => {\n        return;\n      }\n    ));\n  }\n    // get all break or break by id_break\n    public getBreaksPending(): Observable<any> {\n      const params = {\n        'pending': true\n      };\n      return this._Request.post('list_break.tpl', params)\n      .pipe(map(\n        (response: any) => {\n          this._results = [];\n          if (response.body.rows.length < 1) {\n            return false;\n          } else {\n              response.body.rows.forEach(element => {\n                  this._results.push({\n                    id_break: element[0],\n                    nb_vers: element[1],\n                    cd_grnlr: element[2],\n                    jlst_indc: element[3],\n                    jlst_subst: element[4],\n                    fl_break_actvt: element[5],\n                    ds_break: element[6],\n                    de_break: element[7],\n                    ts_crt: element[8],\n                    nm_break: element[9],\n                    visibility: element[10] ? element[10] : false\n                  }\n                  );\n              });\n              return true;\n          }\n        },\n        (error) => {\n          return;\n        }));\n    }\n  // get all break or break by id_break\n  public getBreaks(id?: number): Observable<any> {\n    let params = {};\n    if (id) {\n      params = {\n        'id_break': id\n      };\n    } else {\n      params = {\n        'openAndClose': true\n      };\n    }\n    return this._Request.post('list_break.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = [];\n        if (response.body.rows.length < 1) {\n          return false;\n        } else {\n            response.body.rows.forEach(element => {\n                this._results.push({\n                  id_break: element[0],\n                  nb_vers: element[1],\n                  cd_grnlr: element[2],\n                  jlst_indc: element[3],\n                  jlst_subst: element[4],\n                  fl_break_actvt: element[5],\n                  ds_break: element[6],\n                  de_break: element[7],\n                  ts_crt: element[8],\n                  nm_break: element[9],\n                  visibility: element[10] ? element[10] : false\n                }\n                );\n            });\n            return true;\n        }\n      },\n      (error) => {\n        return;\n      }));\n  }\n  // Creation each row into lnk_break_hld_subst\n  public createBreakHldSubst(data: Break, listpdct: Array<PdctHldSubst>, s?: string): Observable<boolean> {\n    const results = [];\n    listpdct.forEach((x: PdctHldSubst) => {\n      const result = {\n        id_hld: x.id_hld,\n        code_subst: x.cd_subst,\n        cd_cip13: x.cd_cip13\n      };\n      results.push(result);\n    });\n    const params = {\n      'id_break': data.id_break,\n      'nb_vers': s && s === 'update' ? data.nb_vers + 1 : s && s === 'pendding' ? -1 : data.nb_vers,\n      'first_dt_grnlr': s && s === 'update' ? 'update' : data.ds_break,\n      'results': results\n    };\n    return this._Request.post('insert_lnk_break_hld_subst.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return true;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n\n  // Creation each row into lnk_break_hld_subst\n  public updateBreakHldSubst(data: Break): Observable<boolean> {\n    const params = {\n      'id_break': data.id_break\n    };\n    return this._Request.post('update_lnk_break_hld_subst.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return true;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n\n  // Creation each row into lnk_break_hld_subst\n  public deleteBreakHldSubst(data: number): Observable<boolean> {\n    const params = {\n      'id_break': data\n    };\n    return this._Request.post('delete_lnk_break_hld_subst.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return true;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n  // Creation d'une session de rupture et renvoi l'id de la rupture créée\n  public createBreak(data: Break, s?: string): Observable<number> {\n    let params = {};\n    if (s && s === 'update') {\n      params = {\n        'id_break': data.id_break,\n        'nb_vers': data.nb_vers + 1,\n        'cd_grnlr': data.cd_grnlr ,\n        'jlst_indc': data.jlst_indc ,\n        'jlst_subst': data.jlst_subst ,\n        'fl_break_actvt': data.fl_break_actvt ,\n        'de_break': data.de_break ,\n        'ds_break': data.ds_break ,\n        'nm_break': data.nm_break,\n        'visibility': data.visibility\n      };\n    } else {\n      params = {\n        'cd_grnlr': data.cd_grnlr ,\n        'jlst_indc': data.jlst_indc ,\n        'jlst_subst': data.jlst_subst ,\n        'fl_break_actvt': data.fl_break_actvt ,\n        'de_break': data.de_break ,\n        'ds_break': data.ds_break ,\n        'nm_break': data.nm_break ,\n        'visibility': data.visibility\n      };\n    }\n\n    return this._Request.post('insert_break.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return response.body.rows[0][0];\n      },\n      (error) => {\n        return error;\n      }));\n  }\n  // Met à jours les sessions rupture\n  public updateBreak(data: any, pendding?: string): Observable<any> {\n    let params = {};\n      if (pendding) {\n        switch (pendding) {\n          case 'replace':\n            params = {\n              'id_break': data.id_break,\n              'nb_vers': data.nb_vers,\n              'cd_grnlr': data.cd_grnlr ,\n              'jlst_indc': data.jlst_indc ,\n              'jlst_subst': data.jlst_subst ,\n              'nm_break': data.nm_break,\n              'visibility': data.visibility,\n              'ds_break': data.ds_break,\n              'replace': true\n            };\n            break;\n          case 'active':\n            params = {\n              'id_break': data.id_break,\n              'nb_vers': data.nb_vers,\n              'active': true\n            };\n            break;\n        }\n      } else {\n        params = {\n          'id_break': data.id_break,\n          'nb_vers': data.nb_vers\n      };\n    }\n    return this._Request.post('update_break.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return response.body.rows[0][0];\n      },\n      (error) => {\n        return false;\n      }));\n  }\n\n  // recupere la date de grnlr à la creation de saisie\n  public getDtGrnlr(date: string, grnlr: string): Observable<any> {\n    let params = {};\n    if (date) {\n        params = {\n        'dt_grnlr': date,\n        'cd_grnlr': grnlr,\n        };\n    }\n    return this._Request.post('list_next_work_day.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = [];\n        if (response.body.rows.length < 1) {\n            return;\n        } else {\n            return response.body.rows[0][0];\n        }\n      },\n      (error) => {\n        return;\n      }\n    ));\n  }\n  public getPeriodFromNow(cd_grnlr: string, ts_break?: string): Observable<any> {\n    let params;\n    if (ts_break) {\n      params = {\n        'cd_grnlr': cd_grnlr,\n        'ts_break': ts_break\n      };\n    } else {\n      params = {\n        'cd_grnlr': cd_grnlr\n      };\n    }\n    let dates;\n    return this._Request.post('list_start_end.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        if (response.body.rows.length < 1) {\n          dates = {\n            start: 'error',\n            end: 'error'\n          };\n        } else {\n          dates = {\n            start: this._datePipe.transform(response.body.rows[0][0], 'dd-MM-y'),\n            end: this._datePipe.transform(response.body.rows[0][1], 'dd-MM-y')\n          };\n        }\n        return dates;\n      },\n      (error) => {\n        dates = {\n          start: 'error',\n          end: 'error'\n        };\n        return dates;\n      }));\n  }\n\n  public getDateGrnlrFromNow(cd_grnlr: string, ts_break?: string): Observable<any> {\n    let params = {};\n    if (ts_break) {\n      params = {\n        'cd_grnlr': cd_grnlr,\n        'ts_break': ts_break\n        };\n    } else {\n      params = {\n        'cd_grnlr': cd_grnlr\n        };\n    }\n    return this._Request.post('list_date_grnlr.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        if (response.body.rows.length < 1) {\n          return;\n        } else {\n          return response.body.rows[0][0];\n        }\n      },\n      (error) => {\n        return;\n      }));\n  }\n  // get all users or user by id labo\n  public getUsers(id: Array<number>): Observable<any> {\n    const params = {\n      'results': id\n    };\n    return this._Request.post('list_user.tpl', params)\n    .pipe(map(\n        (response: any) => {\n          const results = [];\n          response.body.rows.forEach(element => {\n              const user = new User;\n              user.id = element[0];\n              user.username = element[1];\n              user.lastName = element[2];\n              user.firstName = element[3];\n              user.email = element[4];\n              user.labo = element[5];\n              user.laboName = element[6];\n              user.tel = element[7];\n              user.password = element[8];\n              user.status = element[9];\n              user.role = element[10];\n              const emailExist = results.find(x => x && x.email && x.email === user.email)? true : false;\n              if (!emailExist) {\n                results.push(\n                  user\n                );\n              }\n          });\n          return results;\n        },\n        (error) => {\n          return error;\n        }\n    ));\n}\n  public getResults() {\n    return this._results;\n}\n}\n","export * from './break.service';\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class CacheService {\n    constructor() { }\n\n    save(options: LocalStorageSaveOptions, hours: number) {\n        const expireHours = hours * 60 * 60 * 1000;\n        // Set default values for optionals\n        options.expireDate = options.expireDate + expireHours;\n        localStorage.setItem(options.key, JSON.stringify(options.expireDate));\n    }\n\n    // Look for mail is already sended with key (id_break+id_hld) and return false if not and true if yes\n    loadMailIsAlreadySended(key: string) {\n        // Get cached data from localstorage\n        const item = localStorage.getItem(key);\n        if (item !== null) {\n            const now = Date.now();\n            const expireDate = +item;\n            // Expired data will delete\n            if (now > expireDate) {\n                this.remove(key);\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    remove(key: string) {\n        localStorage.removeItem(key);\n    }\n\n    cleanLocalStorage() {\n        localStorage.clear();\n    }\n}\n\nexport class LocalStorageSaveOptions {\n    key: string;\n    expireDate: number;\n}\n","export * from './cache.service';\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, concat } from 'rxjs';\n\nexport interface Config {\n    apiUrl: string;\n    otpUrl: string;\n    reCaptchaKey: string;\n    reCaptchaUrl: string;\n}\nexport interface ConfigMail {\n    mailClosed: number;\n    mailCreated: number;\n    mailRecall: number;\n}\nexport const RECAPTCHA_URL: string = require(`src/config/config.app.json`)[`reCaptchaUrl`];\n\n@Injectable()\nexport class ConfigService {\n    private _config: Config;\n    private _configMail: ConfigMail;\n    private _appConfigUrl: string = 'config.app.json';\n    private _mailConfigUrl: string = 'mail.conf.json';\n\n    private _validateNumberPattern: RegExp = /(?=^.{0,12}$)^\\d*$/;\n\n    constructor (private http: HttpClient) {\n    }\n\n    public init(): Promise<Config> {\n        return new Promise((resolve, reject) => {\n            const time: number = Math.round(new Date().getTime() / 3600000) * 3600000;\n            let appConfig: Observable<Object>;\n            const concatResponse: any = {};\n\n            appConfig = this.http.get(this._appConfigUrl, {\n                params: {\n                    'v': time.toString()\n                }\n            });\n            concat(appConfig).subscribe({\n                next: (response: any) => {\n                    Object.keys(response).forEach(function(key) { concatResponse[key] = response[key]; });\n                },\n                error: (error) => {\n                    this._config = concatResponse as Config;\n                    this._configMail = require(`src/config/${this._mailConfigUrl}`) as ConfigMail;\n                    resolve();\n                },\n                complete: () => {\n                    this._config = concatResponse as Config;\n                    this._configMail = require(`src/config/${this._mailConfigUrl}`) as ConfigMail;\n                    resolve();\n                }\n            });\n        });\n    }\n\n    get config(): Config { return this._config; }\n    get appConfigUrl(): string { return this._appConfigUrl; }\n\n    get apiUrl(): string { return this._config['apiUrl']; }\n    get otpUrl(): string { return this._config['otpUrl']; }\n    get reCaptchaKey(): string { return this._config['reCaptchaKey']; }\n    get idTemplateClosedSession(): number { return this._configMail['mailClosed']; }\n    get idTemplateCreatedSession(): number { return this._configMail['mailCreated']; }\n    get idTemplateRecall(): number { return this._configMail['mailRecall']; }\n    get validateNumberPattern(): RegExp { return this._validateNumberPattern; }\n\n    set config(newConfig: Config) { this._config = newConfig; }\n    set appConfigUrl(newConfigUrl: string) { this._appConfigUrl = newConfigUrl; }\n}\n","export * from './config.service';\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport {\n  Break,\n  CouvertureStockModel,\n  DataByDate,\n  DataCouvertureStock,\n  DataEtatDuMarche,\n  EtatDuMarcheModel,\n  Params,\n  PdctHldSubst,\n  PrevisionnelGersModel,\n  PrevisionnelGersStock,\n  PrevisionnelMedicamModel,\n  PrevisionnelMedicamStock,\n  SimulateurGersModel,\n  SimulateurGersStock,\n  SimulateurMedicamModel,\n  SimulateurMedicamStock\n} from 'src/app/models';\nimport { AuthenticationService } from '../authentication.service';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class DashboardService {\n  private _results: Array<any>;\n\n  constructor(\n    private readonly _Request: RequestService,\n    private readonly _authenticationService: AuthenticationService\n  ) { }\n\n  // get all break or break by id_break\n  public getBreaks(id_hld: number): Observable<any> {\n    let params = {};\n    if (id_hld) {\n      params = {\n        'id_hld': id_hld\n      };\n    }\n    return this._Request.post('list_break.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = [];\n        if (response.body.rows.length < 1) {\n          return false;\n        } else {\n            response.body.rows.forEach(element => {\n                this._results.push({\n                  id_break: element[0],\n                  nb_vers: element[1],\n                  cd_grnlr: element[2],\n                  jlst_indc: element[3],\n                  jlst_subst: element[4],\n                  fl_break_actvt: element[5],\n                  ds_break: element[6],\n                  de_break: element[7],\n                  ts_crt: element[8],\n                  nm_break: element[9],\n                  visibility: element[10] ? element[10] : false\n                }\n                );\n            });\n            return true;\n        }\n      },\n      (error) => {\n        return;\n      }));\n    }\n    // getGrp (...)\n  public getGrp(id: Array<number>, session: Break): Observable<Array<PdctHldSubst>> {\n    const set: Set<number> = new Set(id);\n    const newId = Array.from(set.values());\n    const params = {\n      'cd_cip13': newId,\n      'break': session.id_break\n    };\n    return this._Request.post('list_grp.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const temporyResults: Array<PdctHldSubst> = [];\n            response.body.rows.forEach((element: Array<any>) => {\n                const grp = new PdctHldSubst;\n                grp.cd_cip13 = element[0];\n                grp.cd_subst = element[1];\n                grp.nm_subst = element[2];\n                grp.nm_hld = element[3];\n                grp.nm_medic = element[4];\n                grp.ll_prest = element[5];\n                grp.id_hld = element[6];\n                grp.cd_cis = element[7];\n                grp.cd_cip7 = Number(element[0].toString().substr(5, 7));\n                grp.form = element[8];\n                grp.dose = element[9];\n                grp.unit = element[10];\n                grp.coef = element[11];\n                temporyResults.push(grp);\n        });\n        const setResults: Set<PdctHldSubst> = new Set(temporyResults);\n        const results: Array<PdctHldSubst> = Array.from(setResults.values());\n        return results;\n      },\n      (error) => {\n        return error;\n      }\n    ));\n  }\n  public getDashboardEtatMarche(data: Params): Observable<Array<EtatDuMarcheModel>> {\n    const params = {\n      'id_break': data.id_break,\n      'id_hld': data.id_hld,\n      'cd_cip13': data.cd_cip13,\n      'lb_grp': data.lb_grp,\n      'dt_grnlr': data.dt_grnlr,\n      'cd_grnlr': data.cd_grnlr,\n      'total': data.total ? data.total : null,\n      'nb_cip': data.cd_cip13.length,\n      'id_indc': data.indc,\n      'id_user': this._authenticationService.currentUserValue.id,\n      'allHld': data.allHld,\n    };\n    return this._Request.post(`list_dashboard_etat_du_marche.tpl`, params)\n    .pipe(map(\n      (response: any) => {\n        // Additionne les valeur d'un même labo / marche / date mais un cip different\n        const arrayOfDashboardData: Array<EtatDuMarcheModel> = [];\n        if (response.body.rows.length === 0) {\n          return arrayOfDashboardData;\n        }\n        // d'abord on additionne toutes les données par labo\n        response.body.rows.forEach(element => {\n          const dashboardData = new EtatDuMarcheModel();\n          dashboardData.labo = element[0];\n          dashboardData.idlabo = element[1];\n          dashboardData.nmgrp = element[2];\n          dashboardData.data = [];\n          if (element[0] === 'all' && element[3] === 'GERS') {\n            dashboardData.consoDataMissing = !element[9];\n          }\n          if (!arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo)) {\n            const gers = new DataEtatDuMarche();\n            gers.name = 'GERS';\n            gers.courbe = 'Ventes GERS Total';\n            gers.color = '#118DFF';\n            gers.dataByDate = [];\n            const medicamH = new DataEtatDuMarche();\n            medicamH.name = 'PRESC_HOPITAL';\n            medicamH.courbe = 'Besoins MEDICAM Hop.';\n            medicamH.color = '#A8D978';\n            medicamH.dataByDate = [];\n            const medicamV = new DataEtatDuMarche();\n            medicamV.name = 'PRESC_VILLE';\n            medicamV.courbe = 'Besoins MEDICAM Ville';\n            medicamV.color = '#E5E542';\n            medicamV.dataByDate = [];\n            const medicamT = new DataEtatDuMarche();\n            medicamT.name = 'PRESC_TOUS';\n            medicamT.courbe = 'Besoins MEDICAM Tot.';\n            medicamT.color = '#2AAFA3';\n            medicamT.dataByDate = [];\n            const medicamHPY = new DataEtatDuMarche();\n            medicamHPY.name = 'PRESC_HOPITAL_PY';\n            medicamHPY.courbe = 'Besoin MEDICAM Hop. (N-1)';\n            medicamHPY.color = '#A8D978';\n            medicamHPY.dataByDate = [];\n            const medicamVPY = new DataEtatDuMarche();\n            medicamVPY.name = 'PRESC_VILLE_PY';\n            medicamVPY.courbe = 'Besoin MEDICAM Ville (N-1)';\n            medicamVPY.color = '#E5E542';\n            medicamVPY.dataByDate = [];\n            const medicamTPY = new DataEtatDuMarche();\n            medicamTPY.name = 'PRESC_TOUS_PY';\n            medicamTPY.courbe = 'Besoin MEDICAM Tot. (N-1)';\n            medicamTPY.color = '#2AAFA3';\n            medicamTPY.dataByDate = [];\n            arrayOfDashboardData.push(dashboardData);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(gers);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(medicamH);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(medicamV);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(medicamT);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(medicamHPY);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(medicamVPY);\n            arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data.push(medicamTPY);\n          }\n          const dataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo).data;\n          const arrayForDataByDate = dataByLabo.find(x => x.name === element[3]).dataByDate;\n          let arrayForDataByDatePY;\n          if (dataByLabo.find(x => x.name === `${element[3]}_PY`)) {\n            arrayForDataByDatePY = dataByLabo.find(x => x.name === `${element[3]}_PY`).dataByDate;\n          }\n          const dataByDate = new DataByDate();\n          const dataByDatePY = new DataByDate();\n          dataByDate.iddate = element[4];\n          dataByDate.date = element[5];\n          dataByDate.etat_marche = element[6];\n          dataByDatePY.iddate = element[4];\n          dataByDatePY.date = element[5];\n          dataByDatePY.etat_marche = element[7];\n          arrayForDataByDate.push(dataByDate);\n          if (element[3] !== 'GERS' && arrayForDataByDatePY) {\n            arrayForDataByDatePY.push(dataByDatePY);\n          }\n        });\n        arrayOfDashboardData.sort(function(x: EtatDuMarcheModel, y: EtatDuMarcheModel) {\n          return x.idlabo === -1 ? -1 : y.idlabo === -1 ? 1 : 0;\n        });\n        return arrayOfDashboardData;\n      },\n      (error) => {\n        return error;\n      }\n    ));\n  }\n  public getDashboard(data: Params, graph: string): Observable<Array<any>> {\n    const params = {\n      'id_break': data.id_break,\n      'id_hld': data.id_hld,\n      'lb_grp': data.lb_grp,\n      'dt_grnlr': data.dt_grnlr,\n      'cd_grnlr': data.cd_grnlr,\n      'total': data.total ? data.total : null,\n      'nb_cip': data.cd_cip13.length,\n      'allHld': data.allHld.length,\n      'id_indc': data.indc,\n      'id_user': this._authenticationService.currentUserValue.id\n    };\n    let template: string;\n    switch (graph) {\n      case 'B':\n        template = 'couverture_stock';\n        break;\n      case 'C':\n        template = 'simulateur_gers';\n        break;\n      case 'D':\n        template = 'simulateur_medicam';\n        break;\n      case 'E':\n        template = 'previsionnel_gers';\n        break;\n      case 'F':\n        template = 'previsionnel_medicam';\n        break;\n    }\n    return this._Request.post(`list_dashboard_${template}.tpl`, params)\n    .pipe(map(\n      (response: any) => {\n        const dates = [];\n        if (response.body.rows.length === 0) {\n          return dates;\n        }\n        response.body.rows.forEach(element => {\n          dates.push(element[0]);\n        });\n        const set: Set<string> = new Set(dates);\n        const abscisse: Array<string> = Array.from(set.values());\n        switch (graph) {\n          case 'B':\n            return this._dataDashboardB(response.body.rows, abscisse);\n          case 'C':\n            return this._dataDashboardC(response.body.rows, abscisse);\n          case 'D':\n            return this._dataDashboardD(response.body.rows, abscisse);\n          case 'E':\n            return this._dataDashboardE(response.body.rows, abscisse);\n          case 'F':\n            return this._dataDashboardF(response.body.rows, abscisse);\n        }\n      },\n      (error) => {\n        return error;\n      }\n    ));\n  }\n  public getResults() {\n    return this._results;\n  }\n  private _dataDashboardB(response: Array<any>, abscisse: Array<string>): Array<CouvertureStockModel> {\n    const arrayOfDashboardData: Array<CouvertureStockModel> = [];\n    response.forEach(element => {\n      const dashboardData = new CouvertureStockModel();\n      dashboardData.labo = element[1];\n      dashboardData.idlabo = element[2];\n      dashboardData.nmgrp = element[3];\n      const consoMedicam = element[5] === null ? null : Math.ceil(element[5]);\n      const consoGers = element[6] === null ? null : Math.ceil(element[6]);\n      const ecartStckMedicam = element[7] === null ? null : Math.ceil(element[7]);\n      dashboardData.data = new DataCouvertureStock();\n      dashboardData.data.date_stock = abscisse;\n      let alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n      if (!alreadyDashboardDataByLabo) {\n        arrayOfDashboardData.push(dashboardData);\n        alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n        alreadyDashboardDataByLabo.data.valeur = [];\n        alreadyDashboardDataByLabo.data.conso_moyenne_hebdo_medicam = [];\n        alreadyDashboardDataByLabo.data.conso_moyenne_hebdo_gers = [];\n        alreadyDashboardDataByLabo.data.ecart_stock_besoins_medicam = [];\n      }\n      const index = abscisse.indexOf(element[0]);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.valeur, element[4], index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.conso_moyenne_hebdo_medicam, consoMedicam, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.conso_moyenne_hebdo_gers, consoGers, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.ecart_stock_besoins_medicam, ecartStckMedicam, index);\n    });\n    arrayOfDashboardData.forEach((element: CouvertureStockModel, i) => {\n      // if (element.labo !== 'all') {\n        element.lastDt = element.data.date_stock[element.data.valeur.length - 1];\n      // }\n      if (element.labo === 'all') {\n        element.consoDataMissing = !(response.find(x => x[0] === element.lastDt && x[1] === 'all')[8]);\n      }\n    });\n    arrayOfDashboardData.sort(function(x: CouvertureStockModel, y: CouvertureStockModel) {\n      return x.idlabo === -1 ? -1 : y.idlabo === -1 ? 1 : 0;\n    });\n    return arrayOfDashboardData;\n  }\n  private _dataDashboardC(response: Array<any>, abscisse: Array<string>): Array<SimulateurGersModel> {\n    const arrayOfDashboardData: Array<SimulateurGersModel> = [];\n    response.forEach(element => {\n      const dashboardData = new SimulateurGersModel();\n      dashboardData.labo = element[1];\n      dashboardData.idlabo = element[2];\n      dashboardData.nmgrp = element[3];\n      const consoGers = element[5] === null ? null : Math.ceil(element[5]);\n      const consoGersNext = element[7] === null ? null : Math.ceil(element[7]);\n      const ecartStckGers = element[8] === null ? null : Math.ceil(element[8]);\n      dashboardData.data = new SimulateurGersStock();\n      dashboardData.data.date_stock = abscisse;\n      let alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n      if (!alreadyDashboardDataByLabo) {\n        arrayOfDashboardData.push(dashboardData);\n        alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n        alreadyDashboardDataByLabo.data.stck_reel = [];\n        alreadyDashboardDataByLabo.data.ventes_gers = [];\n        alreadyDashboardDataByLabo.data.approvisionnement = [];\n        alreadyDashboardDataByLabo.data.stk_gers_prev = [];\n        alreadyDashboardDataByLabo.data.Stock_moins_ventes_gers = [];\n      }\n      const index = abscisse.indexOf(element[0]);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stck_reel, element[4], index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.ventes_gers, consoGers, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.approvisionnement, element[6], index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stk_gers_prev, consoGersNext, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.Stock_moins_ventes_gers, ecartStckGers, index);\n    });\n    arrayOfDashboardData.forEach((element: SimulateurGersModel, i) => {\n      element.lastDt = element.data.date_stock[element.data.stck_reel.filter(x => x !== null).length - 1];\n      if (element.labo === 'all') {\n        element.consoDataMissing = !(response.find(x => x[0] === element.lastDt && x[1] === 'all')[9]);\n      }\n    });\n    arrayOfDashboardData.sort(function(x: SimulateurGersModel, y: SimulateurGersModel) {\n      return x.idlabo === -1 ? -1 : y.idlabo === -1 ? 1 : 0;\n    });\n    return arrayOfDashboardData;\n  }\n  private _dataDashboardD(response: Array<any>, abscisse: Array<string>): Array<SimulateurMedicamModel> {\n    const arrayOfDashboardData: Array<SimulateurMedicamModel> = [];\n    response.forEach(element => {\n      const dashboardData = new SimulateurMedicamModel();\n      dashboardData.labo = element[1];\n      dashboardData.idlabo = element[2];\n      dashboardData.nmgrp = element[3];\n      const consoMedicam = element[5] === null ? null : Math.ceil(element[5]);\n      const consoMedicamNext = element[7] === null ? null : Math.ceil(element[7]);\n      const ecartStckMedicam = element[8] === null ? null : Math.ceil(element[8]);\n      dashboardData.data = new SimulateurMedicamStock();\n      dashboardData.data.date_stock = abscisse;\n      let alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n      if (!alreadyDashboardDataByLabo) {\n        arrayOfDashboardData.push(dashboardData);\n        alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n        alreadyDashboardDataByLabo.data.stck_reel = [];\n        alreadyDashboardDataByLabo.data.ventes_medicam = [];\n        alreadyDashboardDataByLabo.data.approvisionnement = [];\n        alreadyDashboardDataByLabo.data.stk_medicam_prev = [];\n        alreadyDashboardDataByLabo.data.Stock_moins_ventes_medicam = [];\n      }\n      const index = abscisse.indexOf(element[0]);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stck_reel, element[4], index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.ventes_medicam, consoMedicam, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.approvisionnement, element[6], index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stk_medicam_prev, consoMedicamNext, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.Stock_moins_ventes_medicam, ecartStckMedicam, index);\n    });\n\n    arrayOfDashboardData.forEach((element: SimulateurMedicamModel, i) => {\n      element.lastDt = element.data.date_stock[element.data.stck_reel.filter(x => x !== null).length - 1];\n      if (element.labo === 'all') {\n        element.consoDataMissing = !(response.find(x => x[0] === element.lastDt && x[1] === 'all')[9]);\n      }\n    });\n    arrayOfDashboardData.sort(function(x: SimulateurMedicamModel, y: SimulateurMedicamModel) {\n      return x.idlabo === -1 ? -1 : y.idlabo === -1 ? 1 : 0;\n    });\n    return arrayOfDashboardData;\n  }\n  private _dataDashboardE(response: Array<any>, abscisse: Array<string>): Array<PrevisionnelGersModel> {\n    const arrayOfDashboardData: Array<PrevisionnelGersModel> = [];\n    const color = '#67C9D2';\n    response.forEach(element => {\n      const dashboardData = new PrevisionnelGersModel();\n      dashboardData.labo = element[1];\n      dashboardData.idlabo = element[2];\n      dashboardData.nmgrp = element[3];\n      const stckNext = element[4] === null ? null : Math.ceil(element[4]);\n      const stck = element[5] === null ? null : Math.ceil(element[5]);\n      dashboardData.data = new PrevisionnelGersStock();\n      dashboardData.data.date_stock = abscisse;\n      let alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n      if (!alreadyDashboardDataByLabo) {\n        arrayOfDashboardData.push(dashboardData);\n        alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n        alreadyDashboardDataByLabo.data.stk_gers_affich = [];\n        alreadyDashboardDataByLabo.data.stk_affich = [];\n        alreadyDashboardDataByLabo.data.ventes_gers = [];\n        alreadyDashboardDataByLabo.data.stk_gers_color = color;\n      }\n      const index = abscisse.indexOf(element[0]);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stk_gers_affich, stckNext, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.ventes_gers, stck, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stk_affich, element[6], index);\n    });\n    arrayOfDashboardData.forEach((element: PrevisionnelGersModel, i) => {\n      element.lastDt = element.data.date_stock[element.data.stk_affich.filter(x => x !== null).length - 1];\n      if (element.labo === 'all') {\n        element.consoDataMissing = !(response.find(x => x[0] === element.lastDt && x[1] === 'all')[7]);\n      }\n    });\n    arrayOfDashboardData.sort(function(x: PrevisionnelGersModel, y: PrevisionnelGersModel) {\n      return x.idlabo === -1 ? -1 : y.idlabo === -1 ? 1 : 0;\n    });\n    return arrayOfDashboardData;\n  }\n  private _dataDashboardF(response: Array<any>, abscisse: Array<string>): Array<PrevisionnelMedicamModel> {\n    const arrayOfDashboardData: Array<PrevisionnelMedicamModel> = [];\n    const color = '#68D1A5';\n    response.forEach(element => {\n      const dashboardData = new PrevisionnelMedicamModel();\n      dashboardData.labo = element[1];\n      dashboardData.idlabo = element[2];\n      dashboardData.nmgrp = element[3];\n      const stckNext = element[4] === null ? null : Math.ceil(element[4]);\n      const stck = element[5] === null ? null : Math.ceil(element[5]);\n      dashboardData.data = new PrevisionnelMedicamStock();\n      dashboardData.data.date_stock = abscisse;\n      let alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n      if (!alreadyDashboardDataByLabo) {\n        arrayOfDashboardData.push(dashboardData);\n        alreadyDashboardDataByLabo = arrayOfDashboardData.find(x => x.idlabo === dashboardData.idlabo);\n        alreadyDashboardDataByLabo.data.stk_medicam_affich = [];\n        alreadyDashboardDataByLabo.data.ventes_medicam = [];\n        alreadyDashboardDataByLabo.data.stk_affich = [];\n        alreadyDashboardDataByLabo.data.stk_medicam_color = color;\n      }\n      const index = abscisse.indexOf(element[0]);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stk_medicam_affich, stckNext, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.ventes_medicam, stck, index);\n      this._pushAtSpecifyIndex(alreadyDashboardDataByLabo.data.stk_affich, element[6], index);\n    });\n\n    arrayOfDashboardData.forEach((element: PrevisionnelMedicamModel, i) => {\n      element.lastDt = element.data.date_stock[element.data.stk_affich.filter(x => x !== null).length - 1];\n      if (element.labo === 'all') {\n        element.consoDataMissing = !(response.find(x => x[0] === element.lastDt && x[1] === 'all')[7]);\n      }\n    });\n    arrayOfDashboardData.sort(function(x: PrevisionnelMedicamModel, y: PrevisionnelMedicamModel) {\n      return x.idlabo === -1 ? -1 : y.idlabo === -1 ? 1 : 0;\n    });\n    return arrayOfDashboardData;\n  }\n\n  private _pushAtSpecifyIndex(array: Array<any>, val: any, index: number) {\n    let i: number = 0;\n    while (i < index) {\n      const existe: boolean = array[i] !== undefined ? true : false;\n      if (existe === false) {\n        array[i] = null;\n      }\n      i++;\n    }\n    array[index] = val;\n  }\n}\n","export * from './dashboard.service';\n","import { DatePipe } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Break, DataBreak, DataEntry, DataEntryTrackingModel, DataPartOfMarketModel, Indc } from 'src/app/models';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataEntryService {\n  private _results: Array<any>;\n  private _dateStart: Date;\n  private _dataBreak: DataBreak;\n  private _dateEnd: Date;\n  private _nextDtGrnlr: string;\n\n  get nextDtGrnlr(): string { return this._nextDtGrnlr; }\n  set nextDtGrnlr(dt: string) { this._nextDtGrnlr = dt; }\n  get dateEnd(): Date { return this._dateEnd; }\n  set dateEnd(de: Date) { this._dateEnd = de; }\n  get dateStart(): Date { return this._dateStart; }\n  set dateStart(ds: Date) { this._dateStart = ds; }\n  get dataBreak(): DataBreak { return this._dataBreak; }\n  set dataBreak(data: DataBreak) { this._dataBreak = data; }\n\n  constructor(\n    private readonly _translate: TranslateService,\n    private readonly _Request: RequestService,\n    private readonly _datePipe: DatePipe,\n  ) { }\n\n    // get all dataEntries or indc by id_break or by id_hld\n    public getPartOfMarket(session: Break, id_hld: Array<number>): Observable<DataPartOfMarketModel[]>  {\n      const lb_grp = [];\n      JSON.parse(session.jlst_subst.value).forEach(element => {\n        element.groupes.forEach(groupe => {\n          lb_grp.push(groupe.grp_name);\n        });\n      });\n      const params = {\n        'id_break': session.id_break,\n        'lb_grp': lb_grp,\n        'ds_break': session.ds_break,\n        'cd_grnlr': session.cd_grnlr,\n        'id_hld': id_hld\n      };\n      return this._Request.post('get_part_medicam.tpl', params)\n      .pipe(map(\n        (response: any) => {\n          const results: Array<DataPartOfMarketModel> = [];\n          response.body.rows.forEach(element => {\n            const result = new DataPartOfMarketModel();\n            result.id_session = element[0];\n            result.id_labo = element[1];\n            result.lb_grp = element[2];\n            result.id_mth = element[3];\n            result.dt_mth = element[4];\n            result.value_hld = element[5];\n            result.value_total = element[6];\n            result.part_of_market = element[7];\n            results.push(result);\n          });\n          return results;\n        },\n        (error) => {\n          return error;\n        }));\n    }\n\n  // get all dataEntries or indc by id_break or by id_hld\n  public getDataEntryTracking(id_break: number): Observable<any>  {\n    const params = {\n      'id_break': id_break\n    };\n    return this._Request.post('list_data_entry_tracking.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const results: Array<DataEntryTrackingModel> = [];\n        response.body.rows.forEach(element => {\n          let result = new DataEntryTrackingModel();\n          result.idsession = element[0];\n          result.idlabo = element[3];\n          result.namelabo = element[4] ? element[4] : `${result.idlabo}`;\n          result.info = new Array();\n          const resultAlreadyExist = results.length > 0 ?\n            results.find((x: DataEntryTrackingModel) => x.idlabo === result.idlabo) : undefined;\n          result = resultAlreadyExist ? resultAlreadyExist : result;\n          result.info.unshift(\n            {\n              'dtgrnlr': element[1],\n              'periodecourante': element[2],\n              'lastupdate': element[5],\n              'totalindc': element[6],\n              'savedindc': element[7],\n              'validatedindc': element[8],\n              'archivedindc': element[9],\n              'rejectedindc': element[10],\n              'failedindc': element[11]\n            }\n          );\n          const indexOfMinDtGrnlrNoValidated: number = result.info.reduce((iMax, x, i) => x.validatedindc < x.totalindc && i > iMax ? i : iMax, 0);\n          result.navindex = indexOfMinDtGrnlrNoValidated;\n          result.selectedCurrentDate = result.info[indexOfMinDtGrnlrNoValidated].periodecourante;\n          result.selectedLastDate = result.info[0].lastupdate;\n          if (!resultAlreadyExist) {\n            results.push(result);\n          }\n        });\n        results\n        .sort((a: DataEntryTrackingModel, b: DataEntryTrackingModel) => {\n          const isGreatestDate = a.selectedCurrentDate > b.selectedCurrentDate ? -1 : 1;\n          const isSameDate = a.selectedCurrentDate === b.selectedCurrentDate ? a.namelabo > b.namelabo ? -1 : 1 : isGreatestDate;\n          return isSameDate;\n        });\n        return results;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n  public controlDataEntry(data: DataEntry): Observable<any> {\n    const params = {\n      id_break: data.id_break,\n      id_hld: data.id_hld,\n      dt_grnlr: data.dt_grnlr\n    };\n    return this._Request.post('control_data_entry.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return response.body.rows[0][0];\n      },\n      (error) => {\n        return error;\n    }));\n  }\n  // Creation d'une session de rupture et renvoi l'id de la rupture créée\n  public createDataEntry(data: Array<any>): Observable<any> {\n    const params = {\n      'results': data\n    };\n    return this._Request.post('insert_data_entry.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return response;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n  // get all dataEntries or indc by id_break or by id_hld\n  public getDataEntry(id: number, s: string): Observable<any>  {\n    let params = {};\n    if (s === 'id_hld') {\n      params = {\n        'id_hld': id,\n        };\n    }\n    return this._Request.post('list_data_entry.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = [];\n        if (response.body.rows.length < 1) {\n            return false;\n        } else {\n            response.body.rows.forEach(element => {\n              const newDataEntry = new DataEntry;\n              const newBreak = new Break;\n              newBreak.id_break = element[0];\n              newBreak.nb_vers = element[1];\n              newBreak.cd_grnlr = element[2];\n              newBreak.jlst_indc = element[3];\n              newBreak.jlst_subst = element[4];\n              newBreak.fl_break_actvt = element[5];\n              newBreak.nm_break = element[6];\n              newBreak.ts_crt = element[7];\n              const newIndc = new Indc;\n              newIndc.id_indc = element[8];\n              newIndc.cd_indc = element[9];\n              newIndc.ll_indc = element[10];\n              newIndc.sl_indc = element[11];\n              newIndc.cd_indc_faml = element[12];\n              newIndc.cd_indc_typ = element[13];\n              newIndc.nb_ord = element[14];\n              newIndc.fl_indc_mdty = element[15];\n              newIndc.dt_start_indc = element[16];\n              newIndc.dt_end_indc = element[17];\n              newIndc.cd_indc_fonc = element[30];\n              if (newIndc.dt_start_indc && newBreak.cd_grnlr !== 'D') {\n                newIndc.lb_date = `${this._translate.instant('_DataEntry_periode_first_')} ${this._datePipe.transform(newIndc.dt_start_indc, 'dd-MM-y')} ${this._translate.instant('_DataEntry_periode_end_')} ${this._datePipe.transform(newIndc.dt_end_indc, 'dd-MM-y')}`;\n              } else if (newIndc.dt_start_indc && newBreak.cd_grnlr === 'D') {\n                newIndc.lb_date = `${this._translate.instant('_DataEntry_periode_first_')} ${this._datePipe.transform(newIndc.dt_start_indc, 'dd-MM-y')}`;\n                if (newIndc.cd_indc_fonc === 'qty_sls_mth') {\n                  newIndc.lb_date = `${this._translate.instant('_DataEntry_periode_first_')} ${this._datePipe.transform(newIndc.dt_start_indc, 'dd-MM-y')} ${this._translate.instant('_DataEntry_periode_end_')} ${this._datePipe.transform(newIndc.dt_end_indc, 'dd-MM-y')}`;\n                }\n              } else {\n                newIndc.lb_date = ``;\n              }\n              newDataEntry.id_break = newBreak;\n              newDataEntry.id_indc = newIndc;\n              newDataEntry.id_hld = element[18];\n              newDataEntry.cd_cip13 = element[19];\n              newDataEntry.cd_stat_entry = element[20];\n              newDataEntry.id_usr_crt = element[21];\n              newDataEntry.id_usr_vld = element[22];\n              newDataEntry.ts_crt = element[23];\n              newDataEntry.ts_lst_upd = element[24];\n              newDataEntry.val_indc = element[25];\n              newDataEntry.ts_vld = element[26];\n              newDataEntry.dt_grnlr = element[27];\n              newDataEntry.start_periode = element[28];\n              newDataEntry.end_periode = element[29];\n              newDataEntry.next_dt_grnlr = element[29];\n              this._results.push(\n                newDataEntry\n              );\n            });\n            return true;\n        }\n      },\n      (error) => {\n        return;\n      }));\n  }\n    // get PdctHldSubsts (...)\n    public getDataEntries(data: Break, date: string): Observable<boolean> {\n      const params = {\n        'id_break': data.id_break,\n        'dt_grnlr': date\n      };\n      return this._Request.post('list_data_entry_already_created.tpl', params)\n      .pipe(map(\n        (response: any) => {\n          this._results = [];\n          if (response.body.rows.length < 1) {\n              return;\n          } else {\n              response.body.rows.forEach((element: Array<any>) => {\n                const dataEntry = new DataEntry;\n                dataEntry.id_session = element[0],\n                dataEntry.id_hld = element[1],\n                dataEntry.cd_cip13 = element[2],\n                dataEntry.id_indic = element[3],\n                this._results.push(dataEntry);\n          });\n          return true;\n          }\n        },\n        (error) => {\n          return error;\n        }\n      ));\n    }\n  // get next work date\n  public getPdcts(id: Array<number>): Observable<any> {\n    const set: Set<number> = new Set(id);\n    const newId = Array.from(set.values());\n    const params = {\n      'cd_cip13': newId\n    };\n    return this._Request.post('list_pdct.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const resp = [];\n        response.body.rows.forEach(element => {\n          if (!resp.find(x => x.cd_cip13 === element[0])) {\n            resp.push({\n              cd_cip13: element[0],\n              cd_cis: element[1],\n              nm_medic: element[2],\n              ll_prest: element[3]\n          });\n          }\n        });\n        return resp;\n      },\n      (error) => {\n        return error;\n      }\n    ));\n  }\n  // update dataEntry\n  public updateDataEntry(data: Array<DataEntry>): Observable<any> {\n    data.forEach((element: any) => {\n      if (element.id_indc === 999 && element.val_indc) {\n        element.val_indc = element.val_indc.replaceAll('\\'', '\\\"');\n      }\n    }\n    );\n    const params = {\n      'id_break': data[0].id_break,\n      'id_hld': data[0].id_hld,\n      'dt_grnlr': data[0].dt_grnlr,\n      'results': data\n    };\n    return this._Request.post('update_data_entry.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        if (response.body.rows.length < 1) {\n          return false;\n      } else {\n          return true;\n      }\n      },\n      (error) => {\n        return error;\n      }));\n  }\n\n  public getResults() {\n    return this._results;\n  }\n}\n","export * from './dataEntry.service';\n","import { formatDate } from '@angular/common';\nimport { Injectable } from '@angular/core';\nimport { Workbook } from 'exceljs';\nimport * as fs from 'file-saver';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { DataHld, PdctHldSubst } from 'src/app/models/index.js';\nimport { RequestService } from '../request.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExcelService {\n  public images = [];\n\n  constructor(\n    private readonly _Request: RequestService\n  ) {}\n  // get all data to the export excel other\n  public getDataForDashboardOthers(\n    id_break: number,\n    cd_grnlr: string,\n    cd_cip13: number[],\n    cd_subst: number[],\n    id_hld: number[],\n    id_user: number): Observable<any> {\n    const params = {\n        'id_break': id_break,\n        'cd_grnlr': cd_grnlr,\n        'cd_cip13': cd_cip13,\n        'cd_subst': cd_subst,\n        'id_hld': id_hld,\n        'id_user': id_user\n    };\n    return this._Request.post('data_excel_2.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const results = [];\n        if (response.body.rows.length < 1) {\n          return results;\n        } else {\n          response.body.rows.forEach(element => {\n            results.push({\n              namehld: element[0],\n              idhld: element[1],\n              cip13: element[2],\n              cip7: Number(element[2].toString().substr(5, 7)),\n              cis: element[3],\n              subst: element[4],\n              lib: element[5],\n              presentation: element[6],\n              form: element[7],\n              dose: element[8],\n              unit: element[9],\n              dtstockstart: element[10],\n              dtstockend: element[11],\n              namecolumn: element[12],\n              stock: element[13],\n              valgers: element[14],\n              valmedicam: element[15]\n            });\n          });\n          return results;\n        }\n      },\n      (error) => {\n        return error;\n      }));\n  }\n  // get all data to the export excel 'etat du marche'\n  public getDataForDashboardA(\n    id_break: number,\n    cd_cip13: number[],\n    cd_subst: number[],\n    id_user: number): Observable<any> {\n    const params = {\n        'id_break': id_break,\n        'cd_cip13': cd_cip13,\n        'cd_subst': cd_subst,\n        'id_user': id_user\n    };\n    return this._Request.post('data_excel_1.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const results = [];\n        if (response.body.rows.length < 1) {\n          return results;\n        } else {\n          response.body.rows.forEach(element => {\n            results.push({\n              namehld: element[0],\n              idhld: element[1],\n              cip13: element[2],\n              cip7: Number(element[2].toString().substr(5, 7)),\n              cis: element[3],\n              subst: element[4],\n              lib: element[5],\n              presentation: element[6],\n              dose: element[7],\n              unit: element[8],\n              namecolumn: element[9] ? element[9].toString().substr(0, 4) + '-' + element[9].toString().substr(4) + '-01' : element[9],\n              valgers: element[10],\n              valmedicam: element[11]\n            });\n          });\n          return results;\n        }\n      },\n      (error) => {\n        return error;\n      }));\n  }\n  public generateExcel(excelData, isLabo: number) {\n\n    const workbook = new Workbook();\n    // ici worksheet 1 : tableau de bord\n    const worksheet1 =  workbook.addWorksheet('Tableau de bord', {\n      pageSetup:\n      {\n        paperSize: 9,\n        orientation: 'portrait'\n      }\n    });\n    this._worksheetContent(worksheet1, excelData, 'DONNÉES DE LA DCI :');\n    this._worksheet1SpecialContent(worksheet1, excelData, workbook);\n    this._stylingWorksheet(worksheet1, 1);\n    let worksheet2;\n    let nameWorkSheet2 = '';\n    if (excelData.activeView === 'array') {\n      nameWorkSheet2 = `Vue tableaux`;\n    } else {\n      nameWorkSheet2 = `Vue graphique`;\n    }\n    const laboName = [];\n    if (isLabo !== -1) {\n      const labo = excelData.presentation.find(x => x.id_hld === isLabo);\n      laboName.push(labo.id_hld);\n    } else {\n      excelData.presentation.forEach(element => {\n        laboName.push(element.id_hld);\n      });\n    }\n    const set: Set<number> = new Set(laboName);\n    let newLaboName = Array.from(set.values());\n    newLaboName = newLaboName.filter(x => excelData.lastDate.find(y => y.idlabo && y.idlabo === x) !== undefined);\n    // ici worksheet 2 : vue graph\n    if (excelData.laboView === 'all') {\n      nameWorkSheet2 = `${nameWorkSheet2} tous laboratoires`;\n      worksheet2 = workbook.addWorksheet(nameWorkSheet2, {\n        pageSetup:\n        {\n          paperSize: 9,\n          orientation: 'landscape'\n        }\n      });\n      let name = `${excelData.activeGraph} :`;\n      name += excelData.lastDate[0].lastDt ? ` (Données au ${formatDate(new Date(excelData.lastDate[0].lastDt), 'shortDate', 'fr-FR')})` : '',\n\n      this._worksheetContent(worksheet2, excelData, name);\n      this._worksheet2SpecialContent(worksheet2, excelData, workbook, 'Tous laboratoire');\n      this._stylingWorksheet(worksheet2, 2);\n    } else {\n      newLaboName.forEach((element, i) => {\n      const title = excelData.presentation.find(x => x.id_hld === element).nm_hld;\n      worksheet2 = workbook.addWorksheet(`${title.substr(0, 31)}`, {\n        pageSetup:\n        {\n          paperSize: 9,\n          orientation: 'landscape'\n        }\n      });\n      let name = `${excelData.activeGraph} :`;\n      name += excelData.lastDate.find(x => x.labo === element) && excelData.lastDate.find(x => x.labo === element).lastDt ? ` (Données au ${formatDate(new Date(excelData.lastDate.find(x => x.labo === element).lastDt), 'shortDate', 'fr-FR')})` : '',\n      this._worksheetContent(worksheet2, excelData,  name);\n      this._worksheet2SpecialContent(worksheet2, excelData, workbook, title, element.toString());\n      this._stylingWorksheet(worksheet2, 2);\n      });\n    }\n    // ici worksheet 3 : Données des labo\n    if (excelData.idView === 'A' && excelData.allData.length > 0) {\n      const worksheet3 =  workbook.addWorksheet('Données tous laboratoire', {\n      pageSetup:\n        {\n          paperSize: 9,\n          orientation: 'landscape'\n        }\n      });\n      this._worksheetContent(worksheet3, excelData,  `${excelData.activeGraph}`);\n      this._worksheet4SpecialContent(worksheet3, excelData);\n      this._stylingWorksheet(worksheet3, 3);\n    } else if (excelData.idView !== 'A' && excelData.allData.length > 0) {\n      const worksheet3 =  workbook.addWorksheet('Données tous laboratoire', {\n        pageSetup:\n          {\n            paperSize: 9,\n            orientation: 'landscape'\n          }\n        });\n        this._worksheetContent(worksheet3, excelData,  `${excelData.activeGraph}`);\n        this._worksheet4SpecialContent(worksheet3, excelData);\n        this._stylingWorksheet(worksheet3, 3);\n    }\n    // Set Print Area for a sheet\n    worksheet1.pageSetup.printArea = 'A1:E41';\n    worksheet2.pageSetup.printArea = 'A1:K32';\n    workbook.xlsx.writeBuffer().then((dataBlob) => {\n      const blob = new Blob([dataBlob], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n      fs.saveAs(blob, `${excelData.nb}_${excelData.name}_${nameWorkSheet2}_(${formatDate(new Date(), 'short', 'fr-FR')}).xlsx`);\n    });\n  }\n  private _worksheetContent(worksheet, excelData, s: string) {\n      worksheet.addRow(['Date : ' + formatDate(new Date(), 'full', 'fr-FR')]);\n      worksheet.mergeCells('A1:F1');\n      worksheet.addRow([]);\n      worksheet.addRow([]);\n      worksheet.getRow(3).height = 20;\n      worksheet.getCell('A3').value = `${excelData.nb} :`;\n      worksheet.mergeCells('A3:B3');\n      worksheet.getCell('C3').value = excelData.name;\n      worksheet.mergeCells('C3:F3');\n      worksheet.addRow([]);\n      worksheet.getRow(4).height = 20;\n      worksheet.getCell('A4').value = `GROUPE :`;\n      worksheet.mergeCells('A4:B4');\n      worksheet.getCell('C4').value = excelData.grp[0];\n      worksheet.mergeCells('C4:F4');\n      worksheet.addRow([]);\n      worksheet.addRow([]);\n      worksheet.getCell('A6').value = s;\n      worksheet.mergeCells('A6:F6');\n      worksheet.getRow(6).height = 20;\n      worksheet.addRow([]);\n  }\n  private _worksheet1SpecialContent(worksheet, excelData, workbook) {\n    const worksheet1 = worksheet;\n    const header = ['Libellé', 'Laboratoire exploitant', 'Code CIP', 'Substance', 'Présentation', 'UE'];\n    const data = [];\n    excelData.presentation.forEach(element => {\n      data.push([\n        element.nm_medic,\n        element.nm_hld,\n        element.cd_cip13.toString(),\n        element.nm_subst,\n        element.ll_prest,\n        element.coef\n      ]);\n    });\n    worksheet1.addRow(header);\n    let cellNb = 8;\n    // Add Data\n    data.forEach(d => {\n      cellNb++;\n      worksheet1.addRow(d);\n      worksheet1.getRow(cellNb).height = 60;\n      this._stylingWorksheet1Special(worksheet1, cellNb);\n    });\n  }\n  private _worksheet2SpecialContent(worksheet, excelData, workbook, laboName, laboid?) {\n    const worksheet2 = worksheet;\n    let cellNb = 8;\n    let vue;\n    if (excelData.activeView === 'array') {\n      if (excelData.laboView === 'all') {\n        vue = 'tableau_general';\n        worksheet2.addRow([`VUE TABLEAU`]);\n        worksheet2.mergeCells(`A${cellNb}:C${cellNb}`);\n        cellNb++;\n        // Blank Row\n        worksheet2.addRow([]);\n        cellNb++;\n      } else {\n        vue = 'tableau_par_labo';\n        worksheet2.addRow([`VUE TABLEAU PAR LABO`]);\n        worksheet2.mergeCells(`A${cellNb}:C${cellNb}`);\n        cellNb++;\n        // Blank Row\n        worksheet2.addRow([]);\n        cellNb++;\n      }\n    } else if (excelData.activeView === 'graphic') {\n      // Add Image\n      let url;\n      let n = -1;\n      worksheet.getCell('G6').value = laboName;\n      worksheet.mergeCells('G6:K6');\n      if (excelData.laboView === 'all') {\n        url = this.images[0].url;\n      } else {\n        this.images.forEach(img => {\n          if (img.name.search(laboid) > n) {\n            n = img.name.search(laboid);\n            url = img.url;\n          }\n        });\n      }\n      const image = workbook.addImage({\n        base64: url,\n        extension: 'png',\n      });\n      // if (excelData.activeGraph.includes('PRÉVISIONNEL')) {\n      //   worksheet2.addImage(image, `A${cellNb}:K${cellNb + 22}`);\n      //   worksheet2.mergeCells(`A${cellNb}:K${cellNb + 22}`);\n      //   if (excelData.activeGraph.includes('GERS')) {\n      //     image = workbook.addImage({\n      //       base64: legendeFile.legendeGERS,\n      //       extension: 'png',\n      //     });\n      //   }\n      //   if (excelData.activeGraph.includes('MEDICAM')) {\n      //     image = workbook.addImage({\n      //       base64: legendeFile.legendeMEDICAM,\n      //       extension: 'png',\n      //     });\n      //   }\n      //   cellNb = cellNb + 23;\n      //   worksheet2.addImage(image, `A${cellNb}:K${cellNb + 1}`);\n      //   worksheet.mergeCells(`A${cellNb}:K${cellNb + 1}`);\n      // } else {\n        worksheet2.addImage(image, `A${cellNb}:K${cellNb + 24}`);\n        worksheet2.mergeCells(`A${cellNb}:K${cellNb + 24}`);\n      // }\n    }\n  }\n\n  private _worksheet4SpecialContent(worksheet, excelData) {\n    const worksheet3 = worksheet;\n    const header = ['Laboratoire exploitant', 'Code CIP13', 'Code CIP7', 'Code CIS', 'Substance', 'Libellé', 'Présentation', 'UE', 'Forme', 'Dosage', 'Unités'];\n    if (excelData.idView !== 'A') {\n      let grnlr;\n      switch (excelData.cdGrnlr) {\n        case 'D':\n          grnlr = 'quotidien';\n        break;\n        case 'W':\n          grnlr = 'hebdomadaire';\n        break;\n        case 'M':\n          grnlr = 'mensuel';\n        break;\n      }\n      header.push('Date du stock', `Besoins Gers ${grnlr}`, `Besoins Medicam ${grnlr}`);\n      let othersColumn = [];\n      let othersColumnName = [];\n      excelData.allData.forEach(element => {\n        const periode = element.namecolumn !== 'Stock à date' && element.dtstockstart !== null && element.dtstockend !== null ? ` (du ${formatDate(new Date(element.dtstockstart), 'shortDate', 'fr-FR')} au ${formatDate(new Date(element.dtstockend), 'shortDate', 'fr-FR')})` : '';\n        othersColumnName.push(element.namecolumn + periode);\n        othersColumn.push(element.namecolumn);\n      });\n      let set: Set<number> = new Set(othersColumnName);\n      othersColumnName = Array.from(set.values());\n      set = new Set(othersColumn);\n      othersColumn = Array.from(set.values());\n      othersColumnName.forEach(element => {\n        header.push(element);\n      });\n      const data = [];\n      excelData.presentation.forEach((presentation: PdctHldSubst) => {\n        const dataByHld = excelData.allData.filter(x => x.cip13 === presentation.cd_cip13);\n        const dataInTable: any[] = [\n          presentation.nm_hld,\n          presentation.cd_cip13.toString(),\n          presentation.cd_cip7.toString(),\n          presentation.cd_cis.toString(),\n          presentation.nm_subst,\n          presentation.nm_medic,\n          presentation.ll_prest,\n          presentation.coef,\n          presentation.form,\n          presentation.dose,\n          presentation.unit,\n          dataByHld[0] && dataByHld[0].dtstockstart !== null ? formatDate(new Date(dataByHld[0].dtstockstart), 'shortDate', 'fr-FR') : '',\n          dataByHld[0] && dataByHld[0].valgers !== null ? dataByHld[0].valgers : null,\n          dataByHld[0] && dataByHld[0].valmedicam !== null ? dataByHld[0].valmedicam : null\n        ];\n        othersColumn.forEach((column: string) => {\n          const dataHld: DataHld = dataByHld.find((el: DataHld) =>\n            el.namecolumn === column\n          );\n          const stock = dataHld && dataHld.stock !== null ? Number(dataHld.stock) : null;\n          dataInTable.push(stock);\n        });\n        data.push(dataInTable);\n      });\n      worksheet3.addRow(header);\n      let cellNb = 8;\n      // Add Data\n      data.forEach(d => {\n        cellNb++;\n        worksheet3.addRow(d);\n        worksheet3.getRow(cellNb).height = 80;\n        this._stylingWorksheet3Special(worksheet3, cellNb, header.length);\n      });\n    } else {\n      let othersColumn = [];\n      let othersColumnName = [];\n      if (excelData.allData && excelData.allData.length > 0) {\n        excelData.allData.sort(function (a, b) {\n          const nA = new Date(a.namecolumn);\n          const nB = new Date(b.namecolumn);\n          if (nA < nB) {\n            return -1;\n          } else if (nA > nB) {\n              return 1;\n          } else {\n              return 0;\n          }\n        });\n      }\n      excelData.allData.forEach(element => {\n        if (element.namecolumn !== null) {\n          const periode = formatDate(new Date(element.namecolumn), 'MMM y', 'fr-FR');\n          othersColumnName.push(`Ventes Gers ${periode}`, `Besoins Medicam ${periode}`);\n          othersColumn.push(element.namecolumn);\n        }\n      });\n      let set: Set<number> = new Set(othersColumnName);\n      othersColumnName = Array.from(set.values());\n      set = new Set(othersColumn);\n      othersColumn = Array.from(set.values());\n      othersColumnName.forEach(element => {\n        header.push(element);\n      });\n      const nbDate = othersColumn.length;\n      header.push(`Moyenne Mensuelle Ventes Gers ${nbDate < 12 ? nbDate : 12} derniers mois`);\n      header.push(`Moyenne Mensuelle Besoins Medicam ${nbDate < 12 ? nbDate : 12} derniers mois`);\n      const data = [];\n      excelData.presentation.forEach((presentation: PdctHldSubst) => {\n        const dataByHld: Array<DataHld> = excelData.allData.filter(x => x.cip13 === presentation.cd_cip13);\n        const dataInTable: any[] = [\n          presentation.nm_hld,\n          presentation.cd_cip13.toString(),\n          presentation.cd_cip7.toString(),\n          presentation.cd_cis.toString(),\n          presentation.nm_subst,\n          presentation.nm_medic,\n          presentation.ll_prest,\n          presentation.coef,\n          presentation.form,\n          presentation.dose,\n          presentation.unit\n        ];\n        const sumGers: Array<Number> = new Array;\n        const sumMedicam: Array<Number> = new Array;\n        othersColumn.forEach((column: string, i) => {\n          const dataHld: DataHld = dataByHld.find((el: DataHld) =>\n            el.namecolumn === column\n          );\n          const valGers = dataHld ? dataHld.valgers : null;\n          const valMedicam = dataHld ? dataHld.valmedicam : null;\n\n          if (valGers !== null && i >= othersColumn.length - 12) {\n            sumGers.push(valGers);\n          }\n          if (valMedicam !== null && i >= othersColumn.length - 12) {\n            sumMedicam.push(valMedicam);\n          }\n          dataInTable.push(valGers === null ? '' : valGers, valMedicam === null ? '' : valMedicam);\n        });\n        const reducer = (accumulator, currentValue) => accumulator + currentValue;\n        const totalGers: number = sumGers.length > 0 ? Number(sumGers.reduce(reducer)) : 0;\n        const totalMedicam: number = sumMedicam.length > 0 ? Number(sumMedicam.reduce(reducer)) : 0;\n        const denoGers: number = sumGers.length > 0 ? sumGers.length : 1;\n        const denoMedicam: number = sumMedicam.length > 0 ? sumMedicam.length : 1;\n        dataInTable.push(Math.round(totalGers / denoGers), Math.round(totalMedicam / denoMedicam));\n        data.push(dataInTable);\n      });\n      worksheet3.addRow(header);\n      let cellNb = 8;\n      // Add Data\n      data.forEach(d => {\n        cellNb++;\n        worksheet3.addRow(d);\n        worksheet3.getRow(cellNb).height = 60;\n        this._stylingWorksheet3Special(worksheet3, cellNb, header.length);\n      });\n    }\n  }\n\n  private _stylingWorksheet(worksheet, nb: number) {\n    worksheet.columns.forEach(column => {\n      column.width = 13;\n    });\n    ['A3:B3', 'A4:B4', 'A6:F6'].map(key => {\n      worksheet.getCell(key).font = {\n        name: 'BarlowSemiCondensed',\n        size: 15,\n        color: {\n          argb: '394157'\n        },\n      };\n      worksheet.getCell(key).alignment = {\n        vertical: 'middle',\n      };\n    });\n    ['C3:F3', 'C4:F4', 'G6:K6'].map(key => {\n      worksheet.getCell(key).font = {\n        name: 'Raleway',\n        size: 16,\n        color: {\n          argb: '394157'\n        },\n        bold: 'true',\n      };\n      worksheet.getCell(key).alignment = {\n        vertical: 'middle',\n        wrapText: 'true',\n      };\n    });\n    if (nb === 1) {\n      ['A8', 'B8', 'C8', 'D8', 'E8', 'F8'].map(key => {\n        worksheet.getCell(key).fill = {\n          type: 'pattern',\n          pattern: 'solid',\n          fgColor: {\n            argb: '46DAD8'\n          }\n        };\n        worksheet.getCell(key).font = {\n          name: 'BarlowSemiCondensed',\n          size: 11,\n          color: {\n            argb: '394157'\n          },\n        };\n        worksheet.getCell(key).alignment = {\n          vertical: 'middle',\n          horizontal: 'center',\n          wrapText: 'true',\n        };\n      });\n      worksheet.getRow(8).height = 40;\n    } else if (nb === 3) {\n      const table = this._setTable(8, worksheet._columns.length);\n      table.map(key => {\n        worksheet.getCell(key).fill = {\n          type: 'pattern',\n          pattern: 'solid',\n          fgColor: {\n            argb: '46DAD8'\n          }\n        };\n        worksheet.getCell(key).font = {\n          name: 'BarlowSemiCondensed',\n          size: 11,\n          color: {\n            argb: '394157'\n          },\n        };\n        worksheet.getCell(key).alignment = {\n          vertical: 'middle',\n          horizontal: 'center',\n          wrapText: 'true',\n        };\n      });\n      worksheet.getRow(8).height = 80;\n    } else {\n      return;\n    }\n  }\n  private _stylingWorksheet1Special(worksheet, cellNb) {\n    const cellNbString = cellNb.toString();\n    [`A${cellNbString}`, `B${cellNbString}`, `C${cellNbString}`, `D${cellNbString}`, `E${cellNbString}`, `F${cellNbString}`].map(key => {\n      worksheet.getCell(key).font = {\n        name: 'BarlowSemiCondensed',\n        size: 8,\n        color: {\n          argb: '394157'\n        },\n        bold: 'true',\n      };\n      worksheet.getCell(key).alignment = {\n        vertical: 'middle',\n        horizontal: 'center',\n        wrapText: 'true',\n      };\n      if (cellNb % 2 === 0) {\n        worksheet.getCell(key).fill = {\n          type: 'pattern',\n          pattern: 'solid',\n          fgColor: {\n            argb: 'EFF5FC'\n          }\n        };\n      }\n    });\n  }\n  private _stylingWorksheet3Special(worksheet, cellNb, headerLength) {\n    const table = this._setTable(cellNb, headerLength);\n    table.map(key => {\n      worksheet.getCell(key).font = {\n        name: 'BarlowSemiCondensed',\n        size: 8,\n        color: {\n          argb: '394157'\n        },\n        bold: 'true',\n      };\n      worksheet.getCell(key).alignment = {\n        vertical: 'middle',\n        horizontal: 'center',\n        wrapText: 'true',\n      };\n      if (cellNb % 2 === 0) {\n        worksheet.getCell(key).fill = {\n          type: 'pattern',\n          pattern: 'solid',\n          fgColor: {\n            argb: 'EFF5FC'\n          }\n        };\n      }\n    });\n  }\n  private _setTable(cellNb: number, headerLength: number): string[] {\n    const cellNbString = cellNb.toString();\n    const table = [];\n    const alphabetic = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    let i: number = 0;\n    while (i < headerLength) {\n      if (i < 26) {\n        table.push(`${alphabetic.substr(i, 1)}${cellNbString}`);\n      } else if (i < (26 * 2)) {\n        table.push(`A${alphabetic.substr(i - 26, 1)}${cellNbString}`);\n      } else if (i < (26 * 3)) {\n        table.push(`B${alphabetic.substr(i - (26 * 2), 1)}${cellNbString}`);\n      } else {\n        return;\n      }\n      i++;\n    }\n    return table;\n  }\n}\n\n","export * from './excel.service';\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { DataEntry, GridDataRow, GridDataType, PdctHldSubst, DataBreak } from 'src/app/models';\nimport { first, switchMap, map } from 'rxjs/operators';\nimport { DataEntryService } from '../dataEntry';\nimport { AuthenticationService } from '../authentication.service';\nimport { of, Observable } from 'rxjs';\nimport { BreakService } from '../break';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class GridDataService {\n\n    public saveSuccess: boolean = false;\n    public error: boolean = false;\n    public validated: EventEmitter<number> = new EventEmitter();\n    public saved: EventEmitter<boolean> = new EventEmitter();\n\n    private _dataOrigin: Array<PdctHldSubst>;\n    private _data: {[key: string]: Array<GridDataRow>} = {\n        [GridDataType.RECURRENT]: [],\n        [GridDataType.STARTING]: []\n    };\n\n    constructor(\n        private _breakService: BreakService,\n        private _dataEntry: DataEntryService,\n        private _authService: AuthenticationService) {}\n\n    get canValidate(): boolean {\n        const hasEmptyValues: boolean = (\n            this._data[GridDataType.RECURRENT].reduce((c, d) => c += d.nbEmptyValue, 0) +\n            this._data[GridDataType.STARTING].reduce((c, d) => c += d.nbEmptyValue, 0)\n        ) > 0;\n        return this._canValidate(GridDataType.RECURRENT)\n            && this._canValidate(GridDataType.STARTING)\n            && !hasEmptyValues;\n    }\n\n    get hasPendingModif(): boolean {\n        return [\n            ...this._getDataToSave(GridDataType.RECURRENT),\n            ...this._getDataToSave(GridDataType.STARTING)\n        ].length > 0;\n    }\n\n    public setData(data: Array<PdctHldSubst>, type: GridDataType): void {\n        const idUser: number = this._authService.currentUserValue.id;\n        let newData = data;\n        newData = data.filter(x => x.data[type].length > 0);\n        this._dataOrigin = newData;\n        this._data[type] = newData.map(row => new GridDataRow(row, type, idUser));\n    }\n\n    public getData(type: GridDataType): Array<GridDataRow> {\n        return this._data[type];\n    }\n\n    public controlStockError(archives: DataBreak): boolean {\n        let errorStock = false;\n        const dataToValidate: Array<any> = [\n        ...this._getDataToValidate(GridDataType.RECURRENT),\n        ...this._getDataToValidate(GridDataType.STARTING)\n        ];\n        const prevData = archives ? archives.archivedDataByDate.find(x => x.nextDtGrnlr === dataToValidate[0].dt_grnlr) : null;\n        const originData = archives ? archives.archivedDataByDate.find(x => x.date === dataToValidate[0].dt_grnlr) : null;\n        let valuesPrevStock: Array<DataEntry>;\n        let valuesStockOrigin: Array<DataEntry> = new Array;\n        let valuesSupplyOrigin: Array<DataEntry> = new Array;\n        let valuesSendedOrigin: Array<DataEntry> = new Array;\n        if (prevData) {\n            valuesPrevStock = prevData.recurrentData.filter((x: DataEntry) =>\n            x.id_indc.cd_indc === 'IE-1');\n        }\n        if (originData) {\n            valuesStockOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 7);\n            valuesSupplyOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 8);\n            valuesSendedOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 22);\n        }\n        const valuesStock = dataToValidate.filter(x => x.id_indc === 7).concat(valuesStockOrigin);\n        const valuesSupply = dataToValidate.filter(x => x.id_indc === 8).concat(valuesSupplyOrigin);\n        const valuesSended = dataToValidate.filter(x => x.id_indc === 22).concat(valuesSendedOrigin);\n        if (\n            valuesPrevStock\n            &&\n            valuesStock.length > 0\n            &&\n            valuesSupply.length > 0\n            &&\n            valuesSended.length > 0\n        ) {\n            valuesSended.forEach(element => {\n                const dataPrevStock = valuesPrevStock.find((x: DataEntry) =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valuePrevStock = dataPrevStock ? Number(dataPrevStock.val_indc) : null;\n                const datavaluesSupply = valuesSupply.find(x =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valueSupply = datavaluesSupply ? Number(datavaluesSupply.val_indc) : null;\n                const dataStock = valuesStock.find((x: DataEntry) =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valueStock = dataStock ? Number(dataStock.val_indc) : null;\n                const stockTotal = valuePrevStock !== null && valueSupply !== null ?\n                    valuePrevStock - Number(element.val_indc) + valueSupply : null;\n                const stockMin = stockTotal !== null ?\n                    stockTotal - Math.abs(stockTotal * 0.05) : null;\n                const stockMax = stockTotal !== null ?\n                    stockTotal + Math.abs(stockTotal * 0.05) < 0 ? 0 : stockTotal + Math.abs(stockTotal * 0.05) : null;\n                errorStock = valueStock !== null && stockTotal !== null && (valueStock < stockMin || valueStock > stockMax) ?\n                    true : errorStock;\n            });\n        }\n        return errorStock;\n    }\n\n    public controlStockBiggest(archives: DataBreak): boolean {\n        let errorSended = false;\n        const dataToValidate: Array<any> = [\n        ...this._getDataToValidate(GridDataType.RECURRENT),\n        ...this._getDataToValidate(GridDataType.STARTING)\n        ];\n        const prevData = archives ? archives.archivedDataByDate.find(x => x.nextDtGrnlr === dataToValidate[0].dt_grnlr) : null;\n        const originData = archives ? archives.archivedDataByDate.find(x => x.date === dataToValidate[0].dt_grnlr) : null;\n        let valuesPrevStock: Array<DataEntry>;\n        let valuesStockOrigin: Array<DataEntry> = new Array;\n        let valuesSupplyOrigin: Array<DataEntry> = new Array;\n        let valuesSendedOrigin: Array<DataEntry> = new Array;\n        if (prevData) {\n            valuesPrevStock = prevData.recurrentData.filter((x: DataEntry) =>\n            x.id_indc.cd_indc === 'IE-1');\n        }\n        if (originData) {\n            valuesStockOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 7);\n            valuesSupplyOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 8);\n            valuesSendedOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 22);\n        }\n        const valuesStock = dataToValidate.filter(x => x.id_indc === 7).concat(valuesStockOrigin);\n        const valuesSupply = dataToValidate.filter(x => x.id_indc === 8).concat(valuesSupplyOrigin);\n        const valuesSended = dataToValidate.filter(x => x.id_indc === 22).concat(valuesSendedOrigin);\n        if (\n            valuesPrevStock\n            &&\n            valuesStock.length > 0\n            &&\n            valuesSupply.length > 0\n            &&\n            valuesSended.length > 0\n        ) {\n            valuesSended.forEach(element => {\n                const dataPrevStock = valuesPrevStock.find((x: DataEntry) =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valuePrevStock = dataPrevStock ? Number(dataPrevStock.val_indc) : null;\n                const datavaluesSupply = valuesSupply.find(x =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valueSupply = datavaluesSupply ? Number(datavaluesSupply.val_indc) : null;\n                errorSended = valuePrevStock !== null && valueSupply !== null && Number(element.val_indc) > (valuePrevStock + valueSupply) ?\n                    true : errorSended;\n            });\n        }\n        return errorSended;\n    }\n\n    public save(): Observable<void> {\n        const dataToSave: Array<DataEntry> = [\n            ...this._getDataToSave(GridDataType.RECURRENT),\n            ...this._getDataToSave(GridDataType.STARTING)\n        ];\n        if (dataToSave.length === 0) {\n            return of(null);\n        }\n        const obs: Observable<void> = this._dataEntry.updateDataEntry(dataToSave);\n        obs.pipe(\n            first())\n            .subscribe(\n                () => {\n                this._updateValues(GridDataType.STARTING);\n                this._updateValues(GridDataType.RECURRENT);\n                this.saved.emit(true);\n                this._saveSuccess();\n                },\n                this._onError.bind(this));\n        return obs;\n    }\n\n    public validate(): void {\n        const dataToCreate: Array<DataEntry> = this._getDataToCreate(GridDataType.RECURRENT);\n        const dataToValidate: Array<DataEntry> = [\n            ...this._getDataToValidate(GridDataType.RECURRENT),\n            ...this._getDataToValidate(GridDataType.STARTING)\n        ];\n        if (dataToValidate.length === 0) {\n            return;\n        }\n        this._dataEntry.updateDataEntry(dataToValidate)\n        .pipe(\n            first(),\n            switchMap(d => this._setNextDate(dataToCreate, this._dataEntry.nextDtGrnlr)),\n            switchMap(toCreate => this._createDataEntry(toCreate)),\n            switchMap(created => this._dataEntry.controlDataEntry(dataToValidate[0])),\n        )\n        .subscribe(\n            (resp) => {\n                this.validated.emit(resp);\n            },\n            this._onError.bind(this)\n        );\n    }\n\n    private _getDataToSave(type: GridDataType): Array<DataEntry> {\n        return this._data[type].reduce((acc, dataRow) =>\n            acc = [...acc, ...dataRow.dataToSave]\n        , []) as Array<DataEntry>;\n    }\n\n    private _getDataToValidate(type: GridDataType): Array<DataEntry> {\n        return this._data[type].reduce((acc, dataRow) =>\n            acc = [...acc, ...dataRow.dataToValidate]\n        , []) as Array<DataEntry>;\n    }\n\n    private _getDataToCreate(type: GridDataType): Array<DataEntry> {\n        return this._data[type].reduce((acc, dataRow) =>\n            acc = [...acc, ...dataRow.dataToCreate]\n        , []) as Array<DataEntry>;\n    }\n\n    private _canValidate(type: GridDataType): boolean {\n        let canValidate = true;\n        this._data[type].forEach(d => {\n            if (!d.canValidate) {\n                canValidate = false;\n            }\n        });\n        return canValidate;\n    }\n\n    private _saveSuccess(): void {\n        this.saveSuccess = true;\n        setTimeout(() => this.saveSuccess = false, 4000);\n    }\n\n    private _updateValues(type: GridDataType): void {\n        this._getDataToSave(type).forEach(d => {\n            const rowOrig: PdctHldSubst = this._dataOrigin.find(row => row.cd_cip13 === d.cd_cip13);\n            const indc: DataEntry = rowOrig.data[type].find(entry => entry.id_indc.id_indc === (d.id_indc as unknown));\n            indc.val_indc = d.val_indc;\n        });\n    }\n\n    private _onError(): void {\n        this.error = true;\n        setTimeout(() => this.error = false, 4000);\n    }\n\n    private _setNextDate(dataToCreate: Array<any>, nextDate: string): Observable<Array<DataEntry>> {\n        const newDataEntries = [];\n        dataToCreate.forEach(d => {\n                d.dt_grnlr = nextDate;\n                newDataEntries.push(d);\n        });\n        return of(newDataEntries);\n    }\n\n    private _createDataEntry(newDataEntries: Array<any>): Observable<any> {\n        if (newDataEntries.length < 1) {\n            return of(true);\n          } else {\n              return this._dataEntry.createDataEntry(newDataEntries)\n              .pipe(map(\n                (resp) => {\n                  return true;\n                },\n                (err) => {\n                  return err;\n              }));\n          }\n    }\n}\n","export * from './gridData.service';\n","import { Injectable } from '@angular/core';\nimport { AuthenticationService } from '../authentication.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HomeService {\n\n  public sessionSucces: boolean = false;\n  constructor(\n    private readonly _authenticationService: AuthenticationService,\n  ) { }\n\n  public sessionCreatedSuccess() {\n    this._authenticationService.redirection();\n    this.sessionSucces = true;\n    setTimeout(() =>\n      this.sessionSucces = false, 4000\n    );\n  }\n}\n","export * from './home.service';\n","export * from './config';\nexport * from './language';\nexport * from './authentication.service';\nexport * from './request.service';\nexport * from './break';\nexport * from './roles';\nexport * from './dataEntry';\nexport * from './user';\nexport * from './loader.service';\nexport * from './indicatifs';\nexport * from './mailer';\nexport * from './logs';\nexport * from './gridData';\nexport * from './dashboard';\nexport * from './excel';\nexport * from './home';\nexport * from './unit';\nexport * from './admin';\nexport * from './cache';\n\n","export * from './indicatifs.service';\n","import { Injectable } from '@angular/core';\nimport { Indicatif } from 'src/app/models';\n\n@Injectable()\nexport class IndicatifsService {\n    public indicatifs: Array<Indicatif> = [\n        {\n          pays: 'FRANCE',\n          indc: '33'\n        },\n        {\n          pays: 'AUTRICHE',\n          indc: '43'\n        },\n        {\n          pays: 'BELGIQUE',\n          indc: '32'\n        },\n        {\n          pays: 'DANEMARK',\n          indc: '45'\n        },\n        {\n          pays: 'ALLEMAGNE',\n          indc: '49'\n        },\n        {\n          pays: 'GRECE',\n          indc: '30'\n        },\n        {\n          pays: 'HONGRIE',\n          indc: '36'\n        },\n        {\n          pays: 'ITALIE',\n          indc: '39'\n        },\n        {\n          pays: 'PAYS-BAS',\n          indc: '31'\n        },\n        {\n          pays: 'NORVEGE',\n          indc: '47'\n        },\n        {\n          pays: 'POLOGNE',\n          indc: '48'\n        },\n        {\n          pays: 'ESPAGNE',\n          indc: '34'\n        },\n        {\n          pays: 'SUEDE',\n          indc: '46'\n        },\n        {\n          pays: 'ROYAUME-UNI',\n          indc: '44'\n        },\n        {\n          pays: 'SUISSE',\n          indc: '41'\n        }\n      ];    constructor () {\n    }\n}\n","export * from './language.service';\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Injectable()\nexport class LanguageService {\n    private _languages: Array<string> = ['en', 'fr'];\n\n    constructor(private translate: TranslateService) {\n    }\n\n    public init(): void {\n\n        this.translate.addLangs(this._languages);\n        for (let i = 0; i < this._languages.length; i++) {\n            // tslint:disable-next-line:no-require-imports\n            this.translate.setTranslation(this._languages[i], require('../../../i18n/' + this._languages[i] + '.json'), true);\n        }\n        this.translate.setDefaultLang('fr');\n        this.translate.use('fr');\n    }\n\n    public setLanguage(language: string): void {\n        if (this._languages.indexOf(language) > -1) {\n            this.translate.use(language);\n        } else {\n            console.error('ERROR -> LanguageService : ' + language + ' is not a known language');\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoaderService {\n    public showSpinner = false;\n\n    constructor(\n    ) {}\n\n    public startingDataLoading() {\n        this.showSpinner = true;\n    }\n    public endingDataLoading() {\n        this.showSpinner = false;\n    }\n}\n\n\n\n\n\n","export * from './logs.service';\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { User } from 'src/app/models';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class LogsService {\n\n  private hideDataSensible = [\n    'lb_tel', 'lb_ad_mail', 'mail', 'password', 'sms'\n  ];\n\n  constructor(\n    private readonly _router: Router,\n    private readonly _Request: RequestService,\n  ) { }\n\n    public registerLogs(req: any, response: any, user: User) {\n        if (\n          (req.body && req.body.template && req.body.template === 'insert_logs.tpl')\n          || !user\n          || (user && !user.jwt)\n          || response.url.includes('config.app.json')\n        ) {\n          return;\n        }\n        const log = {\n          'time': new Date().toISOString(),\n          'userId': null,\n          'actionPage': this._router.url,\n          'actionText': response.url,\n          'status': response.status,\n          'error': 'aucune erreur',\n          'params': {}\n        };\n        if (user) {\n          log.userId = user.id;\n        }\n        if (response.error && response.error.detail) {\n          log.error = response.error.detail;\n        }\n        if (response.error && !response.error.detail) {\n          log.error = response.message;\n        }\n        if (req.body && req.body.template) {\n          log.actionText = `${log.actionText}/${req.body.template}`;\n        }\n        if (req.body && req.body.params) {\n          this.hideDataSensible.forEach(sensibleData => {\n            const sensible = req.body.params[sensibleData];\n            if (sensible) {\n              req.body.params[sensibleData] = '********';\n            }\n          });\n          log.params = JSON.stringify(req.body.params);\n        } else {\n          log.params = JSON.stringify(req.body);\n        }\n        this.createLogs(log)\n        .subscribe(\n          (resp) => {\n            return;\n          },\n          (error) => {\n            return;\n          }\n        );\n    }\n    // Creation d'une session de rupture et renvoi l'id de la rupture créée\n    private createLogs(data: any): Observable<any> {\n      return this._Request.post('insert_logs.tpl', data)\n      .pipe(map(\n        (response: any) => {\n          return response;\n        },\n        (error) => {\n          return error;\n        }));\n    }\n\n}\n","export * from './mailer.service';\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { DataEntryTrackingModel, Mail, PdctForMail } from 'src/app/models';\nimport { ConfigService } from '../config';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class MailerService {\n  private _results: Array<any>;\n\n  constructor(\n    private readonly _Request: RequestService\n  ) {\n  }\n\n  // Get product for mail\n  public getPdctForMail(data: DataEntryTrackingModel) {\n    const dt_grnlr = data.info.find(x => x.periodecourante === data.selectedCurrentDate).dtgrnlr;\n    const params = {\n      'id_break': data.idsession,\n      'id_hld': data.idlabo,\n      'dt_grnlr': dt_grnlr\n    };\n    return this._Request.post('list_pdct_for_mail_recall.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const result: Array<PdctForMail> = [];\n        response.body.rows.forEach(element => {\n          const pdct = {} as PdctForMail;\n          pdct.cip = element[0];\n          pdct.nomSubst = element[1];\n          pdct.nomMedic = element[2];\n          pdct.saveOrValidate = element[3];\n          result.push(pdct);\n        });\n        return result;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n  // Creation d'un mail à envoyer\n    public createMail(body: Array<Mail>): Observable<any> {\n        return this._Request.postMail(body)\n        .pipe(map(\n        (response: any) => {\n            return response;\n        },\n        (error) => {\n            return error;\n        }));\n    }\n\n    public getResults() {\n        return this._results;\n    }\n}\n\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ConfigService } from './config';\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestService {\n  constructor(\n    private readonly _http: HttpClient,\n    private readonly _config: ConfigService,\n  ) {}\n  /* ---------------------------------------------------\n  METHODE get(path)\n  * Récupère sous forme de tableau json les information en base de donnée correspondant au template ajouté en paramètre\n  -----------------------------------------------------*/\n  public post(template: string, params: Object): Observable<any> {\n    return this._http\n    .post(`${this._config.apiUrl}/query`,\n        {\n            'template': template,\n            'params': params\n        },\n        {\n            observe: 'response'\n        }\n    );\n  }\n\n  /* ---------------------------------------------------\n  METHODE get(path)\n  * Récupère sous forme de tableau json les le token et les info du user\n  -----------------------------------------------------*/\n  public getTokenAndUserDetails(username: string, psd: string): Observable<any> {\n    return this._http\n    .post(`${this._config.apiUrl}/auth/authenticate`,\n      {'username': username, 'password': psd},\n      {\n          headers: {'Content-Type': 'application/json'},\n          observe: 'response'\n      }\n    );\n  }\n\n  /* ---------------------------------------------------\n  METHODE postCodeVerification()\n  * Sms or mail  verification\n  -----------------------------------------------------*/\n  public postCodeVerification(username: string, tel: string, url: string): Observable<any> {\n    return this._http\n    .post(`${this._config.otpUrl}/${url}?username=${username}&recipient=${tel}`,\n      {}\n    );\n  }\n\n    /* ---------------------------------------------------\n  METHODE postNewPassword()\n  * check if user exist with mail and send tel number\n  -----------------------------------------------------*/\n  public postCheckUser(login: string, method: string): Observable<any> {\n    return this._http\n    .post(`${this._config.apiUrl}/auth/checkUser`,\n      {\n        'username': login,\n        'method': method\n      },\n      {\n          headers: {'Content-Type': 'application/json'},\n          observe: 'response'\n      }\n    );\n    // .post(`${this._config.otpUrl}/newmdp?mail=${mail}`,\n    //   {}\n    // );\n  }\n\n  /* ---------------------------------------------------\n  METHODE postNewPassword()\n  * send new password by mail\n  -----------------------------------------------------*/\n  public postNewPassword(username: string, code: string): Observable<any> {\n    return this._http\n    .post(`${this._config.apiUrl}/auth/initNewPassword`,\n    {'username': username, 'code': code},\n      {\n          headers: {'Content-Type': 'application/json'},\n          observe: 'response'\n      }\n    );\n    // .post(`${this._config.otpUrl}/newmdp?mail=${mail}`,\n    //   {}\n    // );\n  }\n\n  /* ---------------------------------------------------\n  METHODE postMail()\n  * Mail\n  -----------------------------------------------------*/\n  // public postMail(body): Observable<any> {\n  public postMail(body): Observable<any> {\n    return this._http\n    .post(`${this._config.apiUrl}/mailer`,\n    body,\n    {\n        headers: {'Content-Type': 'application/json'},\n        observe: 'response'\n    }\n    );\n  }\n\n}\n\n\n\n\n\n","export * from './roles.service';\n","import { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class RolesService {\n    public dashboard = ['ROLE_ANSM', 'ROLE_LEEM', 'ROLE_ADMIN', 'ROLE_VALIDATOR', 'ROLE_USER'];\n    public dataentry = ['ROLE_USER', 'ROLE_VALIDATOR', 'ROLE_ADMIN'];\n    public admin = ['ROLE_ADMIN'];\n    public validator = ['ROLE_VALIDATOR'];\n    public labo = ['ROLE_VALIDATOR', 'ROLE_USER'];\n    public leem = ['ROLE_LEEM'];\n    public allRoles = [\n        {lbl: 'Admin',\n        role: 'ROLE_ADMIN'},\n        {lbl: 'Ansm',\n        role: 'ROLE_ANSM'},\n        {lbl: 'Leem',\n        role: 'ROLE_LEEM'},\n        {lbl: 'Labo Validateur',\n        role: 'ROLE_VALIDATOR'},\n        {lbl: 'Labo Utilisateur',\n        role: 'ROLE_USER'}\n    ];\n    constructor () {\n    }\n}\n","export * from './unit.service';\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { PdctUnitModel } from 'src/app/models';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class UnitService {\n  private _results: PdctUnitModel[];\n\n  constructor(\n    private readonly _Request: RequestService,\n  ) { }\n\n  // get all pdct and coef\n  public getPdcts(): Observable<PdctUnitModel[]> {\n    const params = {};\n    return this._Request.post('list_pdct_unit.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        this._results = new Array;\n        response.body.rows.forEach((element: any[]) => {\n            const alreadyCipExist = this._results.find(x => x.cip === element[3]);\n            if (alreadyCipExist) {\n              alreadyCipExist.labo = `${alreadyCipExist.labo}, ${element[2]}`;\n              return;\n            }\n            const pdctUnitModel = {} as PdctUnitModel;\n            pdctUnitModel.nom = element[0];\n            pdctUnitModel.presentation = element[1];\n            pdctUnitModel.labo = element[2];\n            pdctUnitModel.cip = element[3];\n            pdctUnitModel.dosage = element[4];\n            pdctUnitModel.unit = element[5];\n            this._results.push(pdctUnitModel);\n        });\n        return this._results;\n      },\n      (error) => {\n        return error;\n      }\n    ));\n  }\n\n  // Creation d'une session de rupture et renvoi l'id de la rupture créée\n  public updateOrCreateUnit(data: Array<number[]>): Observable<any> {\n    const results = new Array;\n    data.forEach(element => {\n      const objet = {\n        'cip': element[0],\n        'unit': element[1]\n      };\n      results.push(objet);\n    });\n    const params = {\n      'results': results\n    };\n    return this._Request.post('insert_or_create_unit.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return response;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n}\n","export * from './user.service';\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Labo, User } from 'src/app/models';\nimport { RequestService } from '../request.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  private _results: Array<any>;\n\n  constructor(\n    private readonly _Request: RequestService\n  ) { }\n\n    // get all users or user by id\n    public getUsers(id?: number): Observable<any> {\n        let params = {};\n        if (id) {\n            params = {\n            'id_user': id\n            };\n        }\n        return this._Request.post('list_user.tpl', params)\n        .pipe(map(\n            (response: any) => {\n            this._results = [];\n            if (response.body.rows.length < 1) {\n                return false;\n            } else {\n                response.body.rows.forEach(element => {\n                    const user = new User;\n                    user.id = element[0],\n                    user.username = element[1],\n                    user.lastName = element[2],\n                    user.firstName = element[3],\n                    user.email = element[4],\n                    user.labo = element[5],\n                    user.laboName = element[6] ? element[6] : '',\n                    user.tel = element[7],\n                    user.password = element[8],\n                    user.status = element[9],\n                    user.role = element[10],\n                    this._results.push(\n                        user\n                    );\n                });\n                return true;\n                }\n            },\n            (error) => {\n            return false;\n            }\n          ));\n        }\n\n  // get all labo or labo by id_hld\n  public getLabo(): Observable<any> {\n    const params = {};\n    return this._Request.post('list_labo.tpl', params)\n    .pipe(map(\n        (response: any) => {\n          const _results: Array<Labo> = [];\n          response.body.rows.forEach(element => {\n            const labo = new Labo;\n            labo.id_hld = element[0];\n            labo.nm_hld = element[1];\n            _results.push(labo);\n          });\n          return _results;\n        },\n        (error) => {\n          return false;\n        }\n      ));\n    }\n\n  // Creation d'une session de rupture et renvoi l'id de la rupture créée\n  public createUser(tech_user: User): Observable<number> {\n    const params = {\n        'username': tech_user.username,\n        'password': tech_user.password,\n        'active': tech_user.status.toString() ,\n        'roles': tech_user.role\n      };\n    return this._Request.post('insert_tech_user.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        const id = response.body.rows[0] && response.body.rows[0][0] ? response.body.rows[0][0] : 0;\n        return id;\n      },\n      (error) => {\n        return error;\n      }));\n  }\n\n  // Creation d'une session de rupture et renvoi l'id de la rupture créée\n  public createRefUser(ref_user: User, id: number): Observable<any> {\n    if (id !== 0) {\n      const params = {\n        'id_user': id,\n        'lb_nom': ref_user.lastName,\n        'lb_prenom': ref_user.firstName,\n        'lb_ad_mail': ref_user.email,\n        'cd_user_propose': ref_user.username,\n        'id_labo': ref_user.labo,\n        'lb_tel': ref_user.tel\n    };\n    return this._Request.post('insert_ref_user.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        return true;\n      },\n      (error) => {\n        return error;\n      }));\n    } else {\n      return of(false);\n    }\n\n  }\n  // Met à jours les sessions rupture\n  public updateUser(tech_user: User, password: boolean): Observable<any> {\n    let params = {};\n    if (password) {\n      params = {\n        'id': tech_user.id,\n        'username': tech_user.username,\n        'password': tech_user.password,\n        'active': tech_user.status.toString(),\n        'roles': tech_user.role\n      };\n    } else {\n      params = {\n        'id': tech_user.id,\n        'username': tech_user.username,\n        'active': tech_user.status.toString(),\n        'roles': tech_user.role\n      };\n    }\n    return this._Request.post('update_tech_user.tpl', params)\n    .pipe(map(\n      (response: any) => {\n        if (response.body.rows[0] && response.body.rows[0][0]) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n      (error) => {\n        return error;\n      }));\n  }\n    // Met à jours les sessions rupture\n    public updateRefUser(ref_user: User, d: boolean): Observable<any> {\n      if (d === true) {\n        const params = {\n          'id_user': ref_user.id,\n          'lb_nom': ref_user.lastName,\n          'lb_prenom': ref_user.firstName,\n          'cd_user_propose': ref_user.username,\n          'lb_ad_mail': ref_user.email,\n          'id_labo': ref_user.labo,\n          'lb_tel': ref_user.tel,\n        };\n        return this._Request.post('update_ref_user.tpl', params)\n        .pipe(map(\n          (response: any) => {\n            return true;\n          },\n          (error) => {\n            return error;\n          }));\n      } else {\n        return of(false);\n      }\n\n    }\n  public getResults() {\n    return this._results;\n    }\n}\n","export * from './noUserForLabo';\n\n","export * from './noUserForLabo.component';\n","<h2 *ngIf=\"data.title\" mat-dialog-title>{{data.title | translate}} <span  *ngIf=\"data.subtitle\" class=\"highlight\">{{data.subtitle | translate}}</span></h2>\n<mat-dialog-content class=\"mat-typography\">\n  <ul class=\"p-0\" *ngIf=\"data.pdct\">\n    <li class=\"pb-2 pt-2\" *ngFor=\"let pdct of data.pdct\">\n      <h3 class=\"m-0\">{{pdct.nm_medic}}</h3>\n      <p class=\"m-0\">{{pdct.nm_hld}}</p>\n      <small>Code CIP : {{pdct.cd_cip13}}</small>\n    </li>\n  </ul>\n</mat-dialog-content>\n<mat-dialog-actions align=\"end\">\n  <button mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>{{'_Button_dialog_ok_' | translate}}</button>\n</mat-dialog-actions>\n\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { PdctHldSubst } from 'src/app/models';\n\nexport interface DialogDataNoUser {\n  pdct: Array<PdctHldSubst>;\n  title: string;\n  subtitle: string;\n}\n\n@Component({\n  selector: 'app-no-user-for-labo',\n  templateUrl: './noUserForLabo.component.html',\n  styleUrls: ['./noUserForLabo.component.scss']\n})\nexport class NoUserForLaboComponent {\n\n  constructor(\n    public dialogRef: MatDialogRef<NoUserForLaboComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogDataNoUser\n  ) {\n\n  }\n\n\n      // `code CIP : ${pdct.cd_cip13.toString()}`;\n      // const name = pdct.nm_medic;\n      // const labo = pdct.nm_hld;\n      // const dialogRef = this.dialog.open(NoUserForLaboComponent, {\n      //   data: {\n      //     titlePartOne: `_SoldOut_dialog_title_step_4_`,\n      //     titlePartTwo: labo,\n      //     subtitle: '_SoldOut_dialog_subtitle_step_4_',\n      //     paragraphe: name,\n      //     small: cip,\n      //     response: end\n      //   }\n      // });\n}\n","<div *ngIf=\"title\" class=\"dropdown-title\" [ngClass]=\"{'title-white': !active}\">{{title}}</div>\n  <div class=\"dropdown\">\n    <div class=\"dropdown-toggle\" [ngClass]=\"{'dropdown-disable': !active, 'dropdown-enable': active, 'input-color-disabled-white': colorDisable === 'white', 'input-color-disabled-grey': colorDisable === 'grey', 'input-valid': (dropdownToggleLabel || (dropdownToggleLabels && dropdownToggleLabels.length > 0))}\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-expanded=\"false\" (click)=\"onClickToggle()\">\n      <div class=\"labelInput\" *ngIf=\"typeOfData === 'data-entry-admin' || typeOfData === 'data-entry' || typeOfData === 'user' || typeOfData === 'session-dashboard' || typeOfData === 'group'\">  \n          <p\n          [class.pendding]=\"pendding\"> {{dropdownToggleLabel}}</p>\n      </div>\n      <div class=\"labelInput\" *ngIf=\"typeOfData === 'gran'\">  \n        <p>{{dropdownToggleLabel | translate}}</p>\n      </div>\n      <div *ngIf=\"typeOfData === 'dci'\">  \n          <div class=\"labelInputBox\" *ngFor=\"let data of dropdownToggleLabels\">\n              {{data.nm_subst}}\n              <span (click)=\"onClickDelete($event, data)\"></span>\n          </div>\n      </div>\n    </div>\n    <div class=\"dropdown-menu bottom-shadow\" aria-labelledby=\"dropdownMenuButton\">\n      <div *ngIf=\"search && data\" class=\"picto-search\">\n        <input #searchSession type=\"text\" [ngClass]=\"{'border-input': data && data.length > 0}\" placeholder=\"{{'_SoldOut_form_field_dci_search_' | translate}}\" (keyup)=\"onSearch($event)\">\n        <span></span>\n      </div>\n      <div *ngIf=\"data\" class=\"dropdown-option\" [ngClass]=\"{'padding-top-and-bottom': data && data.length > 0}\">\n        <div \n        class=\"dropdown-list\"\n        *ngIf=\"data.length > 0\">\n\n          <div *ngFor=\"let item of data; let i=index\" [ngClass]=\"{'default-list': typeOfList === 'default', 'checkbox-list': typeOfList === 'checkbox'}\">\n            <div *ngIf=\"i < 50\">\n              <div *ngIf=\"typeOfData === 'user'\" class=\"dropdown-item\" (click)=\"onClick($event, item)\">{{item.firstName}} {{item.lastName}} | {{item.laboName}}</div>\n              <div *ngIf=\"typeOfData === 'session-dashboard'\" class=\"dropdown-item\" (click)=\"onClick($event, item)\">RUPT_{{item.id_break}}_{{item.nb_vers}} - {{item.nm_break}}</div>\n              <div *ngIf=\"typeOfData === 'data-entry'\" class=\"dropdown-item\" (click)=\"onClick($event, item)\">RUPT_{{item.break.id_break}} - {{item.break.nm_break}}</div>\n              <div *ngIf=\"typeOfData === 'data-entry-admin'\" class=\"dropdown-item\" \n              [class.closed]=\"item.fl_break_actvt === 0\"  \n              [class.pendding]=\"item.fl_break_actvt === 2\"\n              (click)=\"onClick($event, item)\">{{item.nm_break === 'Afficher tous les produits'? item.nm_break:'RUPT_'+item.id_break+'_'+item.nb_vers+' - '+item.nm_break}}</div>\n              <div *ngIf=\"typeOfData === 'gran'\" class=\"dropdown-item\" (click)=\"onClick($event, item)\">{{item.text | translate}}</div>\n              <div *ngIf=\"typeOfData === 'group'\" class=\"dropdown-item\" (click)=\"onClick($event, item)\">{{item.name}}</div>\n              <label *ngIf=\"typeOfData === 'dci' || typeOfData === 'unit'\" class=\"dropdown-item\" (click)=\"onClick($event, item)\">\n                  <input *ngIf=\"typeOfData === 'dci'\" type=\"checkbox\" [checked]=\"isChecked(item)\" [value]=\"item\" (change)=\"onChecked($event)\">\n                  <input *ngIf=\"typeOfData === 'unit'\" type=\"checkbox\" [checked]=\"unitIsChecked(item)\" [value]=\"item\" (change)=\"onCheckedUnit($event, item)\">\n                  <span class=\"checkmark\"></span>\n                  <div *ngIf=\"typeOfData === 'dci'\" class=\"text-item\">{{item}}</div>\n                  <div *ngIf=\"typeOfData === 'unit'\" class=\"text-item\">{{item.cip}} - {{item.nom}}</div>\n              </label>\n            </div>\n          </div>\n        </div>\n        <div *ngIf=\"search && data.length < 1\">\n          <div [ngClass]=\"{'default-list': typeOfList === 'default', 'checkbox-list': typeOfList === 'checkbox'}\">\n            <div class=\"dropdown-empty too-much-filter\">{{dropdownNotMatche(typeOfData) | translate}}</div>\n          </div>\n        </div>\n      </div>\n      <div *ngIf=\"!data && search\" class=\"dropdown-option\">\n        <div class=\"loader-content mt-3 mb-3 position-relative\" *ngIf=\"loader.showSpinner === true\">\n          <mat-progress-spinner  mode=\"indeterminate\">\n          </mat-progress-spinner>\n        </div>\n        <div *ngIf=\"loader.showSpinner === false\">\n          <div [ngClass]=\"{'default-list': typeOfList === 'default', 'checkbox-list': typeOfList === 'checkbox'}\">\n            <div class=\"dropdown-empty\">{{dropdownEmpty(typeOfData) | translate}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>","import { Component, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output, ViewChild } from '@angular/core';\nimport { Subst } from 'src/app/models';\nimport { LoaderService } from 'src/app/services';\n\n@Component({\n  selector: 'app-dropdown',\n  templateUrl: './dropdown.component.html',\n  styleUrls: ['./dropdown.component.scss']\n})\nexport class DropdownComponent implements OnInit, OnChanges {\n  @ViewChild('searchSession') searchElement: ElementRef;\n  @Input() active: boolean;\n  @Input() search: boolean;\n  @Input() title: string;\n  @Input() pendding: boolean;\n  @Input() data: any;\n  @Input() colorDisable: string;\n  @Input() typeOfData: string;\n  @Input() typeOfList: string;\n  @Input() dropdownToggleLabel: string;\n  @Input() dropdownToggleLabels: Array<any>;\n  @Output() presentData: EventEmitter<any> = new EventEmitter();\n  @Output() dataDeleted: EventEmitter<any> = new EventEmitter();\n  @Output() keyUpEvent: EventEmitter<any> = new EventEmitter();\n  @Output() checkEvent: EventEmitter<any> = new EventEmitter();\n\n  public isSubmitted: boolean;\n  private searchIsEmpty: Array<any> = [\n    {\n      typeOfData : 'data-entry',\n      field: '_Form_field_data_entry_empty_',\n    },\n    {\n      typeOfData : 'data-entry-admin',\n      field: '_Form_field_session_empty_',\n    },\n    {\n      typeOfData : 'session-dashboard',\n      field: '_Form_field_session_empty_',\n    },\n    {\n      typeOfData : 'dci',\n      field: '_Form_field_dci_empty_',\n    },\n    {\n      typeOfData : 'unit',\n      field: '_Form_field_unit_empty_',\n    },\n    {\n      typeOfData : 'user',\n      field: '_Form_field_user_empty_',\n    },\n    {\n      typeOfData : 'data-entry-not-matche',\n      field: '_Form_field_session_not_matche_',\n    },\n    {\n      typeOfData : 'user-not-matche',\n      field: '_Form_field_user_not_matche_',\n    },\n    {\n      typeOfData : 'dci-not-matche',\n      field: '_Form_field_dci_not_matche_',\n    },\n    {\n      typeOfData : 'unit-not-matche',\n      field: '_Form_field_unit_not_matche_',\n    }\n  ];\n  constructor(\n    public loader: LoaderService,\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges() {\n  }\n\n  public dropdownEmpty(s: string): string {\n    const field = this.searchIsEmpty.find(x => x.typeOfData === s).field;\n    return field;\n  }\n  public dropdownNotMatche(s: string): string {\n    let field: string;\n    let typeOfData: string;\n    switch (s) {\n      case 'data-entry':\n        typeOfData = 'data-entry-not-matche';\n        break;\n      case 'data-entry-admin':\n        typeOfData = 'data-entry-not-matche';\n        break;\n      case 'session-dashboard':\n        typeOfData = 'data-entry-not-matche';\n        break;\n      case 'user':\n        typeOfData = 'user-not-matche';\n        break;\n      case 'dci':\n        typeOfData = 'dci-not-matche';\n        break;\n      case 'unit':\n        typeOfData = 'unit-not-matche';\n    }\n    field = this.searchIsEmpty.find(x => x.typeOfData === typeOfData).field;\n    return field;\n  }\n  public onClickToggle() {\n    const search = this.searchElement;\n    if (search) {\n      setTimeout(() => {\n        this.searchElement.nativeElement.focus();\n      }, 300);\n    } else {\n      return;\n    }\n  }\n  public onClick(e, data: any) {\n    if (\n      this.typeOfData === 'data-entry-admin' || this.typeOfData === 'user' || this.typeOfData === 'session-dashboard' || this.typeOfData === 'group' || this.typeOfData === 'data-entry'\n    ) {\n      this.isSubmitted = true;\n    } else if (this.typeOfData === 'gran') {\n      this.dropdownToggleLabel = data.text;\n    } else if (this.typeOfData === 'dci' || this.typeOfData === 'unit') {\n      e.stopPropagation();\n    } else {\n      return;\n    }\n    this.presentData.emit(data);\n  }\n  public onChecked(e) {\n    this.isSubmitted = true;\n    this.checkEvent.emit(e);\n  }\n  public onCheckedUnit(e, item) {\n    const emit = {\n      checked: e.target.checked,\n      value: item\n    };\n    this.isSubmitted = true;\n    this.checkEvent.emit(emit);\n  }\n  public onClickDelete(e, data: Subst) {\n    e.stopPropagation();\n    this.dataDeleted.emit(data);\n  }\n  public onSearch(e) {\n    this.keyUpEvent.emit(e);\n  }\n  public isChecked(data: string): boolean {\n    if (this.dropdownToggleLabels.find(x => x.nm_subst === data)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  public unitIsChecked(item): boolean {\n    if (this.dropdownToggleLabels.find(x => x.cip === item.cip)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n","export * from './dropdown.component';\n","<form\nclass=\"form\"\n*ngIf=\"type === 'text'\"\n[formGroup]=\"form\">\n    <input\n    [attr.disabled]=\"this.inactive? '' : null\"\n    [class.input-disable]=\"this.inactive\"\n    [class.input-valid]=\"this.form.valid\"\n    [class.input-invalid]=\"submitted && this.form.invalid\"\n    [type]=\"type\"\n    formControlName=\"dataForm\"\n    placeholder=\"{{placeholder | translate}}\"\n    (keyup)=\"onChangeData($event)\">\n    <div\n    class=\"error-block\"\n    *ngIf=\"submitted && this.form.invalid\"\n    [translate]=\"'_Form_field_error_value_'\"></div>\n</form>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-formulaire',\n  templateUrl: './formulaire.component.html',\n  styleUrls: ['./formulaire.component.scss']\n})\nexport class FormulaireComponent implements OnInit {\n\n  @Input() inactive: boolean;\n  @Input() data: any;\n  @Input() type: string;\n  @Input() name: string;\n  @Input() placeholder: string;\n\n  @Output() dataForm: EventEmitter<any> = new EventEmitter();\n\n  public form: FormGroup;\n  public submitted = false;\n\n  constructor(private readonly formBuilder: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.initForm();\n  }\n\n  private initForm() {\n    if (this.type === 'text') {\n      this.form = this.formBuilder.group({\n        dataForm: [this.name, Validators.required],\n        type: this.type\n      });\n    }\n  }\n\n  public onChangeData(e) {\n    this.dataForm.emit(this.form.value);\n  }\n}\n","export * from './formulaire.component';\n","<div class=\"title\" [innerHTML]=\"title\"></div>\n<p *ngIf=\"text\">{{text | translate}}</p>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-highlight-title',\n  templateUrl: './highlightTitle.component.html',\n  styleUrls: ['./highlightTitle.component.scss']\n})\nexport class HighlightTitleComponent implements OnInit {\n  @Input() title: string;\n  @Input() text: string;\n  @Input() highlight: Array<string>;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.highlight.forEach(element => {\n      this.title = this.title.replace(element, '<span class=\"highlight\">' + element + '</span>');\n    });\n  }\n\n}\n","export * from './highlightTitle.component';\n\n","<div class=\"icon-container\" [ngClass]=\"{'no-margin': noMargin}\" >\n  <div *ngIf=\"!noIcon\" class=\"icon-image\">\n    <img width=\"34\" height=\"40\" [src]=\"active ? srcActive : srcInactive\" [alt]=\"altText\">\n  </div>\n  <div \n  *ngIf=\"!lblUrl\" class=\"icon-label\" [style.font-size]=\"fontSize\" [style.line-height]=\"fontLineHeight\" [ngClass]=\"{'disable-click': active === false, activeColor: active, inactiveWhite: !active && colorInactive === 'white', inactiveGrey: !active && colorInactive === 'grey'}\">\n    {{label}}\n    <span *ngIf='afterLabel'>{{afterLabel}}</span>\n  </div>\n  <div  \n  *ngIf=\"lblUrl\"\n  class=\"dropdown\">\n    <div \n    id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\n    class=\"icon-label dropdown-toggle\" [style.font-size]=\"fontSize\" [style.line-height]=\"fontLineHeight\" [ngClass]=\"{'disable-click': active === false, activeColor: active, inactiveWhite: !active && colorInactive === 'white', inactiveGrey: !active && colorInactive === 'grey'}\">\n      {{label}}\n      <span *ngIf='afterLabel'>{{afterLabel}}</span>\n    </div>\n    <div \n    class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n      <a \n      *ngFor=\"let url of lblUrl\"\n      class=\"dropdown-item\" [routerLink]='url.url' [translate]=\"url.lbl\"></a>\n    </div>\n  </div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-icon-text',\n  templateUrl: './iconText.component.html',\n  styleUrls: ['./iconText.component.scss']\n})\nexport class IconTextComponent implements OnInit {\n  @Input() fontLineHeight: string;\n  @Input() fontSize: string;\n  @Input() colorInactive: string;\n  @Input() active: boolean;\n  @Input() srcActive: string;\n  @Input() srcInactive: string;\n  @Input() altText: string;\n  @Input() label: string;\n  @Input() afterLabel: string;\n  @Input() lblUrl: Array<any>;\n  @Input() noIcon: boolean;\n  @Input() noMargin: boolean;\n\n  private baseDir: string = '../../../assets/images/';\n\n  constructor() { }\n\n  ngOnInit() {\n    this.srcActive = this.baseDir + this.srcActive;\n    this.srcInactive = this.baseDir + this.srcInactive;\n  }\n\n}\n","export * from './iconText.component';\n","export * from './highlightTitle';\nexport * from './iconText';\nexport * from './formulaire';\nexport * from './dropdown';\nexport * from './navbar';\nexport * from './redirection';\nexport * from './dialog';\nexport * from './reCaptcha';\n\n","export * from './navbar.component';\n","<div class=\"nav-block\">    \n    <img class=\"btn-navigate\" width=\"24\" height=\"24\" src=\"/assets/images/ansm_icons/Profil.svg\" alt=\"_Navbar_home_button_\" (click)=\"onClickProfil()\">\n    <img class=\"btn-navigate\" width=\"24\" height=\"24\" src=\"/assets/images/ansm_icons/Picto_accueil.svg\" alt=\"_Navbar_home_button_\" (click)=\"onClickHome()\">\n    <div *ngIf=\"authenticationService.currentUserValue\" class=\"welcome\">{{\"_Navbar_welcoming_user_\" | translate}}{{authenticationService.currentUserValue['firstName']}} {{authenticationService.currentUserValue['lastName']}}</div>\n    <img class=\"logout\" width=\"24\" height=\"24\" src=\"/assets/images/ansm_icons/Picto_logout.svg\" alt=\"_Navbar_deconnection_\" (click)=\"onClick('logout')\">\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from 'src/app/services';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss']\n})\nexport class NavbarComponent implements OnInit {\n  public active = false;\n  constructor(\n    public authenticationService: AuthenticationService,\n    private _router: Router\n  ) {\n   }\n\n  ngOnInit(): void {\n  }\n  public activeToggle() {\n    if (this.active === false) {\n      this.active = true;\n    } else {\n      this.active = false;\n    }\n  }\n\n  public onClick(s: string) {\n    switch (s) {\n      case 'logout':\n        this.authenticationService.logout();\n        this._router.navigate(['/view/login']);\n        break;\n    }\n  }\n  public onClickHome() {\n    this.authenticationService.redirection();\n  }\n  public onClickProfil() {\n    this._router.navigate(['/view/profil']);\n  }\n\n}\n","export * from './reCaptcha.component';\n","<re-captcha\n#captchaRef=\"reCaptcha\"\n(resolved)=\"resolved($event, reCaptchaInput)\"\n(error)=\"onError($event, reCaptchaInput)\"\n[siteKey]=\"siteKey\"\nerrorMode=\"handled\"\nsize=\"invisible\"\n[style.visibility]=\"specialCss? 'hidden' : 'initial'\"\n></re-captcha>\n<label \nclass=\"container container-checkbox\"\n[ngClass]=\"{\n  'active': active, \n  'inactive': !active\n}\">\n{{'_Re_Captcha_Label_' | translate}}\n  <input\n  #reCaptchaInput\n  class=\"col-lg-7\"\n  [ngClass]=\"{\n    'input-disable': !active\n  }\"\n  type=\"checkbox\"\n  (click)=\"captchaRef.execute()\"\n  placeholder=\"{{'_LoginForm_form_field_password_' | translate}}\"\n  autocomplete=\"on\">\n  <span \n  class=\"checkmark\"\n  [class.placement]=\"specialCss\"\n  ></span>\n</label>\n<div *ngIf=\"isSubmitted && active && !captchaValid\" class=\"error-block\">\n    <div>{{'_LoginForm_form_error_captcha_required_' | translate}}\n    </div>\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { RecaptchaErrorParameters } from 'ng-recaptcha';\nimport { ConfigService } from 'src/app/services';\n\n@Component({\n  selector: 'app-re-captcha',\n  templateUrl: './reCaptcha.component.html',\n  styleUrls: ['./reCaptcha.component.scss']\n})\nexport class ReCaptchaComponent implements OnInit{  \n  @Input() active: Array<boolean>;\n  @Input() isSubmitted: Array<boolean>;\n  @Input() specialCss: boolean;\n  @Output() response: EventEmitter<boolean> = new EventEmitter();\n  public captchaValid = false;\n  public siteKey;\n\n  constructor(\n    private readonly _config: ConfigService) { }\n\n  ngOnInit(): void {\n    this.siteKey = this._config.reCaptchaKey;\n  } \n  public resolved(captchaResponse: string, input): void {\n    const newResponse = captchaResponse;\n    const className = 're-captcha-valid';\n    const classExiste = input.classList && input.classList.value.includes(className) ? true : false;\n    if (newResponse) {\n      input.classList.add(className);\n      this.captchaValid = true;\n    } else {\n      this.captchaValid = false;\n      if (classExiste) {\n        input.classList.remove(className);\n      }\n    }\n    this.response.emit(this.captchaValid);\n  }\n\n  public onError(errorDetails: RecaptchaErrorParameters, input): void {\n    const newResponse = errorDetails;\n    this.captchaValid = false;\n    const className = 're-captcha-valid';\n    const classExiste = input.classList && input.classList.value.includes(className) ? true : false;\n    if (classExiste) {\n      input.classList.remove(className);\n    }\n    this.response.emit(this.captchaValid);\n  }\n\n}\n","export * from './redirection.component';\n","<div class=\"redirection-container\">\n    <div class=\"message-container\">\n        <label [translate]=\"message\"></label>\n        <a\n        class=\"back-btn\"\n        [routerLink]=\"backRoute\"\n        [translate]=\"'_Back_button_'\"></a>\n    </div>\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n    selector: 'app-redirection',\n    templateUrl: './redirection.component.html',\n    styleUrls: ['./redirection.component.scss']\n})\nexport class RedirectionComponent implements OnInit, OnDestroy {\n\n    public message: string;\n    public backRoute: string;\n    public subscriptions: Array<Subscription> = [];\n\n    constructor(private route: ActivatedRoute) {}\n\n    ngOnInit(): void {\n        this._getInfo();\n    }\n\n    ngOnDestroy(): void {\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n\n    private _getInfo() {\n        const sub = this.route.queryParams.subscribe(params => {\n            this.message = '_Error_page_unauthorized_';\n            this.backRoute = 'view/home';\n            if (params['sessionExpired'] === 'true') {\n                this.message = '_Common_ExpiredSessionError_';\n            }\n        });\n        this.subscriptions.push(sub);\n    }\n}\n","export * from './order.service';\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderUtils {\n  private _orderName;\n  public reverse = false;\n\n  constructor() { }\n\n  get getOrder(): string {\n    return this._orderName;\n  }\n  set setOrder(name: string) {\n    this._orderName = name;\n  }\n  // Ordonner les produits dans la vue\n  public setOrderName(value: string) {\n    if (this.getOrder === value) {\n      this.reverse = !this.reverse;\n    }\n    this.setOrder = value;\n  }\n}\n","<div class=\"row height-max-content\">\n\n  <div class=\"left-menu col-lg-3\">\n    <div class=\"top-menu\">\n      <h2>{{'_Dashboard_main_title_' | translate}}</h2>\n      <div *ngIf=\"selectSession\" class=\"ml-1\">\n        <h3>RUPT_{{selectSession.id_break}}_{{selectSession.nb_vers}}</h3>\n        <div class=\"title\">{{selectSession.nm_break}}</div>\n        <div *ngIf=\"labelDropdownGroup\" class=\"grp-title\">\n          {{labelDropdownGroup}}\n          <div *ngIf=\"selectAllGroup\" >\n            <div  *ngFor=\"let grp of selectAllGroup\">\n              {{grp.name}}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"down-menu\">\n      <div>\n        <app-dropdown \n        [active]=\"true\" \n        [title]=\"'_Dashboard_dropdown_session_title_' | translate\" \n        [search]=\"true\" \n        [typeOfData]=\"'session-dashboard'\" \n        [dropdownToggleLabel]=\"labelDropdownSessionName\" \n        [data]=\"listBreakFilter\" \n        [typeOfList]=\"'default'\" \n        (keyUpEvent)=\"handleOnSearch($event)\" \n        (presentData)=\"handleSession($event)\"></app-dropdown>\n      </div>\n      <div>\n        <app-dropdown \n        [active]=\"groupesBySession !== undefined\" \n        [title]=\"'_Dashboard_dropdown_group_title_' | translate\" \n        [search]=\"false\" \n        [typeOfList]=\"'default'\" \n        [colorDisable]=\"'white'\" \n        [dropdownToggleLabel]=\"labelDropdownGroup\" \n        [data]=\"groupesBySession\" \n        [typeOfData]=\"'group'\" \n        (presentData)=\"handleGroup($event)\"></app-dropdown>\n      </div>\n      <div *ngIf=\"activeView === 'graphic'\">\n        <app-dropdown [active]=\"presentationGrpPdct\" [title]=\"'_Dashboard_dropdown_graph_' | translate\" [search]=\"false\" [typeOfList]=\"'default'\" [colorDisable]=\"'white'\" [data]=\"graphView\" [dropdownToggleLabel]=\"labelDropdownGraph\" [typeOfData]=\"'gran'\" (presentData)=\"handleGraphView($event)\"></app-dropdown>\n      </div>\n    </div>\n  </div>\n\n  <app-navbar class=\"navbar\"></app-navbar>\n  <div class=\"col-lg-9 right-content\">\n    <div class=\"empty-state\" *ngIf=\"!presentationGrpPdct || presentationGrpPdct.length < 1\">\n      <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n        <mat-progress-spinner  mode=\"indeterminate\">\n        </mat-progress-spinner>\n      </div>\n      <div *ngIf=\"loader.showSpinner === false\">\n        <img width=\"350\" height=\"100\" class=\"empty-state-img\" src=\"assets/images/ansm_icons/Empty_state_illu.png\" [alt]=\"'_Dashboard_empty_state_title_' | translate\">\n        <h2 class=\"empty-state-title\"\n        [translate]=\"presentationGrpPdct? '_Dashboard_data_empty_state_title_' : '_Dashboard_empty_state_title_'\"></h2>\n        <h3 *ngIf=\"!presentationGrpPdct\" class=\"empty-state-subtitle\">{{'_Dashboard_empty_state_subtitle_' | translate}}</h3>\n      </div>\n    </div>\n    <div *ngIf=\"presentationGrpPdct && presentationGrpPdct.length > 0\">\n      <app-data-dci [data]=\"presentationGrpPdct\"></app-data-dci> \n      <div class=\"float-left\">\n        <app-icon-text \n          *ngIf=\"activeView === 'graphic'\" \n          [active]=\"true\" \n          [srcActive]=\"'ansm_icons/Previsions_ruptures.svg'\" \n          [altText]=\"labelDropdownGraph | translate\"\n          [label]=\"labelDropdownGraph | translate\">\n        </app-icon-text>\n        <app-icon-text *ngIf=\"activeView === 'array'\" [active]=\"true\" [srcActive]=\"'ansm_icons/Tableaux.svg'\" [altText]=\"'_Dashboard_array_data_labo_' | translate\"\n        [label]=\"'_Dashboard_array_data_labo_' | translate\">\n        </app-icon-text>\n      </div>\n      <div \n      class=\"btn-group\"\n      *ngIf=\"dashboardData && dashboardData.length > 0 && activBtn()\" >\n        <button [className]=\"laboView === 'one' ? 'active' : 'not-active'\" (click)=\"onClickLaboButton()\">{{'_Dashboard_button_labo_one_' | translate}}</button>\n        <button [className]=\"laboView === 'all' ? 'active' : 'not-active'\" (click)=\"onClickLaboButton()\">{{'_Dashboard_button_labo_all_' | translate}}</button>\n      </div>  \n\n      <div class=\"loader-content table-and-graph-view\" *ngIf=\"loader.showSpinner === true\">\n        <mat-progress-spinner  mode=\"indeterminate\">\n        </mat-progress-spinner>\n      </div>\n      <div *ngIf=\"loader.showSpinner === false\">\n        <app-graphic-view \n          *ngIf=\"activeView === 'graphic' && dashboardData\" \n          [activeGraph]=\"activeGraph\" \n          [laboView]=\"laboView\" \n          [data]=\"presentationGrpPdct\"\n          [idSession]=\"selectSession.id_break\" \n          [dashboardData]=\"dashboardData\"\n          [selectGroup]=\"selectGroup.name\"\n          [selectSession]=\"selectSession\"\n          (excelActive)=\"handleExcelActive($event)\"\n        ></app-graphic-view>\n        <button \n          class=\"excel-btn\" \n          [class.disabled]=\"!showExcel\"\n          (click)=\"generateExcel()\">{{'_Dashboard_button_export_to_excel_' | translate}}</button> \n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { first, map, switchMap } from 'rxjs/operators';\nimport {\n  Break,\n  CouvertureStockModel,\n  DataHld,\n  DataHldDashboardAModel,\n  EtatDuMarcheModel,\n  Granularite,\n  Group,\n  Params,\n  PdctHldSubst,\n  Sales\n} from 'src/app/models';\nimport { AuthenticationService, DashboardService, ExcelService, LoaderService, RolesService } from 'src/app/services';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  public allSession: Array<Break>;\n  public selectSession: Break;\n  public labelDropdownSessionName: string;\n  public groupesBySession: Array<Group>;\n  public selectGroup: Group;\n  public selectAllGroup: Array<Group>;\n  public labelDropdownGroup: string;\n  public presentationGrpPdct: Array<PdctHldSubst>;\n  public listBreakFilter: Array<Break>;\n  public activeView = 'graphic';\n  public laboView = 'all';\n  public dashboardData: Array<any>;\n  public activeGraph: string;\n  public labelDropdownGraph: string;\n  public showExcel = false;\n  public graphView: Array<Granularite> = [\n    {\n      value: 'A',\n      text: '_Dashboard_dropdown_graph_view_etat_marche_'\n    },\n    {\n      value: 'B' ,\n      text: '_Dashboard_dropdown_graph_view_couverture_stock_'\n    },\n    {\n      value: 'C',\n      text: '_Dashboard_dropdown_graph_view_simulateur_gers_'\n    },\n    {\n      value: 'D',\n      text: '_Dashboard_dropdown_graph_view_simulateur_medicam_'\n    },\n    {\n      value: 'E',\n      text: '_Dashboard_dropdown_graph_view_prev_appro_gers_'\n    },\n    {\n      value: 'F',\n      text: '_Dashboard_dropdown_graph_view_prev_appro_medicam_'\n    },\n  ];\n  private _dataExportExcel: any[];\n\n  // A SUPPRIMMER QUAND LA VUE TABLEAU SERA DISPO\n  public mockLaboTableau;\n  public today = '2020-01-01';\n  // A SUPPRIMMER QUAND LA VUE TABLEAU SERA DISPO\n\n  constructor(\n    public loader: LoaderService,\n    public excelService: ExcelService,\n    private readonly _dashboardService: DashboardService,\n    private readonly _authenticationService: AuthenticationService,\n    private readonly _rolesService: RolesService,\n  ) {\n    this._getBreaks();\n   }\n\n  ngOnInit() {\n  }\n  public activBtn() {\n    const role = this._authenticationService.currentUserValue.role;\n    if (this._rolesService.leem.find(x => x === role)) {\n      this.laboView = 'all';\n      return false;\n    } else if (this._rolesService.labo.find(x => x === role) && !this.selectSession.visibility) {\n      this.laboView = 'one';\n      return false;\n    } else {\n      return true;\n    }\n  }\n  public handleOnSearch(e) {\n    this.listBreakFilter = [];\n    if (!e.target.value) {\n      this.allSession.forEach(x => {\n        this.listBreakFilter.push(x);\n      });\n      return;\n    } else {\n      const listBreakFilter = this.allSession.filter((x: Break) =>\n        x.nm_break.toUpperCase().includes(e.target.value.toUpperCase())\n        ||\n        x.id_break.toString().toUpperCase().includes(e.target.value.toUpperCase())\n      );\n      listBreakFilter.forEach(element => {\n        if (!this.listBreakFilter.find(x => x.id_break === element.id_break)) {\n          this.listBreakFilter.push(element);\n        }\n      });\n    }\n  }\n  public handleGraphView(e) {\n    this.dashboardData = undefined;\n    this.showExcel = false;\n    this.activeGraph = e.value;\n    this.labelDropdownGraph = e.text;\n    this._getDashboardData(this.selectSession, this.presentationGrpPdct, this.selectGroup)\n    .pipe(\n      first(),\n      switchMap(resp => this._getDataExportExcel(this.selectSession, this.presentationGrpPdct))\n    )\n    .subscribe(\n        (resp) => {\n        },\n        (err) => {\n        }\n    );\n  }\n  public generateExcel() {\n    let name;\n    let id_hld: number = -1;\n    if (this._rolesService.labo.find(x => x === this._authenticationService.currentUserValue.role)) {\n      id_hld = Number(this._authenticationService.currentUserValue.labo);\n    }\n    switch (this.activeGraph) {\n      case 'A':\n        name = 'Etat du marché';\n        break;\n      case 'B':\n        name = 'Couverture de Stock';\n        break;\n      case 'C':\n        name = 'Simulateur marché GERS';\n        break;\n      case 'D':\n        name = 'Simulateur marché MEDICAM';\n        break;\n      case 'E':\n        name = 'Prévisionnel d\\'approvisionnement GERS';\n        break;\n      case 'F':\n        name = 'Prévisionnel d\\'approvisionnement MEDICAM';\n        break;\n    }\n    const data = {\n      nb: `RUPT_${this.selectSession.id_break}`,\n      name: `${this.selectSession.nm_break}`,\n      lastDate: this.dashboardData,\n      cdGrnlr: this.selectSession.cd_grnlr,\n      idView: this.activeGraph,\n      grp: [],\n      presentation: this.presentationGrpPdct,\n      laboView: this.laboView,\n      activeView: this.activeView,\n      activeGraph: name.toUpperCase(),\n      allData: this._dataExportExcel,\n    };\n    // const title = `RUPT_${this.selectSession.id_break} / ${this.selectSession.nm_break}`;\n    const subtitle = [];\n    if (this.selectAllGroup) {\n      this.groupesBySession.forEach(element => {\n        data.grp.push(element.name);\n      });\n    } else {\n      data.grp.push(this.labelDropdownGroup);\n    }\n    this.excelService.generateExcel(data, id_hld);\n  }\n  public handleSession(e: Break) {\n    this._resetData();\n    this.selectSession = e;\n    this.labelDropdownSessionName = `${e.nm_break}`;\n    JSON.parse(e.jlst_subst.value).forEach(element => {\n      element.groupes.forEach(groupe => {\n        this.groupesBySession.push(\n          {\n            name: groupe.grp_name,\n            presentation: groupe.code_prdt,\n            subst: element.code_subst\n          }\n        );\n      });\n    });\n    this.groupesBySession.sort(function (a, b) {\n      return a.name.localeCompare(b.name);\n    });\n  }\n  public handleGroup(e: any) {\n    this.showExcel = false;\n    if (!this.activeGraph && !this.labelDropdownGraph) {\n      this.activeGraph = 'A';\n      this.labelDropdownGraph = '_Dashboard_dropdown_graph_view_etat_marche_';\n    }\n    const grpCip = [];\n    this.selectGroup = e;\n    this.selectGroup.presentation.forEach(cip => {\n      grpCip.push(cip);\n    });\n    this.labelDropdownGroup = e.name;\n    this._getGrp(grpCip);\n  }\n  public onClickViewButton() {\n    if (this.activeView === 'graphic') {\n      this.activeView = 'array';\n    } else if (this.activeView === 'array') {\n      this.activeView = 'graphic';\n    } else {\n      return;\n    }\n  }\n  public onClickLaboButton() {\n    this.showExcel = false;\n    if (this.laboView === 'all') {\n      this.laboView = 'one';\n    } else if (this.laboView === 'one') {\n      this.laboView = 'all';\n    } else {\n      return;\n    }\n  }\n  public handleExcelActive(e) {\n    this.showExcel = e;\n  }\n\n  // A SUPPRIMMER QUAND LA VUE TABLEAU SERA DISPO\n  public handleNewDate(e) {\n    this.today = e;\n  }\n  // A SUPPRIMMER QUAND LA VUE TABLEAU SERA DISPO\n  private _getBreaks() {\n    let id_hld;\n    if (this._rolesService.labo.find(x => x === this._authenticationService.currentUserValue.role)) {\n      id_hld = this._authenticationService.currentUserValue.labo;\n    }\n    this._dashboardService.getBreaks(id_hld)\n    .subscribe(\n      (resp) => {\n        if (typeof resp === 'boolean' && resp === true) {\n          this.allSession = this._dashboardService.getResults();\n          this.listBreakFilter = this._dashboardService.getResults();\n        }\n        return;\n      },\n      (err) => {\n        return;\n      }\n    );\n  }\n  private _resetData() {\n    this.dashboardData = undefined;\n    this.activeGraph = undefined;\n    this.labelDropdownGraph = undefined;\n    this.selectGroup = undefined;\n    this.selectAllGroup = undefined;\n    this.presentationGrpPdct = undefined;\n    this.labelDropdownGroup = undefined;\n    this.groupesBySession = [];\n  }\n  private _getGrp(cip: Array<number>) {\n    this._dashboardService.getGrp(cip, this.selectSession)\n    .pipe(\n      first(),\n      switchMap(grp => this._setPresentationGrpPdct(grp)),\n      switchMap(d => this._getDashboardData(this.selectSession, this.presentationGrpPdct, this.selectGroup)),\n      switchMap(d => this._getDataExportExcel(this.selectSession, this.presentationGrpPdct)),\n    )\n    .subscribe(\n        (resp) => {\n        },\n        (err) => {\n        }\n    );\n  }\n  private _getDataExportExcel(session: Break, presentationGrpPdct: PdctHldSubst[]): Observable<boolean> {\n    if (presentationGrpPdct.length < 1) {\n      return of(true);\n    }\n    this._dataExportExcel = [];\n    if (\n      this._rolesService.labo.find(x => x === this._authenticationService.currentUserValue.role) ||\n      this._rolesService.leem.find(x => x === this._authenticationService.currentUserValue.role)) {\n      return of(true);\n    }\n    const cip13 = [];\n    const subst = [];\n    const hld = [];\n    presentationGrpPdct.forEach((element: PdctHldSubst) => {\n      cip13.push(element.cd_cip13);\n      subst.push(element.cd_subst);\n      hld.push(element.id_hld);\n    });\n    let set: Set<number> = new Set(cip13);\n    const cd_cip13 = Array.from(set.values());\n    set = new Set(subst);\n    const cd_subst = Array.from(set.values());\n    set = new Set(hld);\n    const id_hld = Array.from(set.values());\n    if (this.activeGraph !== 'A') {\n      return this.excelService.getDataForDashboardOthers(\n        session.id_break,\n        session.cd_grnlr,\n        cd_cip13,\n        cd_subst,\n        id_hld,\n        this._authenticationService.currentUserValue.id)\n      .pipe(map(\n        (resp) => {\n          this._dataExportExcel = resp;\n          return true;\n        },\n        (err) => {\n          return err;\n        }\n      ));\n    } else {\n      return this.excelService.getDataForDashboardA(\n        session.id_break,\n        cd_cip13,\n        cd_subst,\n        this._authenticationService.currentUserValue.id)\n      .pipe(map(\n        (resp) => {\n          this._dataExportExcel = resp;\n          return true;\n        },\n        (err) => {\n          return err;\n        }\n      ));\n    }\n\n  }\n  private _getDashboardData(selectSession: Break, presentationGrpPdct: Array<PdctHldSubst>, selectGrp: Group): Observable<boolean> {\n    if (presentationGrpPdct.length < 1) {\n      return of(true);\n    }\n    const total = this.totalAccess(selectSession);\n    const id_hld = this.idHldDetails(presentationGrpPdct);\n    let allHld = [];\n    presentationGrpPdct.forEach((element: PdctHldSubst) => {\n      allHld.push(element.id_hld);\n    });\n    const set: Set<number> = new Set(allHld);\n    allHld = Array.from(set.values());\n    const data: Params = {\n      id_break: selectSession.id_break,\n      id_hld: id_hld,\n      cd_cip13: selectGrp.presentation,\n      lb_grp: selectGrp.name,\n      dt_grnlr: selectSession.ds_break,\n      cd_grnlr: selectSession.cd_grnlr,\n      total: total,\n      allHld: allHld,\n      indc: JSON.parse(selectSession.jlst_indc.value)\n    };\n    if (this.activeGraph !== 'A') {\n      return this._dashboardService.getDashboard(data, this.activeGraph)\n      .pipe(map(\n        (resp: Array<CouvertureStockModel>) => {\n          this.dashboardData = resp;\n          return true;\n        },\n        (err) => {\n          return err;\n      }));\n    } else {\n      return this._dashboardService.getDashboardEtatMarche(data)\n      .pipe(map(\n        (resp: Array<EtatDuMarcheModel>) => {\n          this.dashboardData = resp;\n          return true;\n        },\n        (err) => {\n          return err;\n      }));\n    }\n  }\n\n  private totalAccess(selectSession: Break): boolean {\n    if (this._rolesService.labo.find(x => x === this._authenticationService.currentUserValue.role) && !selectSession.visibility) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  private idHldDetails(presentationGrpPdct: Array<PdctHldSubst>): Array<number>  {\n    let id_hld: Array<number> = [];\n    if (this._rolesService.leem.find(x => x === this._authenticationService.currentUserValue.role)) {\n      id_hld = null;\n    } else if (this._rolesService.labo.find(x => x === this._authenticationService.currentUserValue.role)) {\n      id_hld = [Number(this._authenticationService.currentUserValue.labo)];\n    } else {\n      presentationGrpPdct.forEach((element: PdctHldSubst) => {\n        id_hld.push(element.id_hld);\n      });\n      const set: Set<number> = new Set(id_hld);\n      id_hld = Array.from(set.values());\n    }\n    return id_hld;\n  }\n\n  private _setPresentationGrpPdct(grp: Array<PdctHldSubst>): Observable<boolean> {\n    this.presentationGrpPdct = grp;\n    this.presentationGrpPdct.sort(function (a, b) {\n      return a.cd_cip13 - b.cd_cip13 && a.nm_hld.localeCompare(b.nm_hld);\n    });\n    return of(true);\n  }\n\n  private _createDataLaboExcel(presentation: Array<PdctHldSubst>, dashboardData: Array<any>, dashboard: string): DataHldDashboardAModel {\n    if (dashboard === 'A') {\n      const gers = 'Ventes Gers';\n      const medicam = 'Besoins Medicam';\n      const finalData = new DataHldDashboardAModel();\n      finalData.dates = [];\n      dashboardData[0].data[0].dataByDate.forEach(x => {\n        const extractDate = new Date(x.date);\n        const gersDate = `${gers} ${extractDate.toLocaleString('default', { month: 'short', year: 'numeric' })}`;\n        const medicamDate = `${medicam} ${extractDate.toLocaleString('default', { month: 'short', year: 'numeric' })}`;\n        finalData.dates.push(gersDate);\n        finalData.dates.push(medicamDate);\n      });\n      finalData.dataHld = [];\n      presentation.forEach((x: PdctHldSubst) => {\n        const dataDashboardGers = dashboardData.find(dt1 =>\n          dt1.idlabo === x.id_hld).data.find(dt2 => dt2.name === 'GERS').dataByDate;\n        const dataDashboardMedicam = dashboardData.find(dt =>\n          dt.idlabo === x.id_hld).data.find(dt2 => dt2.name === 'PRESC_TOUS').dataByDate;\n        const data = new DataHld();\n        let totalSaleGers = 0;\n        let totalSaleMedicam = 0;\n        data.name = x.nm_hld;\n        data.cip7 = x.cd_cip7;\n        data.cip13 = x.cd_cip13;\n        data.cis = x.cd_cis;\n        data.subst = x.nm_subst;\n        data.lib = x.nm_medic;\n        data.presentation = x.ll_prest;\n        data.form = x.form;\n        data.dose = x.dose;\n        data.unit = x.unit;\n        data.sales = [];\n        dataDashboardGers.forEach((element, i) => {\n          const sale = new Sales();\n          const extractDate = new Date(element.date);\n          sale.name = `${gers} ${extractDate.toLocaleString('default', { month: 'short', year: 'numeric' })}`;\n          sale.sale = element.etat_marche;\n          data.sales.push(sale);\n          totalSaleGers += i >= dataDashboardGers.length - 12 ? element.etat_marche : 0;\n        });\n        dataDashboardMedicam.forEach((element, i) => {\n          const sale = new Sales();\n          const extractDate = new Date(element.date);\n          sale.name = `${medicam} ${extractDate.toLocaleString('default', { month: 'short', year: 'numeric' })}`;\n          sale.sale = element.etat_marche;\n          data.sales.push(sale);\n          totalSaleMedicam += i >= dataDashboardMedicam.length - 12 ? element.etat_marche : 0;\n        });\n        const saleAverageGers = new Sales();\n        saleAverageGers.name = 'GERS';\n        const denominateurGers = dataDashboardGers.length < 12 ? dataDashboardGers.length : 12;\n        saleAverageGers.sale = Math.round(totalSaleGers / denominateurGers);\n        const saleAverageMedicam = new Sales();\n        saleAverageMedicam.name = 'PRESC_TOUS';\n        const denominateurMedicam = dataDashboardMedicam.length < 12 ? dataDashboardMedicam.length : 12;\n        saleAverageMedicam.sale = Math.round(totalSaleMedicam / denominateurMedicam);\n        data.salesAverage = [saleAverageGers, saleAverageMedicam];\n        finalData.dataHld.push(data);\n      });\n      return finalData;\n    }\n  }\n\n}\n","<app-icon-text [active]=\"true\" [srcActive]=\"'ansm_icons/DCI_actif.svg'\" [altText]=\"'_Dashboard_data_dci_title_' | translate\"\n[label]=\"'_Dashboard_data_dci_title_' | translate\"\n>\n</app-icon-text>\n<div id=\"accordion-dci\" class=\"collapse-container\">\n    <button \n    class=\"btn\" \n    type=\"button\" \n    data-toggle=\"collapse\" \n    [attr.data-target]=\"'#collapse-dci'\" \n    aria-expanded=\"true\" \n    [attr.aria-controls]=\"'collapse'\" \n    >\n        {{'_Dashboard_data_dci_title_collapse_' | translate}}\n    </button>\n    <div class=\"collapse show\" [attr.id]=\"'collapse-dci'\" data-parent=\"#accordion-dci\">\n        <div class=\"table-container\">\n            <table>\n                <caption style=\"visibility:hidden; \">{{'_Dashboard_data_dci_title_' | translate}}</caption>\n                <th \n                scope=\"col\"\n                class=\"col-order\"\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_medic'}\" (click)=\"orderUtils.setOrderName('nm_medic')\"\n                >\n                    <div>\n                        {{'_Dashboard_array_presentation_name_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                    </div>\n                </th>\n                <th \n                scope=\"col\"\n                class=\"col-order\"\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_hld'}\" (click)=\"orderUtils.setOrderName('nm_hld')\"\n                >\n                    <div>\n                        {{'_Dashboard_array_presentation_labo_mkt_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                    </div>\n                </th>\n                <th \n                scope=\"col\"\n                class=\"col-order\"\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'cd_cip13'}\" (click)=\"orderUtils.setOrderName('cd_cip13')\"\n                >\n                    <div>\n                        {{'_Dashboard_array_presentation_code_cip_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                    </div>\n                </th>\n                <th \n                scope=\"col\"\n                class=\"col-order\"\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_subst'}\" (click)=\"orderUtils.setOrderName('nm_subst')\"\n                >\n                    <div>\n                        {{'_Dashboard_array_presentation_subst_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                    </div>\n                </th>\n                <th \n                scope=\"col\"\n                class=\"col-order\"\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'll_prest'}\" (click)=\"orderUtils.setOrderName('ll_prest')\"\n                >\n                    <div>\n                        {{'_Dashboard_array_presentation_details_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                    </div>\n                </th>\n                <th \n                scope=\"col\"\n                class=\"col-order\"\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'coef'}\" (click)=\"orderUtils.setOrderName('coef')\"\n                >\n                    <div>\n                        {{'_Dashboard_array_presentation_coef_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                    </div>\n                </th>\n                <tr *ngFor=\"let presentation of data | orderBy: orderUtils.getOrder:orderUtils.reverse:'case-insensitive'\">\n                    <td>{{presentation.nm_medic}}</td>\n                    <td>{{presentation.nm_hld}}</td>\n                    <td>{{presentation.cd_cip13}}</td>\n                    <td>{{presentation.nm_subst}}</td>\n                    <td>{{presentation.ll_prest}}</td>\n                    <td>{{presentation.coef}}</td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { PdctHldSubst } from 'src/app/models';\nimport { OrderUtils } from 'src/app/utils';\n\n@Component({\n  selector: 'app-data-dci',\n  templateUrl: './dataDci.component.html',\n  styleUrls: ['./dataDci.component.scss']\n})\nexport class DataDciComponent implements OnInit {\n  @Input() data: Array<PdctHldSubst>;\n  constructor(\n    public orderUtils: OrderUtils\n  ) { }\n\n  ngOnInit(): void {\n    this.orderUtils.setOrder = 'nm_hld';\n    this.orderUtils.reverse = false;\n\n  }\n\n\n}\n","<div id=\"container-graph\">\n    <div \n    class=\"d-flex w-100 justify-content-end\">\n        <small\n        *ngIf=\"lastDt\">Données au {{lastDt}}</small>\n    </div>\n    <span \n    *ngIf=\"this.type !== 'A'\" \n    class=\"triangle i-triangle-left nav-link prev\" \n    [class.disabled]=\"lastIndexData <= 12\"\n    (click)=\"navLink('prev')\"></span>\n        <div id=\"chartContainer\" class=\"canvas\">\n            <canvas id=\"myChart\" height=\"600\"></canvas>\n        </div>\n    <span \n    *ngIf=\"this.type !== 'A'\" \n    class=\"triangle i-triangle-right nav-link next\" \n    [class.disabled]=\"lastIndexData >= dataStock.data.date_stock.length\"\n    (click)=\"navLink('next')\"></span>\n</div>\n\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { Chart } from 'chart.js';\nimport * as moment from 'moment';\nimport { ChartImagesModel } from 'src/app/models';\n\n@Component({\n  selector: 'app-graph-view',\n  templateUrl: './graphView.component.html',\n  styleUrls: ['./graphView.component.scss']\n})\nexport class GraphViewComponent implements OnInit, OnChanges {\n  @Input() dataStock: any;\n  @Input() type: string;\n  @Output() image: EventEmitter<ChartImagesModel> = new EventEmitter();\n  @Output() disabledExport: EventEmitter<boolean> = new EventEmitter();\n  public lastIndexData: number;\n  private _prevId: string;\n  private _canvas: any;\n  private _ctx: any;\n  private _labels: any;\n  private _datasets: any;\n  private _option: any;\n  private _myChart: any;\n  private _tooltipFormat: string;\n  private _unit: string;\n  private _displayFormats: any;\n  private stock = '#92DFE8';\n  private stockReel = '#61CEE0';\n  private ecartStck = '#0D6959';\n  private appro = '#FCD378';\n  private gersMoyenne = '#0091D2';\n  private ecartStckGers = '#284299';\n  private medicamMoyenne = '#2AAFA3';\n  private mediumMedicamColor = '#78D9CF';\n  private warningColor = '#FCBE77';\n  private dangerColor = '#FF8585';\n  private _hiddenLegendeA = [\n    {hidden: null},\n    {hidden: true},\n    {hidden: true},\n    {hidden: null},\n    {hidden: true},\n    {hidden: true},\n    {hidden: null}\n  ];\n  public lastDt: string;\n\n  constructor() {\n    moment.locale('fr');\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(): void {\n    if (this.type !== 'A') {\n      this.lastIndexData = this.dataStock.data.date_stock.length;\n      this.lastDt = new Date(this.dataStock.lastDt).toLocaleDateString('fr-FR');\n    }\n    const canvas = <HTMLCanvasElement> document.getElementById(this.dataStock.myChart);\n    // Si premiere instance du canvas\n    if (!this._canvas) {\n      this._setFirstIdChart();\n      this._createChart();\n    // Si nouveau canvas sur un ancien canvas\n    } else if (this._canvas && !canvas) {\n      this._myChart.destroy();\n      this._setIdChart();\n      this._createChart();\n    // Si mise à jour du jeu de données\n    } else {\n      this._myChart.destroy();\n      this._createChart();\n    }\n  }\n  private _setFirstIdChart() {\n    this._prevId = this.dataStock.myChart;\n    const canvas = <HTMLCanvasElement> document.getElementById('myChart');\n    const ctx = canvas.getContext('2d');\n    ctx.canvas.id = this._prevId;\n    this._canvas = canvas;\n    this._ctx = ctx;\n  }\n  private _setIdChart() {\n    const canvas = <HTMLCanvasElement> document.getElementById(this._prevId);\n    const ctx = canvas.getContext('2d');\n    ctx.canvas.id = this.dataStock.myChart;\n    this._canvas = canvas;\n    this._ctx = ctx;\n    this._prevId = this.dataStock.myChart;\n  }\n  private _createChart() {\n    this.disabledExport.emit(true);\n    this._createLabels();\n    let type: string;\n    switch (this.type) {\n      case 'A':\n        this._setOptionEtatMarche();\n        this._createDataA();\n        type = 'line';\n        break;\n      case 'B':\n        this._setOption();\n        this._createDataB();\n        type = 'bar';\n        break;\n      case 'C':\n        this._setOption();\n        this._createDataC();\n        type = 'bar';\n        break;\n      case 'D':\n        this._setOption();\n        this._createDataD();\n        type = 'bar';\n        break;\n      case 'E':\n        this._setOptionCourbe();\n        this._createDataE();\n        type = 'line';\n        break;\n      case 'F':\n        this._setOptionCourbe();\n        this._createDataF();\n        type = 'line';\n        break;\n    }\n    this._myChart = new Chart(this._ctx, {\n      type: type,\n      data: {\n        labels: this._labels,\n        datasets: this._datasets\n      },\n      options: this._option\n    });\n  }\n  private _createLabels() {\n    this._labels = [];\n    if (this.type === 'A') {\n      this.dataStock.data.forEach(element => {\n        element.dataByDate.forEach((data, i) => {\n          if (!this._labels.find(x => x === data.date)) {\n            this._labels.push(data.date);\n          }\n        });\n      });\n      this._labels.sort(function(a, b) {\n        return new Date(a).getTime() - new Date(b).getTime();\n      });\n    } else {\n      this.dataStock.data.date_stock.forEach((element, i) => {\n        if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n          this._labels.push(element);\n        }\n      });\n    }\n  }\n  private _createDataA() {\n    this._datasets = [];\n    this.dataStock.data.forEach(element => {\n      const data = [];\n      element.dataByDate.forEach(elementData => {\n        data.push(\n          {\n            x: elementData.date,\n            y: elementData.etat_marche\n          }\n        );\n      });\n      if (element.courbe.includes('N-1')) {\n        this._datasets.push(\n          {\n            label: element.courbe,\n            borderColor: element.color,\n            data: data,\n            fill: false,\n            borderDash: [10, 10]\n          }\n        );\n      } else {\n        this._datasets.push(\n          {\n            label: element.courbe,\n            borderColor: element.color,\n            data: data,\n            fill: false\n          }\n        );\n      }\n    });\n  }\n  private _createDataB() {\n    this._datasets = [];\n    let dataVal = [];\n    this.dataStock.data.ecart_stock_besoins_medicam.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    dataVal = dataVal.filter(x => x !== null).length > 0 ? dataVal : [];\n    this._datasets.push(\n      {\n        label: 'Stock – besoins MEDICAM (Année N)',\n        type: 'line',\n        borderColor: this.ecartStck,\n        data: dataVal,\n        fill: false,\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.conso_moyenne_hebdo_medicam.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    dataVal = dataVal.filter(x => x !== null).length > 0 ? dataVal : [];\n    this._datasets.push(\n      {\n        label: 'Besoins MEDICAM (Année N)',\n        type: 'line',\n        borderColor: this.medicamMoyenne,\n        data: dataVal,\n        fill: false\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.conso_moyenne_hebdo_gers.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Ventes GERS (Année N)',\n        type: 'line',\n        borderColor: this.gersMoyenne,\n        data: dataVal,\n        fill: false\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.valeur.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock déclaré',\n        type: 'bar',\n        backgroundColor: this.stock,\n        data: dataVal,\n        id: 'stock_cover',\n        maxBarThickness: 100\n      }\n    );\n  }\n  private _createDataC() {\n    this._datasets = [];\n    let dataVal = [];\n    this.dataStock.data.Stock_moins_ventes_gers.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock – ventes GERS (Année N)',\n        type: 'line',\n        borderColor: this.ecartStckGers,\n        data: dataVal,\n        fill: false\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.ventes_gers.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Ventes GERS (Année N)',\n        type: 'line',\n        borderColor: '#FF5C5C',\n        data: dataVal,\n        fill: false\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.stck_reel.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock déclaré',\n        type: 'bar',\n        backgroundColor: this.stockReel,\n        data: dataVal,\n        id: 'stock',\n        maxBarThickness: 100\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.approvisionnement.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Approvisionnements prévisionnels déclarés',\n        type: 'bar',\n        backgroundColor: this.appro,\n        data: dataVal,\n        xAxisID: 'bar-x-axis1',\n        barPercentage: 0.75,\n        maxBarThickness: 100\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.stk_gers_prev.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock calculé suivant ventes GERS (N)',\n        type: 'bar',\n        backgroundColor: this.gersMoyenne,\n        data: dataVal,\n        xAxisID: 'bar-x-axis1',\n        id: 'stock',\n        maxBarThickness: 100\n      }\n    );\n  }\n  private _createDataD() {\n    this._datasets = [];\n    let dataVal = [];\n    this.dataStock.data.Stock_moins_ventes_medicam.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock – besoins MEDICAM (Année N)',\n        type: 'line',\n        borderColor: this.ecartStck,\n        data: dataVal,\n        fill: false\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.ventes_medicam.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Besoins MEDICAM (Année N)',\n        type: 'line',\n        borderColor: '#FF5C5C',\n        data: dataVal,\n        fill: false\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.stck_reel.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock déclaré',\n        type: 'bar',\n        backgroundColor: this.stockReel,\n        data: dataVal,\n        id: 'stock',\n        maxBarThickness: 100\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.approvisionnement.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Approvisionnements prévisionnels déclarés',\n        type: 'bar',\n        backgroundColor: this.appro,\n        data: dataVal,\n        xAxisID: 'bar-x-axis1',\n        barPercentage: 0.75,\n        maxBarThickness: 100\n      }\n    );\n    dataVal = [];\n    this.dataStock.data.stk_medicam_prev.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Stock calculé suivant besoins MEDICAM (N)',\n        type: 'bar',\n        backgroundColor: this.mediumMedicamColor,\n        data: dataVal,\n        xAxisID: 'bar-x-axis1',\n        id: 'stock',\n        maxBarThickness: 100\n      }\n    );\n  }\n  private _createDataE() {\n    this._datasets = [];\n    const dataVal = [];\n    this.dataStock.data.ventes_gers.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Ventes GERS (N)',\n        type: 'line',\n        borderColor: this.ecartStckGers,\n        data: dataVal,\n        fill: false,\n      }\n    );\n    this.dataStock.data.stk_gers_affich.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        const dataStckRealExist = this.dataStock.data.stk_affich.find((stockreal, isr) =>\n          isr === i\n          &&\n          stockreal !== null\n        );\n        const dataStckNextExist = this.dataStock.data.stk_affich.find((stocknext, isn) =>\n          isn === i + 1\n          &&\n          stocknext !== null\n        );\n        const gradientFill = this._ctx.createLinearGradient(0, 0, 0, 800);\n        const finalDate = this.dataStock.data.date_stock[i + 1];\n        let color;\n        let colorPoint1;\n        let y1;\n        let levelOne;\n        let levelTwo;\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          levelOne = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_gers[i] * 4));\n          levelTwo = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_gers[i] * 2));\n        } else {\n          levelOne = Math.sign(element - (this.dataStock.data.ventes_gers[i] * 4));\n          levelTwo = Math.sign(element - (this.dataStock.data.ventes_gers[i] * 2));\n        }\n        if (levelTwo === -1) {\n          // color = this.dangerColor;\n          // gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          colorPoint1 = this.dangerColor;\n        } else if (levelOne === -1 && levelTwo !== -1) {\n          // color = this.warningColor;\n          // gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          colorPoint1 = this.warningColor;\n        } else {\n          // color = this.gersMoyenne;\n          // gradientFill.addColorStop(0, 'rgba(0, 145, 210, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(0, 145, 210, 0.10)');\n          colorPoint1 = this.medicamMoyenne;\n        }\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          y1 = dataStckRealExist;\n        } else {\n          y1 = element;\n        }\n        if (finalDate) {\n          let colorPoint2;\n          let y2;\n          let levelOneBis;\n          let levelTwoBis;\n          if (dataStckNextExist || dataStckNextExist === 0) {\n          //   colorPoint2 = this.stockReel;\n            y2 = dataStckNextExist;\n            levelOneBis = Math.sign(dataStckNextExist - (this.dataStock.data.ventes_gers[i + 1] * 4));\n            levelTwoBis = Math.sign(dataStckNextExist - (this.dataStock.data.ventes_gers[i + 1] * 2));\n          } else {\n            // colorPoint2 = this.gersMoyenne;\n            y2 = this.dataStock.data.stk_gers_affich[i + 1];\n            levelOneBis = Math.sign(this.dataStock.data.stk_gers_affich[i + 1] - (this.dataStock.data.ventes_gers[i + 1] * 4));\n            levelTwoBis = Math.sign(this.dataStock.data.stk_gers_affich[i + 1] - (this.dataStock.data.ventes_gers[i + 1] * 2));\n          }\n          if (levelTwoBis === -1) {\n            colorPoint2 = this.dangerColor;\n            color = this.dangerColor;\n            gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          } else if (levelOneBis === -1 && levelTwoBis !== -1) {\n            colorPoint2 = this.warningColor;\n            color = this.warningColor;\n            gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          } else {\n            // if (dataStckNextExist) {\n            //   colorPoint2 = this.stockReel;\n            // } else {\n              colorPoint2 = this.medicamMoyenne;\n              color = this.medicamMoyenne;\n              gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n              gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n            // }\n          }\n          if (y2 === undefined || y2 === null) {\n            colorPoint2 = colorPoint1;\n            color = colorPoint1;\n          }\n          const pointBorderColor = '#FFFFFF';\n          // if (colorPoint1 !== colorPoint2) {\n          //   colorPoint1 = 'transparent';\n          //   pointBorderColor = 'transparent';\n          // }\n          this._datasets.push(\n            {\n              data: [\n                {\n                  x: this.dataStock.data.date_stock[i], y: y1\n                },\n                {\n                  x: this.dataStock.data.date_stock[i + 1], y: y2\n                },\n              ],\n              pointBorderColor: [pointBorderColor, '#FFFFFF'],\n              pointBackgroundColor: [colorPoint1, colorPoint2],\n              radius: 7,\n              pointHoverRadius: 7,\n              pointHoverBorderWidth: 3,\n              pointHoverBorderColor: '#FFFFFF',\n              pointBorderWidth: 3,\n              borderColor: color,\n              backgroundColor: gradientFill,\n              borderWidth: 3,\n            }\n          );\n        }\n      }\n    });\n  }\n  private _createDataF() {\n    this._datasets = [];\n    const dataVal = [];\n    this.dataStock.data.ventes_medicam.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        dataVal.push(element);\n      }\n    });\n    this._datasets.push(\n      {\n        label: 'Besoins MEDICAM (N)',\n        type: 'line',\n        borderColor: this.ecartStck,\n        data: dataVal,\n        fill: false,\n      }\n    );\n\n    this.dataStock.data.stk_medicam_affich.forEach((element, i) => {\n      if (i >= (this.lastIndexData - 12) && i <= this.lastIndexData) {\n        const dataStckRealExist = this.dataStock.data.stk_affich.find((stockreal, isr) =>\n        isr === i\n        &&\n        stockreal !== null\n        );\n        const dataStckNextExist = this.dataStock.data.stk_affich.find((stocknext, isn) =>\n          isn === i + 1\n          &&\n          stocknext !== null\n        );\n        const gradientFill = this._ctx.createLinearGradient(0, 0, 0, 800);\n        const finalDate = this.dataStock.data.date_stock[i + 1];\n        let color;\n        let colorPoint1;\n        let y1;\n        let levelOne;\n        let levelTwo;\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          levelOne = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_medicam[i] * 4));\n          levelTwo = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_medicam[i] * 2));\n        } else {\n          levelOne = Math.sign(element - (this.dataStock.data.ventes_medicam[i] * 4));\n          levelTwo = Math.sign(element - (this.dataStock.data.ventes_medicam[i] * 2));\n        }\n        if (levelTwo === -1) {\n          // color = this.dangerColor;\n          // gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          colorPoint1 = this.dangerColor;\n        } else if (levelOne === -1 && levelTwo !== -1) {\n          // color = this.warningColor;\n          // gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          colorPoint1 = this.warningColor;\n        } else {\n          // color = this.medicamMoyenne;\n          // gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n          // if (dataStckRealExist) {\n          //   colorPoint1 = this.stockReel;\n          // } else {\n            colorPoint1 = this.medicamMoyenne;\n          // }\n        }\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          y1 = dataStckRealExist;\n        } else {\n          y1 = element;\n        }\n        if (finalDate) {\n          let colorPoint2;\n          let y2;\n          let levelOneBis;\n          let levelTwoBis;\n          if (dataStckNextExist || dataStckNextExist === 0) {\n            // colorPoint2 = this.stockReel;\n            y2 = dataStckNextExist;\n            levelOneBis = Math.sign(dataStckNextExist - (this.dataStock.data.ventes_medicam[i + 1] * 4));\n            levelTwoBis = Math.sign(dataStckNextExist - (this.dataStock.data.ventes_medicam[i + 1] * 2));\n          } else {\n            // colorPoint2 = this.medicamMoyenne;\n            y2 = this.dataStock.data.stk_medicam_affich[i + 1];\n            levelOneBis = Math.sign(this.dataStock.data.stk_medicam_affich[i + 1] - (this.dataStock.data.ventes_medicam[i + 1] * 4));\n            levelTwoBis = Math.sign(this.dataStock.data.stk_medicam_affich[i + 1] - (this.dataStock.data.ventes_medicam[i + 1] * 2));\n            }\n          if (levelTwoBis === -1) {\n            colorPoint2 = this.dangerColor;\n            color = this.dangerColor;\n            gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          } else if (levelOneBis === -1 && levelTwoBis !== -1) {\n            colorPoint2 = this.warningColor;\n            color = this.warningColor;\n            gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          } else {\n            // if (dataStckNextExist) {\n            //   colorPoint2 = this.stockReel;\n            // } else {\n              colorPoint2 = this.medicamMoyenne;\n              color = this.medicamMoyenne;\n              gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n              gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n            // }\n          }\n          if (y2 === undefined || y2 === null) {\n            colorPoint2 = colorPoint1;\n            color = colorPoint1;\n          }\n          const pointBorderColor = '#FFFFFF';\n          // if (colorPoint1 !== colorPoint2) {\n          //   colorPoint1 = 'transparent';\n          //   pointBorderColor = 'transparent';\n          // }\n          this._datasets.push(\n            {\n              data: [\n                {\n                  x: this.dataStock.data.date_stock[i], y: y1\n                },\n                {\n                  x: this.dataStock.data.date_stock[i + 1], y: y2\n                },\n              ],\n              pointBorderColor: [pointBorderColor, '#FFFFFF'],\n              pointBackgroundColor: [colorPoint1, colorPoint2],\n              radius: 7,\n              pointHoverRadius: 7,\n              pointHoverBorderWidth: 3,\n              pointHoverBorderColor: '#FFFFFF',\n              pointBorderWidth: 3,\n              borderColor: color,\n              backgroundColor: gradientFill,\n              borderWidth: 3,\n            }\n          );\n        }\n      }\n    });\n  }\n  private _setOptionEtatMarche() {\n    const that = this;\n    function doneOnComplete() {\n      that._exportUrl();\n    }\n    this._option = {\n      animation: {\n        onComplete: doneOnComplete,\n      },\n      legend: {\n        position: 'bottom',\n        align: 'center',\n        labels: {\n          padding: 15,\n          lineWidth: 3,\n          usePointStyle: true,\n          generateLabels(chart) {\n            const datasets = chart.data.datasets;\n            const options = chart.options.legend || {};\n            const usePointStyle = options.labels && options.labels.usePointStyle;\n            return chart._getSortedDatasetMetas().map((meta) => {\n              const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n              let dash = [10, 0];\n              let fillStyle = style.backgroundColor;\n              let strokeStyle = style.borderColor;\n              if (meta.type === 'bar') {\n                strokeStyle = 'transparent';\n              } else {\n                fillStyle = 'transparent';\n              }\n              if (datasets[meta.index].label.includes('N-1')) {\n                dash = [5, 5];\n              }\n              meta.hidden = that._hiddenLegendeA[meta.index].hidden;\n              if (meta.data.length === 0) {\n                meta.hidden = true;\n              }\n              return {\n                text: datasets[meta.index].label,\n                fillStyle: fillStyle,\n                hidden: meta.hidden,\n                lineDash: dash,\n                strokeStyle: strokeStyle,\n                pointStyle: style.pointStyle,\n                datasetIndex: meta.index\n              };\n            }, this);\n          }\n        },\n        onClick: function(e, legendItem) {\n          const index = legendItem.datasetIndex;\n          const ci = this.chart;\n          const meta = ci.getDatasetMeta(index);\n          that._hiddenLegendeA[index].hidden = that._hiddenLegendeA[index].hidden === null ? true : null;\n          meta.hidden = that._hiddenLegendeA[index].hidden;\n          ci.update();\n      }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      bezierCurve : false,\n      elements: {\n        line: {\n            tension: 0\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            callback: function(value, index, values) {\n              return value.toString().replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n            }\n          },\n          gridLines: {\n            lineWidth: 2,\n            borderDash: [2, 30],\n            zeroLineColor: 'transparent',\n            beginAtZero: true,\n            drawBorder: false,\n            offsetGridLines: false\n          }\n        }],\n        xAxes: [{\n          stacked: true,\n          id: 'bar-x-axis1',\n          offset: true,\n          type: 'time',\n          ticks: {\n            autoSkip: false,\n            maxRotation: 45,\n            minRotation: 45\n          },\n          time: {\n            tooltipFormat: 'MMM YYYY',\n            unit: 'month',\n            minUnit: 'month',\n            unitStepSize: 1,\n            displayFormats: {\n              month: 'MMM YYYY',\n            }\n          },\n          gridLines: {\n              color: 'transparent',\n              zeroLineColor: 'transparent',\n              offsetGridLines: false,\n              beginAtZero: false,\n            },\n        }]\n      },\n      tooltips: {\n        enabled: true,\n        callbacks: {\n          label: function(tooltipItems, data) {\n            return;\n          },\n          afterBody: function(tooltipItems, data) {\n            const value = tooltipItems[0].value.replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n            const label = `${data.datasets[tooltipItems[0].datasetIndex].label}: ${value}`;\n            return label;\n          }\n        }\n      },\n    };\n  }\n  private _setOption() {\n    this._setFormatAbscisse(this.dataStock.grnlr);\n    const that = this;\n    function doneOnComplete() {\n      that._exportUrl();\n    }\n    this._option = {\n      animation: {\n        onComplete: doneOnComplete,\n      },\n      legend: {\n        position: 'bottom',\n        align: 'center',\n        labels: {\n          padding: 15,\n          lineWidth: 3,\n          usePointStyle: true,\n          generateLabels(chart) {\n            const datasets = chart.data.datasets;\n            const options = chart.options.legend || {};\n            const usePointStyle = options.labels && options.labels.usePointStyle;\n            return chart._getSortedDatasetMetas().map((meta) => {\n              const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n              let dash = [10, 0];\n              let fillStyle = style.backgroundColor;\n              let strokeStyle = style.borderColor;\n              if (meta.type === 'bar') {\n                strokeStyle = 'transparent';\n              } else {\n                fillStyle = 'transparent';\n              }\n              if (datasets[meta.index].label.includes('n-1')) {\n                dash = [5, 5];\n              }\n              let hidden = meta.hidden;\n              if (meta.data.length === 0) {\n                hidden = true;\n              }\n              return {\n                text: datasets[meta.index].label,\n                fillStyle: fillStyle,\n                hidden: hidden,\n                lineDash: dash,\n                strokeStyle: strokeStyle,\n                pointStyle: style.pointStyle,\n                datasetIndex: meta.index\n              };\n            }, this);\n          }\n        }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      bezierCurve : false,\n      elements: {\n        line: {\n            tension: 0\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            callback: function(value, index, values) {\n              return value.toString().replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n            }\n          },\n          gridLines: {\n            lineWidth: 2,\n            borderDash: [2, 30],\n            zeroLineColor: 'transparent',\n            beginAtZero: true,\n            drawBorder: false,\n            offsetGridLines: false\n          }\n        }],\n        xAxes: [{\n          stacked: true,\n          id: 'bar-x-axis1',\n          offset: true,\n          ticks: {\n            source: 'labels',\n            autoSkip: false,\n            maxRotation: 45,\n            minRotation: 45\n          },\n          type: 'time',\n          time: {\n            tooltipFormat: that._tooltipFormat,\n            unit: that._unit,\n            unitStepSize: 1,\n            displayFormats: that._displayFormats\n          },\n          gridLines: {\n              color: 'transparent',\n              zeroLineColor: 'transparent',\n              offsetGridLines: false,\n              beginAtZero: false,\n            },\n        }]\n      },\n      tooltips: {\n        enabled: true,\n        callbacks: {\n          label: function(tooltipItems, data) {\n            return;\n          },\n          afterBody: function(tooltipItems, data) {\n            let label: string;\n            const stock = data.datasets[tooltipItems[0].datasetIndex].id;\n            const value = tooltipItems[0].value.replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n            if (stock && stock === 'stock') {\n              const y = Number((tooltipItems[0].value / data.datasets.find(x =>\n                x.label === 'Besoins MEDICAM (Année N)' || x.label === 'Ventes GERS (Année N)'\n                ).data[tooltipItems[0].index]).toFixed(1));\n              const preLabel = data.datasets[tooltipItems[0].datasetIndex].label;\n              label =  `${preLabel}:\\n${value} unité`;\n              if (tooltipItems[0].value > 1) {\n                label = `${label}s`;\n              }\n              if (preLabel === 'Stock calculé suivant ventes GERS (N)') {\n                label = `${label} (Stock déclaré de la semaine précédente + approvisionnements prévisionnels – besoins GERS)`;\n              } else if (preLabel === 'Stock calculé suivant besoins MEDICAM (N)') {\n                label = `${label} (Stock déclaré de la semaine précédente + approvisionnements prévisionnels – besoins MEDICAM)`;\n              }\n              if (y !== Infinity) {\n                label = `${label}\\nSoit ${y} semaines de stock`;\n              }\n            } else if (stock && stock === 'stock_cover') {\n              const y = Number((tooltipItems[0].value / data.datasets.find(x =>\n                  x.label === 'Besoins MEDICAM (Année N)').data[tooltipItems[0].index]\n                  ).toFixed(1));\n              const preLabel = data.datasets[tooltipItems[0].datasetIndex].label;\n              label =  `${preLabel}:\\n${value} unité`;\n              if (tooltipItems[0].value > 1) {\n                label = `${label}s`;\n              }\n              if (y > 0 && y !== Infinity) {\n                label = `${label}\\nSoit ${y} semaines de stock`;\n              } else if (y === 0) {\n                label = `${label}\\nSoit aucune semaine de stock`;\n              }\n            } else {\n\n              label = `${data.datasets[tooltipItems[0].datasetIndex].label}: ${value}`;\n            }\n            return label;\n          }\n        }\n      },\n    };\n  }\n  private _setOptionCourbe() {\n    this._setFormatAbscisse(this.dataStock.grnlr);\n    const that = this;\n    function doneOnComplete() {\n      that._exportUrl();\n    }\n    this._option = {\n      animation: {\n        onComplete: doneOnComplete,\n      },\n      legend: {\n        position: 'bottom',\n        align: 'center',\n        display: true,\n        labels: {\n          padding: 15,\n          lineWidth: 3,\n          usePointStyle: true,\n          generateLabels(chart) {\n            const datasets = chart.data.datasets;\n            const options = chart.options.legend || {};\n            const usePointStyle = options.labels && options.labels.usePointStyle;\n            const test = [];\n            return chart._getSortedDatasetMetas().map((meta) => {\n              const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n              const borderColor = meta.controller._config.borderColor;\n              if (test.find(color => color === borderColor)) {\n                return null;\n              } else {\n                test.push(borderColor);\n              }\n              let label;\n              if (borderColor === that.warningColor) {\n                label = 'Stock = Entre 2 et 4 Semaines';\n              } else if (borderColor === that.dangerColor) {\n                label = 'Stock < 2 semaines';\n              } else {\n                label = 'Stock > 4 semaines';\n              }\n              if (meta.index === 0) {\n                return {\n                  text: datasets[meta.index].label,\n                  fillStyle: 'transparent',\n                  hidden: meta.hidden,\n                  strokeStyle: style.borderColor,\n                  datasetIndex: meta.index\n                };\n              } else {\n                return {\n                  text: label,\n                  fillStyle: borderColor,\n                  hidden: meta.hidden,\n                  strokeStyle: 'transparent',\n                  datasetIndex: meta.index\n                };\n              }\n            }, this);\n          },\n          filter: function(legendItem, data) {\n            return legendItem;\n          }\n        },\n        onClick: function(e, legendItem) {\n          const chart = this.chart;\n          const index = legendItem.datasetIndex;\n          let color;\n          if (legendItem.text === 'Ventes GERS (N)') {\n            color = that.ecartStckGers;\n          } else if (legendItem.text === 'Besoins MEDICAM (N)') {\n            color = that.ecartStck;\n          } else if (legendItem.text === 'Stock > 4 semaines') {\n            color = that.medicamMoyenne;\n          } else if (legendItem.text === 'Stock = Entre 2 et 4 Semaines') {\n            color = that.warningColor;\n          } else if (legendItem.text === 'Stock < 2 semaines') {\n            color = that.dangerColor;\n          }\n          const alreadyHidden = (chart.getDatasetMeta(index).hidden === null) ? false : chart.getDatasetMeta(index).hidden;\n          chart.getDatasetMeta(index).hidden = (alreadyHidden === false) ? !alreadyHidden : null;\n          chart.data.datasets.forEach(function(ebis, i) {\n            const meta = chart.getDatasetMeta(i);\n            if (ebis.borderColor === color) {\n              meta.hidden = (alreadyHidden === false) ? !alreadyHidden : null;\n            }\n          });\n          chart.update();\n        }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      bezierCurve : false,\n      elements: {\n        line: {\n            tension: 0\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            min: 0,\n            callback: function(value, index, values) {\n              return value.toString().replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n            }\n          },\n          gridLines: {\n            lineWidth: 2,\n            borderDash: [2, 30],\n            zeroLineColor: 'transparent',\n            beginAtZero: true,\n            drawBorder: false,\n            offsetGridLines: false\n          }\n        }],\n        xAxes: [{\n          stacked: true,\n          id: 'bar-x-axis1',\n          offset: true,\n          type: 'time',\n          ticks: {\n            source: 'labels',\n            autoSkip: false,\n            maxRotation: 45,\n            minRotation: 45\n          },\n          time: {\n            tooltipFormat: that._tooltipFormat,\n            unit: that._unit,\n            unitStepSize: 1,\n            displayFormats: that._displayFormats\n          },\n          gridLines: {\n              color: 'transparent',\n              zeroLineColor: 'transparent',\n              offsetGridLines: false,\n              beginAtZero: false\n            },\n        }]\n      },\n      tooltips: {\n        enabled: true,\n        callbacks: {\n          label: function(tooltipItems, data) {\n            return;\n          },\n          afterBody: function(tooltipItems, data) {\n            let label: string;\n            const stock = data.datasets[tooltipItems[0].datasetIndex];\n            let index = (that.lastIndexData + tooltipItems[0].datasetIndex) - 12;\n            let tooltipIndex = tooltipItems[0].datasetIndex;\n            if (!tooltipItems[1] && tooltipItems[0].datasetIndex === 1) {\n              index = that.lastIndexData - 12;\n              tooltipIndex = 0;\n            }\n            const stockR = that.dataStock.data.stk_affich[index];\n            let preLabel = 'Stock calculé';\n            if (stockR !== null) {\n              preLabel = 'Stock déclaré';\n            }\n            let value: string;\n            if (stock.label) {\n              value = tooltipItems[0].value.replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n              label = `${stock.label}: ${value}`;\n            } else {\n              value = tooltipItems[0].yLabel.toString().replace(/(\\d)(?=(?:\\d{3})+(?:$))/g, '$1 ');\n              label = `${preLabel}: ${value}`;\n              const y = Number((tooltipItems[0].yLabel / data.datasets.find(x => x.label === 'Besoins MEDICAM (N)' || x.label === 'Ventes GERS (N)').data[tooltipIndex]).toFixed(1));\n              label =  `${label} unité`;\n              if (tooltipItems[0].yLabel > 1) {\n                label = `${label}s`;\n              }\n              if (y > 0 && y !== Infinity) {\n                label = `${label}\\nSoit ${y} semaines de stock`;\n              } else if (y === 0) {\n                label = `${label}\\nSoit aucune semaine de stock`;\n              }\n            }\n            return label;\n          }\n        }\n      },\n    };\n  }\n  private _setFormatAbscisse(grnlr: string) {\n    switch (grnlr) {\n      case 'D':\n        this._tooltipFormat = 'll';\n        this._unit = 'day';\n        this._displayFormats = {\n          day: 'll',\n        };\n        break;\n      case 'W':\n        this._tooltipFormat = 'll';\n        this._unit = 'week';\n        this._displayFormats = {\n          week: 'll',\n        };\n        break;\n      case 'M':\n        this._tooltipFormat = 'MMM YYYY';\n        this._unit = 'month';\n        this._displayFormats = {\n          month: 'MMM YYYY',\n        };\n        break;\n    }\n  }\n  private _exportUrl() {\n    const dataUrl = this._canvas.toDataURL('image/png');\n    const image = new ChartImagesModel;\n    image.name = this.dataStock.myChart;\n    image.url = dataUrl;\n    this.image.emit(image);\n  }\n  public navLink(s: string) {\n    switch (s) {\n      case 'prev':\n        this.lastIndexData -= 1;\n        break;\n      case 'next':\n        this.lastIndexData += 1;\n        break;\n    }\n    this.disabledExport.emit(true);\n    this._updateChart(s);\n  }\n  private _updateChart(s: string) {\n    switch (s) {\n      case 'prev':\n        this._labels.pop();\n        this._labels.unshift(this.dataStock.data.date_stock.find(\n          (x, i) => i === (this.lastIndexData - 12)));\n        break;\n      case 'next':\n        this._labels.shift();\n        this._labels.push(this.dataStock.data.date_stock.find((x, i) => i === (this.lastIndexData - 1)));\n        break;\n    }\n    switch (this.type) {\n      case 'B':\n        this._updateTypeB(s);\n        break;\n      case 'C':\n        this._updateTypeC(s);\n        break;\n      case 'D':\n        this._updateTypeD(s);\n        break;\n      case 'E':\n        this._updateTypeE(s);\n        break;\n      case 'F':\n        this._updateTypeF(s);\n        break;\n    }\n    if (this.type !== 'E' && this.type !== 'F') {\n      this._setOption();\n    } else {\n      this._setOptionCourbe();\n    }\n    this._myChart.options = this._option;\n    this._myChart.update();\n  }\n  private _updateTypeB(s: string) {\n    let datasetToUpdating;\n    switch (s) {\n      case 'prev':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock – besoins MEDICAM (Année N)').data;\n        if (datasetToUpdating.length > 0) {\n          if (datasetToUpdating.length > 11) {\n            datasetToUpdating.pop();\n          }\n          datasetToUpdating.unshift(\n            this.dataStock.data.ecart_stock_besoins_medicam.find(\n              (x, i) => i === (this.lastIndexData - 12))\n          );\n        }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Besoins MEDICAM (Année N)').data;\n        if (datasetToUpdating.length > 0) {\n          if (datasetToUpdating.length > 11) {\n            datasetToUpdating.pop();\n          }\n          datasetToUpdating.unshift(\n            this.dataStock.data.conso_moyenne_hebdo_medicam.find(\n              (x, i) => i === (this.lastIndexData - 12))\n          );\n        }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Ventes GERS (Année N)').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.conso_moyenne_hebdo_gers.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock déclaré').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.valeur.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        break;\n      case 'next':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock – besoins MEDICAM (Année N)').data;\n        if (datasetToUpdating.length > 0) {\n          datasetToUpdating.shift();\n          if (this.dataStock.data.ecart_stock_besoins_medicam.length > 12) {\n            datasetToUpdating.push(\n              this.dataStock.data.ecart_stock_besoins_medicam.find(\n                (x, i) => i === (this.lastIndexData - 1))\n            );\n          }\n        }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Besoins MEDICAM (Année N)').data;\n        if (datasetToUpdating.length > 0) {\n          datasetToUpdating.shift();\n          if (this.dataStock.data.conso_moyenne_hebdo_medicam.length > 12) {\n            datasetToUpdating.push(\n              this.dataStock.data.conso_moyenne_hebdo_medicam.find(\n                (x, i) => i === (this.lastIndexData - 1))\n            );\n          }\n        }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Ventes GERS (Année N)').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.conso_moyenne_hebdo_gers.length > 12) {\n          datasetToUpdating.push(\n            this.dataStock.data.conso_moyenne_hebdo_gers.find(\n              (x, i) => i === (this.lastIndexData - 1))\n          );\n        }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock déclaré').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.valeur.length > 12) {\n          datasetToUpdating.push(\n            this.dataStock.data.valeur.find(\n              (x, i) => i === (this.lastIndexData - 1))\n          );\n        }\n        break;\n    }\n  }\n  private _updateTypeC(s: string) {\n    let datasetToUpdating;\n    switch (s) {\n      case 'prev':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock – ventes GERS (Année N)').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.Stock_moins_ventes_gers.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Ventes GERS (Année N)').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.ventes_gers.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock déclaré').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.stck_reel.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Approvisionnements prévisionnels déclarés').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.approvisionnement.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock calculé suivant ventes GERS (N)').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.stk_gers_prev.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        break;\n      case 'next':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock – ventes GERS (Année N)').data;\n        datasetToUpdating.shift();\n\n        if (this.dataStock.data.Stock_moins_ventes_gers.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.Stock_moins_ventes_gers.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Ventes GERS (Année N)').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.ventes_gers.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.ventes_gers.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock déclaré').data;\n        datasetToUpdating.shift();\n\n        if (this.dataStock.data.stck_reel.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.stck_reel.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Approvisionnements prévisionnels déclarés').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.approvisionnement.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.approvisionnement.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock calculé suivant ventes GERS (N)').data;\n        datasetToUpdating.shift();\n        datasetToUpdating.push(\n          this.dataStock.data.stk_gers_prev.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n        break;\n    }\n  }\n  private _updateTypeD(s: string) {\n    let datasetToUpdating;\n    switch (s) {\n      case 'prev':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock – besoins MEDICAM (Année N)').data;\n          if (datasetToUpdating.length > 11) {\n        datasetToUpdating.pop();\n          }\n        datasetToUpdating.unshift(\n          this.dataStock.data.Stock_moins_ventes_medicam.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Besoins MEDICAM (Année N)').data;\n          if (datasetToUpdating.length > 11) {\n            datasetToUpdating.pop();\n              }\n        datasetToUpdating.unshift(\n          this.dataStock.data.ventes_medicam.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock déclaré').data;\n          if (datasetToUpdating.length > 11) {\n            datasetToUpdating.pop();\n              }\n        datasetToUpdating.unshift(\n          this.dataStock.data.stck_reel.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Approvisionnements prévisionnels déclarés').data;\n          if (datasetToUpdating.length > 11) {\n            datasetToUpdating.pop();\n              }\n        datasetToUpdating.unshift(\n          this.dataStock.data.approvisionnement.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock calculé suivant besoins MEDICAM (N)').data;\n          if (datasetToUpdating.length > 11) {\n            datasetToUpdating.pop();\n              }\n        datasetToUpdating.unshift(\n          this.dataStock.data.stk_medicam_prev.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        break;\n      case 'next':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock – besoins MEDICAM (Année N)').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.Stock_moins_ventes_medicam.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.Stock_moins_ventes_medicam.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Besoins MEDICAM (Année N)').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.ventes_medicam.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.ventes_medicam.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock déclaré').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.stck_reel.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.stck_reel.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Approvisionnements prévisionnels déclarés').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.approvisionnement.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.approvisionnement.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Stock calculé suivant besoins MEDICAM (N)').data;\n        datasetToUpdating.shift();\n        if (this.dataStock.data.stk_medicam_prev.length > 12) {\n        datasetToUpdating.push(\n          this.dataStock.data.stk_medicam_prev.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n          }\n        break;\n    }\n  }\n  private _updateTypeE(s: string) {\n    let datasetToUpdating;\n    let dataStckGers;\n    let dataStckRealExist;\n    let dataStckNextExist;\n    let finalDate;\n    let color;\n    let colorPoint1;\n    let y1;\n    let levelOne;\n    let levelTwo;\n    let colorPoint2;\n    let y2;\n    let levelOneBis;\n    let levelTwoBis;\n    const gradientFill = this._ctx.createLinearGradient(0, 0, 0, 800);\n    switch (s) {\n      case 'prev':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Ventes GERS (N)').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.ventes_gers.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        if (this._myChart.data.datasets.length > 11) {\n          this._myChart.data.datasets.pop();\n        }\n        dataStckGers = this.dataStock.data.stk_gers_affich.find((element, i) =>\n          i === (this.lastIndexData - 12)\n        );\n        dataStckRealExist = this.dataStock.data.stk_affich.find((stockreal, isr) =>\n        isr === (this.lastIndexData - 12)\n        &&\n        stockreal !== null\n        );\n        dataStckNextExist = this.dataStock.data.stk_affich.find((stocknext, isn) =>\n          isn === (this.lastIndexData - 11)\n          &&\n          stocknext !== null\n        );\n        finalDate = this.dataStock.data.date_stock[this.lastIndexData - 11];\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          levelOne = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 12)] * 4));\n          levelTwo = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 12)] * 2));\n        } else {\n          levelOne = Math.sign(dataStckGers - (this.dataStock.data.ventes_gers[(this.lastIndexData - 12)] * 4));\n          levelTwo = Math.sign(dataStckGers - (this.dataStock.data.ventes_gers[(this.lastIndexData - 12)] * 2));\n        }\n        if (levelTwo === -1) {\n          // color = this.dangerColor;\n          // gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          colorPoint1 = this.dangerColor;\n        } else if (levelOne === -1 && levelTwo !== -1) {\n          // color = this.warningColor;\n          // gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          colorPoint1 = this.warningColor;\n        } else {\n          // color = this.gersMoyenne;\n          // gradientFill.addColorStop(0, 'rgba(0, 145, 210, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(0, 145, 210, 0.10)');\n          colorPoint1 = this.medicamMoyenne;\n        }\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          y1 = dataStckRealExist;\n        } else {\n          y1 = dataStckGers;\n        }\n        if (finalDate) {\n          if (dataStckNextExist || dataStckNextExist === 0) {\n            // colorPoint2 = this.stockReel;\n            y2 = dataStckNextExist;\n            levelOneBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 11)] * 4)\n            );\n            levelTwoBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 11)] * 2)\n            );\n          } else {\n            // colorPoint2 = this.gersMoyenne;\n            y2 = this.dataStock.data.stk_gers_affich[(this.lastIndexData - 11)];\n            levelOneBis = Math.sign(\n              this.dataStock.data.stk_gers_affich[\n                (this.lastIndexData - 11)] - (this.dataStock.data.ventes_gers[(this.lastIndexData - 11)] * 4)\n            );\n            levelTwoBis = Math.sign(\n              this.dataStock.data.stk_gers_affich[\n                (this.lastIndexData - 11)] - (this.dataStock.data.ventes_gers[(this.lastIndexData - 11)] * 2)\n            );\n          }\n          if (levelTwoBis === -1) {\n            colorPoint2 = this.dangerColor;\n            color = this.dangerColor;\n            gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          } else if (levelOneBis === -1 && levelTwoBis !== -1) {\n            colorPoint2 = this.warningColor;\n            color = this.warningColor;\n            gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          } else {\n            // if (dataStckNextExist) {\n            //   colorPoint2 = this.stockReel;\n            // } else {\n              colorPoint2 = this.medicamMoyenne;\n              color = this.medicamMoyenne;\n              gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n              gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n            // }\n          }\n          if (y2 === undefined || y2 === null) {\n            colorPoint2 = colorPoint1;\n            color = colorPoint1;\n          }\n          const pointBorderColor = '#FFFFFF';\n          // if (colorPoint1 !== colorPoint2) {\n          //   colorPoint1 = 'transparent';\n          //   pointBorderColor = 'transparent';\n          // }\n          datasetToUpdating = {\n            data: [\n              {\n                x: this.dataStock.data.date_stock[this.lastIndexData - 12], y: y1\n              },\n              {\n                x: finalDate, y: y2\n              },\n            ],\n            pointBorderColor: [pointBorderColor, '#FFFFFF'],\n            pointBackgroundColor: [colorPoint1, colorPoint2],\n            radius: 7,\n            pointHoverRadius: 7,\n            pointHoverBorderWidth: 3,\n            pointHoverBorderColor: '#FFFFFF',\n            pointBorderWidth: 3,\n            borderColor: color,\n            backgroundColor: gradientFill,\n            borderWidth: 3,\n          };\n        }\n        this._myChart.data.datasets.splice(1, 0, datasetToUpdating);\n        break;\n      case 'next':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Ventes GERS (N)').data;\n        datasetToUpdating.shift();\n        datasetToUpdating.push(\n          this.dataStock.data.ventes_gers.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n        this._myChart.data.datasets.splice(1, 1);\n        dataStckGers = this.dataStock.data.stk_gers_affich.find((element, i) =>\n        i === (this.lastIndexData - 2)\n      );\n        dataStckRealExist = this.dataStock.data.stk_affich.find((stockreal, isr) =>\n        isr === (this.lastIndexData - 2)\n        &&\n        stockreal !== null\n        );\n        dataStckNextExist = this.dataStock.data.stk_affich.find((stocknext, isn) =>\n        isn === (this.lastIndexData - 1)\n        &&\n        stocknext !== null\n      );\n      finalDate = this.dataStock.data.date_stock[this.lastIndexData - 1];\n      if (dataStckRealExist || dataStckRealExist === 0) {\n        levelOne = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 2)] * 4));\n        levelTwo = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 2)] * 2));\n      } else {\n        levelOne = Math.sign(dataStckGers - (this.dataStock.data.ventes_gers[(this.lastIndexData - 2)] * 4));\n        levelTwo = Math.sign(dataStckGers - (this.dataStock.data.ventes_gers[(this.lastIndexData - 2)] * 2));\n      }\n      if (levelTwo === -1) {\n        colorPoint1 = this.dangerColor;\n        // color = this.dangerColor;\n        // gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n        // gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n        } else if (levelOne === -1 && levelTwo !== -1) {\n          colorPoint1 = this.warningColor;\n          // color = this.warningColor;\n          // gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n        } else {\n          // color = this.gersMoyenne;\n          // gradientFill.addColorStop(0, 'rgba(0, 145, 210, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(0, 145, 210, 0.10)');\n          // if (dataStckRealExist) {\n          //   colorPoint1 = this.stockReel;\n          // } else {\n            colorPoint1 = this.medicamMoyenne;\n          // }\n        }\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          y1 = dataStckRealExist;\n        } else {\n          y1 = dataStckGers;\n        }\n        if (finalDate) {\n          if (dataStckNextExist || dataStckNextExist === 0) {\n            // colorPoint2 = this.stockReel;\n            y2 = dataStckNextExist;\n            levelOneBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 1)] * 4)\n            );\n            levelTwoBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_gers[(this.lastIndexData - 1)] * 2)\n            );\n          } else {\n          // colorPoint2 = this.gersMoyenne;\n          y2 = this.dataStock.data.stk_gers_affich[(this.lastIndexData - 1)];\n          levelOneBis = Math.sign(\n            this.dataStock.data.stk_gers_affich[\n              (this.lastIndexData - 1)] - (this.dataStock.data.ventes_gers[(this.lastIndexData - 1)] * 4)\n          );\n          levelTwoBis = Math.sign(\n            this.dataStock.data.stk_gers_affich[\n              (this.lastIndexData - 1)] - (this.dataStock.data.ventes_gers[(this.lastIndexData - 1)] * 2)\n          );\n          }\n          if (levelTwoBis === -1) {\n            colorPoint2 = this.dangerColor;\n            color = this.dangerColor;\n            gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          } else if (levelOneBis === -1 && levelTwoBis !== -1) {\n            colorPoint2 = this.warningColor;\n            color = this.warningColor;\n            gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          } else {\n            // if (dataStckNextExist) {\n            //   colorPoint2 = this.stockReel;\n            // } else {\n              colorPoint2 = this.medicamMoyenne;\n              color = this.medicamMoyenne;\n              gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n              gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n            // }\n          }\n          let pointBorderColor = '#FFFFFF';\n          if (colorPoint1 !== colorPoint2) {\n            colorPoint1 = 'transparent';\n            pointBorderColor = 'transparent';\n          }\n          datasetToUpdating = {\n            data: [\n              {\n                x: this.dataStock.data.date_stock[this.lastIndexData - 2], y: y1\n              },\n              {\n                x: finalDate, y: y2\n              },\n            ],\n            pointBorderColor: [pointBorderColor, '#FFFFFF'],\n            pointBackgroundColor: [colorPoint1, colorPoint2],\n            radius: 7,\n            pointHoverRadius: 7,\n            pointHoverBorderWidth: 3,\n            pointHoverBorderColor: '#FFFFFF',\n            pointBorderWidth: 3,\n            borderColor: color,\n            backgroundColor: gradientFill,\n            borderWidth: 3,\n          };\n        }\n        this._myChart.data.datasets.push(datasetToUpdating);\n        break;\n    }\n  }\n  private _updateTypeF(s: string) {\n    let datasetToUpdating;\n    let dataStckMedicam;\n    let dataStckRealExist;\n    let dataStckNextExist;\n    let finalDate;\n    let color;\n    let colorPoint1;\n    let y1;\n    let levelOne;\n    let levelTwo;\n    let colorPoint2;\n    let y2;\n    let levelOneBis;\n    let levelTwoBis;\n    const gradientFill = this._ctx.createLinearGradient(0, 0, 0, 800);\n    switch (s) {\n      case 'prev':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Besoins MEDICAM (N)').data;\n        if (datasetToUpdating.length > 11) {\n          datasetToUpdating.pop();\n        }\n        datasetToUpdating.unshift(\n          this.dataStock.data.ventes_medicam.find(\n            (x, i) => i === (this.lastIndexData - 12))\n        );\n        if (this._myChart.data.datasets.length > 11) {\n          this._myChart.data.datasets.pop();\n        }\n        dataStckMedicam = this.dataStock.data.stk_medicam_affich.find((element, i) =>\n          i === (this.lastIndexData - 12)\n        );\n        dataStckRealExist = this.dataStock.data.stk_affich.find((stockreal, isr) =>\n        isr === (this.lastIndexData - 12)\n        &&\n        stockreal !== null\n        );\n        dataStckNextExist = this.dataStock.data.stk_affich.find((stocknext, isn) =>\n          isn === (this.lastIndexData - 11)\n          &&\n          stocknext !== null\n        );\n        finalDate = this.dataStock.data.date_stock[this.lastIndexData - 11];\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          levelOne = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 12)] * 4));\n          levelTwo = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 12)] * 2));\n        } else {\n          levelOne = Math.sign(dataStckMedicam - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 12)] * 4));\n          levelTwo = Math.sign(dataStckMedicam - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 12)] * 2));\n        }\n        if (levelTwo === -1) {\n          // color = this.dangerColor;\n          // gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          colorPoint1 = this.dangerColor;\n        } else if (levelOne === -1 && levelTwo !== -1) {\n          // color = this.warningColor;\n          // gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          colorPoint1 = this.warningColor;\n        } else {\n          // color = this.medicamMoyenne;\n          // gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n          // if (dataStckRealExist) {\n          //   colorPoint1 = this.stockReel;\n          // } else {\n            colorPoint1 = this.medicamMoyenne;\n          // }\n        }\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          y1 = dataStckRealExist;\n        } else {\n          y1 = dataStckMedicam;\n        }\n        if (finalDate) {\n          if (dataStckNextExist || dataStckNextExist === 0) {\n            // colorPoint2 = this.stockReel;\n            y2 = dataStckNextExist;\n            levelOneBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 11)\n              ] * 4)\n            );\n            levelTwoBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 11)\n              ] * 2)\n            );\n          } else {\n            // colorPoint2 = this.medicamMoyenne;\n            y2 = this.dataStock.data.stk_medicam_affich[(this.lastIndexData - 11)];\n            levelOneBis = Math.sign(\n              this.dataStock.data.stk_medicam_affich[\n                (this.lastIndexData - 11)] - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 11)] * 4)\n            );\n            levelTwoBis = Math.sign(\n              this.dataStock.data.stk_medicam_affich[\n                (this.lastIndexData - 11)] - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 11)] * 2)\n            );\n          }\n          if (levelTwoBis === -1) {\n            colorPoint2 = this.dangerColor;\n            color = this.dangerColor;\n            gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          } else if (levelOneBis === -1 && levelTwoBis !== -1) {\n            colorPoint2 = this.warningColor;\n            color = this.warningColor;\n            gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          } else {\n            // if (dataStckNextExist) {\n            //   colorPoint2 = this.stockReel;\n            // } else {\n              colorPoint2 = this.medicamMoyenne;\n              color = this.medicamMoyenne;\n              gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n              gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n            // }\n          }\n          if (y2 === undefined || y2 === null) {\n            colorPoint2 = colorPoint1;\n            color = colorPoint1;\n          }\n          const pointBorderColor = '#FFFFFF';\n          // if (colorPoint1 !== colorPoint2) {\n          //   colorPoint1 = 'transparent';\n          //   pointBorderColor = 'transparent';\n          // }\n          datasetToUpdating = {\n            data: [\n              {\n                x: this.dataStock.data.date_stock[this.lastIndexData - 12], y: y1\n              },\n              {\n                x: finalDate, y: y2\n              },\n            ],\n            pointBorderColor: [pointBorderColor, '#FFFFFF'],\n            pointBackgroundColor: [colorPoint1, colorPoint2],\n            radius: 7,\n            pointHoverRadius: 7,\n            pointHoverBorderWidth: 3,\n            pointHoverBorderColor: '#FFFFFF',\n            pointBorderWidth: 3,\n            borderColor: color,\n            backgroundColor: gradientFill,\n            borderWidth: 3,\n          };\n        }\n        this._myChart.data.datasets.splice(1, 0, datasetToUpdating);\n        break;\n      case 'next':\n        datasetToUpdating = this._myChart.data.datasets.find(\n          dataset => dataset.label === 'Besoins MEDICAM (N)').data;\n        datasetToUpdating.shift();\n        datasetToUpdating.push(\n          this.dataStock.data.ventes_medicam.find(\n            (x, i) => i === (this.lastIndexData - 1))\n        );\n        this._myChart.data.datasets.splice(1, 1);\n        dataStckMedicam = this.dataStock.data.stk_medicam_affich.find((element, i) =>\n        i === (this.lastIndexData - 2)\n      );\n        dataStckRealExist = this.dataStock.data.stk_affich.find((stockreal, isr) =>\n        isr === (this.lastIndexData - 2)\n        &&\n        stockreal !== null\n        );\n        dataStckNextExist = this.dataStock.data.stk_affich.find((stocknext, isn) =>\n        isn === (this.lastIndexData - 1)\n        &&\n        stocknext !== null\n      );\n      finalDate = this.dataStock.data.date_stock[this.lastIndexData - 1];\n      if (dataStckRealExist || dataStckRealExist === 0) {\n        levelOne = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 2)] * 4));\n        levelTwo = Math.sign(dataStckRealExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 2)] * 2));\n      } else {\n        levelOne = Math.sign(dataStckMedicam - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 2)] * 4));\n        levelTwo = Math.sign(dataStckMedicam - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 2)] * 2));\n      }\n      if (levelTwo === -1) {\n        colorPoint1 = this.dangerColor;\n        // color = this.dangerColor;\n        // gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n        // gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n        } else if (levelOne === -1 && levelTwo !== -1) {\n          colorPoint1 = this.warningColor;\n          // color = this.warningColor;\n          // gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n        } else {\n          // color = this.medicamMoyenne;\n          // gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n          // gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n          // if (dataStckRealExist) {\n          //   colorPoint1 = this.stockReel;\n          // } else {\n            colorPoint1 = this.medicamMoyenne;\n          // }\n        }\n        if (dataStckRealExist || dataStckRealExist === 0) {\n          y1 = dataStckRealExist;\n        } else {\n          y1 = dataStckMedicam;\n        }\n        if (finalDate) {\n          if (dataStckNextExist || dataStckNextExist === 0) {\n            // colorPoint2 = this.stockReel;\n            y2 = dataStckNextExist;\n            levelOneBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 1)] * 4)\n            );\n            levelTwoBis = Math.sign(\n              dataStckNextExist - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 1)] * 2)\n            );\n          } else {\n          // colorPoint2 = this.medicamMoyenne;\n          y2 = this.dataStock.data.stk_medicam_affich[(this.lastIndexData - 1)];\n          levelOneBis = Math.sign(\n            this.dataStock.data.stk_medicam_affich[\n              (this.lastIndexData - 1)] - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 1)] * 4)\n          );\n          levelTwoBis = Math.sign(\n            this.dataStock.data.stk_medicam_affich[\n              (this.lastIndexData - 1)] - (this.dataStock.data.ventes_medicam[(this.lastIndexData - 1)] * 2)\n          );\n          }\n          if (levelTwoBis === -1) {\n            colorPoint2 = this.dangerColor;\n            color = this.dangerColor;\n            gradientFill.addColorStop(0, 'rgba(255, 133, 133, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(255, 133, 133, 0.10)');\n          } else if (levelOneBis === -1 && levelTwoBis !== -1) {\n            colorPoint2 = this.warningColor;\n            color = this.warningColor;\n            gradientFill.addColorStop(0, 'rgba(252, 190, 119, 0.70)');\n            gradientFill.addColorStop(1, 'rgba(252, 190, 119, 0.10)');\n          } else {\n            // if (dataStckNextExist) {\n            //   colorPoint2 = this.stockReel;\n            // } else {\n              colorPoint2 = this.medicamMoyenne;\n              color = this.medicamMoyenne;\n              gradientFill.addColorStop(0, 'rgba(42, 175, 163, 0.70)');\n              gradientFill.addColorStop(1, 'rgba(42, 175, 163, 0.10)');\n            // }\n          }\n          let pointBorderColor = '#FFFFFF';\n          if (colorPoint1 !== colorPoint2) {\n            colorPoint1 = 'transparent';\n            pointBorderColor = 'transparent';\n          }\n          datasetToUpdating = {\n            data: [\n              {\n                x: this.dataStock.data.date_stock[this.lastIndexData - 2], y: y1\n              },\n              {\n                x: finalDate, y: y2\n              },\n            ],\n            pointBorderColor: [pointBorderColor, '#FFFFFF'],\n            pointBackgroundColor: [colorPoint1, colorPoint2],\n            radius: 7,\n            pointHoverRadius: 7,\n            pointHoverBorderWidth: 3,\n            pointHoverBorderColor: '#FFFFFF',\n            pointBorderWidth: 3,\n            borderColor: color,\n            backgroundColor: gradientFill,\n            borderWidth: 3,\n          };\n        }\n        this._myChart.data.datasets.push(datasetToUpdating);\n        break;\n    }\n  }\n\n}\n","\n\n<div class=\"cadre-graph\" *ngIf=\"!graphData\">\n    <div class=\"graphic empty-state\">\n        <img width=\"350\" height=\"100\" class=\"empty-state-img\" src=\"/assets/images/ansm_icons/Empty_state_illu.png\" [alt]=\"'_Dashboard_empty_state_title_' | translate\">\n        <h3 class=\"empty-state-subtitle\">{{'_Dashboard_data_empty_state_title_' | translate}}</h3>\n    </div>\n</div>\n<div class=\"cadre-graph\" *ngIf=\"graphData\">\n    <small \n    *ngIf=\"dashboardData[0].consoDataMissing && laboView ==='all'\" \n    id=\"conso-missing\">⚠️{{'_Dashboard_graphic_warning_data_missing_' | translate}}</small>\n    <div class=\"graphic\" *ngIf=\"laboView ==='all'\">\n        <app-graph-view \n        [dataStock]=\"graphData\" \n        [type]=\"activeGraph\" \n        (image)=\"handleImage($event)\"\n        (disabledExport)=\"handleDisabledExport($event)\"\n        ></app-graph-view>\n    </div>\n    <div *ngIf=\"laboView ==='one'\">\n        <div id=\"accordion\" class=\"collapse-container\" *ngFor=\"let labo of graphData; let i=index\">\n            <button class=\"btn\" [ngClass]=\"{'show': 'aria-expanded'}\" type=\"button\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse'+i\" aria-expanded=\"true\" [attr.aria-controls]=\"'collapse'+i\" (click)=\"addOrRemoveShowClass($event)\">\n                {{labo.labo}}\n            </button>\n            <div class=\"collapse show\" [attr.id]=\"'collapse'+i\" data-parent=\"#accordion\">\n                <app-graph-view \n                [dataStock]=\"labo\" \n                [type]=\"activeGraph\" \n                (image)=\"handleImage($event)\"\n                (disabledExport)=\"handleDisabledExport($event)\"\n                ></app-graph-view>\n            </div>\n        </div>\n        <div \n        *ngIf=\"graphData.length === 0\"\n        class=\"graphic empty-state\">\n            <img width=\"350\" height=\"100\" class=\"empty-state-img\" src=\"/assets/images/ansm_icons/Empty_state_illu.png\" [alt]=\"'_Dashboard_empty_state_title_' | translate\">\n            <h3 class=\"empty-state-subtitle\">{{'_Dashboard_data_empty_state_title_' | translate}}</h3>\n    </div>\n    </div>\n</div>\n\n\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output } from '@angular/core';\nimport { Break, PdctHldSubst } from 'src/app/models';\nimport { ExcelService } from 'src/app/services';\n\n@Component({\n  selector: 'app-graphic-view',\n  templateUrl: './graphicView.component.html',\n  styleUrls: ['./graphicView.component.scss']\n})\nexport class GraphicViewComponent implements OnInit, OnChanges {\n  @Input() laboView: string;\n  @Input() activeGraph: string;\n  @Input() data: Array<PdctHldSubst>;\n  @Input() idSession: number;\n  @Input() dashboardData: Array<any>;\n  @Input() selectGroup: string;\n  @Input() selectSession: Break;\n  @Output() excelActive: EventEmitter<boolean> = new EventEmitter();\n  public allImage = [];\n  public graphData;\n  constructor(\n    private _excelService: ExcelService) {\n  }\n\n  ngOnInit(): void {\n  }\n  ngOnChanges(): void {\n    this.allImage = [];\n    let dataForGraph;\n      if (this.dashboardData.length === 0) {\n        this.graphData = undefined;\n        return;\n      }\n      if (this.laboView === 'all' && this.dashboardData[0]) {\n          dataForGraph = {\n              myChart: `myChart${this.activeGraph}`,\n              labo: this.dashboardData[0].labo,\n              data: this.dashboardData[0].data,\n              grnlr: this.selectSession.cd_grnlr,\n              lastDt: this.dashboardData[0].lastDt\n          };\n      }\n      if (this.laboView === 'one') {\n          dataForGraph = [];\n          this.dashboardData.forEach(element => {\n            if (element.labo !== 'all') {\n              dataForGraph.push({\n                myChart: `myChart${this.activeGraph} ${element.idlabo}`,\n                labo: element.labo,\n                data: element.data,\n                grnlr: this.selectSession.cd_grnlr,\n                lastDt: element.lastDt\n              });\n            }\n          });\n      }\n      this.graphData = dataForGraph;\n      return;\n  }\n  public addOrRemoveShowClass(e) {\n    if (e.target.getAttribute('aria-expanded') === 'false') {\n      e.target.classList.add('show');\n    } else {\n      e.target.classList.remove('show');\n    }\n  }\n  public handleImage(e) {\n    if (this.laboView === 'all') {\n      this.allImage = [e];\n    } else {\n      this.allImage.push(e);\n    }\n    if (this.allImage.length === this.graphData.length || this.laboView === 'all') {\n      this._excelService.images = [];\n      this.allImage.forEach(element => {\n        this._excelService.images.push(element);\n      });\n      this.excelActive.emit(true);\n    }\n    if (this.allImage.length > this.graphData.length && this.laboView !== 'all') {\n      this._excelService.images = this._excelService.images.filter(x => x.name !== e.name);\n      this._excelService.images.push(e);\n      this.excelActive.emit(true);\n    }\n  }\n  public handleDisabledExport(e) {\n    if (e === true) {\n      this.excelActive.emit(false);\n    }\n  }\n}\n","<div class=\"row height-max-content\">\n  <div class=\"left-menu p-0 col-lg-1\">\n    <app-navbar class=\"navbar\"></app-navbar>\n  </div>\n\n\n  <div class=\"col-lg-11 right-content\">\n    <div class=\"header\">\n      <app-highlight-title [title]=\"'_Home_label_data_entry_' | translate\"\n        [highlight]=\"['_DataEntry_title__highlighted_' | translate]\" [text]=\"'_DataEntry_text_'\"></app-highlight-title>\n    </div>\n    <app-data-entry-form\n    [data]=\"data\"\n    [listDataFound]=\"data\"\n    [archive]=\"archivedData\"\n    (emitIsValidateOrSave)=\"handleIsValidateOrSave($event)\"></app-data-entry-form>\n  </div>\n</div>\n","import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Data, DataBreak, DataEntry, DatesBySessionModel } from 'src/app/models';\nimport { AuthenticationService, DataEntryService, RolesService } from 'src/app/services';\n\n@Component({\n  selector: 'app-data-entry',\n  templateUrl: './dataEntry.component.html',\n  styleUrls: ['./dataEntry.component.scss']\n})\nexport class DataEntryComponent implements OnInit {\n\n  private idHld: number;\n  public data: Array<DataBreak>;\n  public archivedData: Array<DataBreak>;\n  public allDatesGrnlrBySession: Array<DatesBySessionModel>;\n  constructor(\n    private readonly authenticationService: AuthenticationService,\n    private readonly _dataEntryService: DataEntryService,\n    private readonly _roles: RolesService,\n    private readonly _datePipe: DatePipe\n  ) {\n    this.idHld = this.authenticationService.currentUserValue.labo;\n    this.getDataEntry(this.idHld);\n  }\n\n  ngOnInit() {\n  }\n  get isAdmin(): boolean {\n    return this._roles.admin.find(x => x === this.authenticationService.currentUserValue.role) ? true : false;\n  }\n  public handleIsValidateOrSave(e) {\n    this.getDataEntry(this.idHld);\n  }\n  // recupere toutes les dataEntry à valider et archivé à mettre à jours avant de les trier\n  private getDataEntry(id: number) {\n    let s = 'id_hld';\n    if (this._roles.admin.find(x => x === this.authenticationService.currentUserValue.role)) {\n      s = '';\n    }\n    const callbacks = {\n        archived: this._getArchivedData.bind(this),\n        toValidated: this._getToValidatedData.bind(this)\n    };\n    this._dataEntryService.getDataEntry(id, s).subscribe(resp => {\n        if (resp === true) {\n            const data: Array<DataEntry> = this._dataEntryService.getResults();\n            this.data = [];\n            this.archivedData = [];\n            if (this.isAdmin) {\n              data.forEach(element => callbacks['archived'](element, data)\n              );\n            } else {\n              data.forEach(element => callbacks[element.cd_stat_entry](element, data)\n              );\n            }\n            this._getAllDates(data);\n            if (this.isAdmin) {\n              this._checkedVueForAdmin(this.data, this.archivedData);\n            }\n        }\n    });\n  }\n\n  private _checkedVueForAdmin(lastToValidatedData: Array<DataBreak>, archivedData: Array<DataBreak>) {\n    archivedData.forEach( (x: DataBreak) => {\n      const newData: Data = x.archivedDataByDate[x.archivedDataByDate.length - 1];\n      const newDataBreak = new DataBreak;\n      newDataBreak.break = x.break;\n      newDataBreak.data = newData;\n      lastToValidatedData.push(\n        newDataBreak\n      );\n      x.archivedDataByDate = x.archivedDataByDate.filter((y, i) => i !== x.archivedDataByDate.length - 1);\n    });\n  }\n\n  private _calculeMinOrMaxGrnlr(data: Array<DataEntry>, id: number, s: string): string {\n    const allGrnlr: Array<string> = [];\n    const datesGrnlr: Array<Date> = [];\n    data.forEach( (grnlr: DataEntry) => {\n      if (\n        !allGrnlr.find(x => x === grnlr.dt_grnlr) &&\n        grnlr.id_break.id_break === id &&\n        grnlr.cd_stat_entry === 'toValidated'\n      ) {\n        allGrnlr.push(grnlr.dt_grnlr);\n      }\n    });\n    allGrnlr.forEach( (element: string) => {\n      const date: Date = new Date(element);\n      datesGrnlr.push(date);\n    });\n    datesGrnlr.sort((a, b) => {\n      if (s === 'min') {\n        return a.getTime() - b.getTime();\n      } else {\n        return b.getTime() - a.getTime();\n      }\n    });\n    if (datesGrnlr.length > 0) {\n      return this._datePipe.transform(new Date(datesGrnlr[0]), 'yyyy-MM-dd');\n    } else {\n      return;\n    }\n  }\n\n  private _getArchivedData(element: DataEntry, data: Array<DataEntry>) {\n    let archiveByBreakId: DataBreak = this.archivedData.find(x => x.break.id_break === element.id_break.id_break);\n    const date: string = element.dt_grnlr;\n    if (!archiveByBreakId) {\n      const dataBreak = new DataBreak;\n      dataBreak.break = element.id_break;\n      dataBreak.archivedDataByDate = [];\n      this.archivedData.push(\n        dataBreak\n      );\n      archiveByBreakId = this.archivedData.find(x => x.break.id_break === element.id_break.id_break);\n    }\n    if (!archiveByBreakId.archivedDataByDate.find(x => x.date === element.dt_grnlr)) {\n      const newData = new Data;\n      newData.date = element.dt_grnlr;\n      newData.startDate = element.start_periode;\n      newData.endDate = element.end_periode;\n      newData.nextDtGrnlr = element.next_dt_grnlr;\n      newData.recurrentData = data.filter(x =>\n        x.id_indc.cd_indc_faml.includes('IE') &&\n        x.id_break.id_break === element.id_break.id_break &&\n        x.dt_grnlr === date &&\n        (this.isAdmin || (!this.isAdmin && x.cd_stat_entry === element.cd_stat_entry))\n        );\n      newData.startingData = data.filter(x =>\n        x.id_indc.cd_indc_faml.includes('IR') &&\n        x.id_break.id_break === element.id_break.id_break &&\n        x.dt_grnlr === date &&\n        (this.isAdmin || (!this.isAdmin && x.cd_stat_entry === element.cd_stat_entry))\n        );\n      archiveByBreakId.archivedDataByDate.push(\n        newData\n      );\n    }\n  }\n\n  private _getToValidatedData(element: DataEntry, data: Array<DataEntry>) {\n    if (!this.data.find (x => x.break.id_break === element.id_break.id_break)) {\n      const newData = new Data;\n      newData.date = element.dt_grnlr;\n      newData.startDate = element.start_periode;\n      newData.endDate = element.end_periode;\n      newData.nextDtGrnlr = element.next_dt_grnlr;\n      newData.recurrentData = data.filter(x =>\n        x.id_indc.cd_indc_faml.includes('IE') &&\n        x.id_break.id_break === element.id_break.id_break &&\n        x.cd_stat_entry === 'toValidated' &&\n        x.dt_grnlr === this._calculeMinOrMaxGrnlr(data, element.id_break.id_break, 'min')\n        );\n      newData.startingData = data.filter(x =>\n        x.id_indc.cd_indc_faml.includes('IR') &&\n        x.id_break.id_break === element.id_break.id_break &&\n        x.cd_stat_entry === 'toValidated' &&\n        x.dt_grnlr === this._calculeMinOrMaxGrnlr(data, element.id_break.id_break, 'min')\n        );\n      const newDataBreak = new DataBreak;\n      newDataBreak.break = element.id_break;\n      newDataBreak.data = newData;\n      this.data.push(\n        newDataBreak\n      );\n    }\n  }\n\n  private _getAllDates(data: Array<DataEntry>) {\n    const datesGrnlr: Array<DatesBySessionModel> = [];\n    data.forEach( dataEntry => {\n      if (!datesGrnlr.find(x => x.id_break === dataEntry.id_break.id_break)) {\n        const newDatesBySession = new DatesBySessionModel;\n        newDatesBySession.id_break = dataEntry.id_break.id_break;\n        newDatesBySession.dates = [];\n        datesGrnlr.push(\n          newDatesBySession\n        );\n      }\n    });\n    datesGrnlr.forEach( (element: DatesBySessionModel) => {\n      const grnlrByIdBreak: DataBreak = this.archivedData.length > 0 ?\n        this.archivedData.find(x => x.break.id_break === element.id_break) : null;\n      let dateToValidate: string;\n      if (!this.isAdmin) {\n        dateToValidate = this._calculeMinOrMaxGrnlr(data, element.id_break, 'min');\n      }\n      if (grnlrByIdBreak) {\n        grnlrByIdBreak.archivedDataByDate.forEach(date => {\n          element.dates.push(date.date);\n        });\n        if (dateToValidate) {\n          element.dates.push(dateToValidate);\n        }\n      } else {\n        if (dateToValidate) {\n          element.dates.push(dateToValidate);\n        }\n      }\n    });\n    this.allDatesGrnlrBySession = datesGrnlr;\n  }\n}\n","<div class=\"dropdown row\">\n    <app-icon-text class=\"col-lg-3 p-0\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'28px'\" [srcActive]=\"'ansm_icons/Nom_session.svg'\" [altText]=\"'_SoldOut_form_field_session_name_' | translate\"\n        [label]=\"'_SoldOut_form_field_session_name_' | translate\">\n    </app-icon-text>\n    <app-dropdown\n    class=\"col-lg-5 p-0\"\n    [active]=\"true\"\n    [search]=\"true\"\n    [typeOfData]=\"'data-entry'\"\n    [dropdownToggleLabel]=\"label\"\n    [data]=\"listDataFound\"\n    [typeOfList]=\"'default'\"\n    (presentData)=\"initSelectSession($event)\"\n    (keyUpEvent)=\"handleOnSearch($event)\"></app-dropdown>\n    <div \n    *ngIf=\"dataBreak\"\n    class=\"btn-group-container col-lg-4 p-0\">\n        <div class=\"btn-group\">\n            <button\n            [class.active]=\"displayFlag === displayStyle.FORM\"\n            (click)=\"switchDisplayFlag()\"\n            [translate]=\"'_DataEntry_FormEntry_'\"></button>\n            <button\n            [class.active]=\"displayFlag === displayStyle.GRID\"\n            (click)=\"switchDisplayFlag()\"\n            [translate]=\"'_DataEntry_GridEntry_'\"></button>\n        </div>\n    </div>\n    <div\n    class=\"dialog-box\"\n    *ngIf=\"dialogDisplayViewChange\">\n        <label [translate]=\"'_DataEntry_ConfirmBeforeViewChange_'\"></label>\n        <div class=\"buttons\">\n            <button\n            class=\"button\"\n            [class.input-valid]=\"displayFlag === displayStyle.GRID || canSave\"\n            [class.input-error]=\"displayFlag === displayStyle.FORM && !canSave\"\n            (click)=\"save()\"\n            [translate]=\"'_DataEntry_form_save_'\"></button>\n            <button\n            class=\"button input-invalid\"\n            (click)=\"closeDisplayDialog(); toggleDisplayFlag()\"\n            [translate]=\"'_DataEntry_ContinueWithoutSave_'\"></button>\n            <button\n            class=\"button input-invalid\"\n            (click)=\"closeDisplayDialog()\"\n            [translate]=\"'_DataEntry_form_cancel_'\"></button>\n        </div>\n    </div>\n    <div\n    class=\"calendar-row row\"\n    *ngIf=\"dataBreak && dataEntryService.dateStart && dataEntryService.dateEnd\">\n        <app-icon-text\n        class=\"col-lg-3 p-0\"\n        [active]=\"true\"\n        [fontSize]=\"'21px'\"\n        [fontLineHeight]=\"'28px'\"\n        [srcActive]=\"'ansm_icons/Calendrier_valide.svg'\"\n        altText=\"{{'_DataEntry_periode_start_' | translate}}\"\n        label=\"{{'_DataEntry_periode_start_' | translate}}\"></app-icon-text>\n        <div class=\"date col-lg-5 p-0\">\n            <span\n            class=\"triangle i-triangle-left\"\n            [class.disabled]=\"!canPrevDate\"\n            (click)=\"prevDate()\"></span>\n            <label>{{dataEntryService.dateStart | date:'dd-MM-y' }} {{\"_DataEntry_periode_end_\" | translate}} {{dataEntryService.dateEnd | date:'dd-MM-y'}}</label>\n            <span\n            class=\"triangle i-triangle-right\"\n            [class.disabled]=\"!canNextDate\"\n            (click)=\"nextDate()\"></span>\n        </div>\n    </div>\n</div>\n<div\nclass=\"message success-msg\"\n*ngIf=\"validateSuccess\"\n[translate]=\"'_DataEntry_ValidateSuccess_'\"></div>\n<div\nclass=\"message error-msg\"\n*ngIf=\"controlError && controlError < 0\"\n[translate]=\"'_DataEntry_ControlError_Tech_'\"></div>\n<div\nclass=\"message error-msg\"\n*ngIf=\"controlError && controlError === 1\">{{\"_DataEntry_ControlError_Data_One_Error_\" | translate}}</div>\n<div\nclass=\"message error-msg\"\n*ngIf=\"controlError && controlError > 1\">{{controlError}} {{\"_DataEntry_ControlError_Data_Multiple_Errors_\" | translate}}</div>\n<div class=\"position-relative\">\n    <div class=\"loader-content\" *ngIf=\"(loader.showSpinner === true)\">\n        <mat-progress-spinner  mode=\"indeterminate\">\n        </mat-progress-spinner>\n    </div>\n    <div *ngIf=\"(loader.showSpinner === false)\">\n        <div\n        class=\"grid-container\"\n        *ngIf=\"displayFlag === displayStyle.GRID && presentationData\">\n            <app-data-entry-grid\n            [gridTitle]=\"'_DataEntry_type_starting_title_'\"\n            [dataType]=\"gridDataType.STARTING\"\n            [readOnly]=\"readOnly\"\n            [data]=\"presentationData\"></app-data-entry-grid>\n            <app-data-entry-grid\n            [gridTitle]=\"'_DataEntry_type_recurrent_title_'\"\n            [dataType]=\"gridDataType.RECURRENT\"\n            [readOnly]=\"readOnly\"\n            [data]=\"presentationData\"\n            [archivedData]=\"this.archivedData\"></app-data-entry-grid>\n            <div\n            class=\"message success-msg\"\n            *ngIf=\"gridData.saveSuccess\"\n            [translate]=\"'_DataEntry_SaveSuccess_'\"></div>\n            <div\n            class=\"message error-msg\"\n            *ngIf=\"gridData.error\"\n            [translate]=\"'_Common_UnkownError_'\"></div>\n            <footer *ngIf=\"areFooterButtonsShown\">\n                <button\n                class=\"button input-valid\"\n                (click)=\"gridData.save()\"\n                [translate]=\"'_DataEntry_form_save_'\"></button>\n                <button\n                *ngIf=\"isValidator\"\n                class=\"button valid-btn\"\n                [class.input-valid]=\"gridData.canValidate\"\n                [class.input-invalid]=\"!gridData.canValidate\"\n                (click)=\"dialogValidateGrid = true; warningStockError = gridData.controlStockError(this.archivedData); warningStockBiggest = gridData.controlStockBiggest(this.archivedData)\"\n                [translate]=\"'_DataEntry_form_submit_'\"></button>\n                <div\n                class=\"dialog-box\"\n                *ngIf=\"dialogValidateGrid\">\n                    <div \n                    class=\"consistency-check\" \n                    *ngIf=\"warningStockError\">\n                        {{'_Form_field_warning_message_control_stock_' | translate}}\n                    </div>\n                    <div \n                    class=\"consistency-check\" \n                    *ngIf=\"warningStockBiggest\">\n                        {{'_Form_field_warning_message_control_sended_' | translate}}\n                    </div>\n                    <label [translate]=\"'_DataEntry_ConfirmSubmit_'\"></label>\n                    <div class=\"buttons\">\n                        <button\n                        class=\"button input-valid\"\n                        (click)=\"gridData.validate(); dialogValidateGrid = false\"\n                        [translate]=\"'_DataEntry_form_submit_'\"></button>\n                        <button\n                        class=\"button input-invalid cancel\"\n                        (click)=\"dialogValidateGrid = false\"\n                        [translate]=\"'_DataEntry_form_cancel_'\"></button>\n                    </div>\n                </div>\n            </footer>\n        </div>\n        <form\n        *ngIf=\"formControls && formControls.session.valid && displayFlag === displayStyle.FORM\"\n        [formGroup]=\"dataEntryForm\"\n        (ngSubmit)=\"onClickSubmitSave()\">\n            <div\n            class=\"form-presentation\"\n            [class.error]=\"presentationHasError(presentation)\"\n            [class.active]=\"presentationIsValid(presentation)\"\n            *ngFor=\"let presentation of presentationData\">\n                <header (click)=\"presentation.collapsed = !presentation.collapsed\">\n                    <div class=\"presentation-title\">\n                        <strong>{{presentation.cd_cip13}}</strong>\n                        <span> - {{presentation.nm_medic}}</span>\n                    </div>\n                    <div\n                    class=\"icon-collapse\"\n                    [class.i-chevron-up]=\"!presentation.collapsed\"\n                    [class.i-chevron-down]=\"presentation.collapsed\"></div>\n                </header>\n                <body\n                [class.d-none]=\"presentation.collapsed\">\n                    <div class=\"presentation\">\n                        <strong>{{'_SoldOut_form_field_presentation_' | translate}} : </strong>\n                        <label>{{presentation.ll_prest}}</label>\n                    </div>\n                    <ng-container *ngFor=\"let dataType of ['starting', 'recurrent']\">\n                        <section *ngIf=\"presentation.data[dataType + 'Data'].length > 0\">\n                            <app-icon-text\n                            [active]=\"true\"\n                            [fontSize]=\"'21px'\"\n                            [fontLineHeight]=\"'28px'\"\n                            [srcActive]=\"'ansm_icons/' + dataType + '.svg'\"\n                            [altText]=\"'_DataEntry_type_' + dataType + '_title_' | translate\"\n                            [label]=\"'_DataEntry_type_' + dataType + '_title_' | translate\"></app-icon-text>\n                            <div\n                            class=\"entry\"\n                            *ngFor=\"let dataEntry of presentation.data[dataType + 'Data']\">\n                                <div\n                                class=\"tick\"\n                                [class.puce-error]=\"dataEntryHasError(dataEntry)\"\n                                [class.puce-actif]=\"dataEntryIsValid(dataEntry)\"></div>\n                                <div class=\"label-container\">\n                                    <label>{{dataEntry.id_indc.sl_indc}}</label>\n                                    <label\n                                    *ngIf=\"dataEntry.id_indc.lb_date.length > 0\"\n                                    class=\"indc-date\">{{dataEntry.id_indc.lb_date}}</label>\n                                </div>\n                                <div class=\"help\">\n                                    <div class=\"i-help\"></div>\n                                    <label class=\"help-text\">{{dataEntry.id_indc.ll_indc}}</label>\n                                </div>\n                                <div \n                                class=\"input-form\">\n                                    <app-data-entry-form-input\n                                    [disabled]=\"readOnly\"\n                                    [dataEntry]=\"dataEntry\"\n                                    [warningStockBiggest]=\"!readOnly && dataEntry.id_indc.cd_indc === 'IE-16' && controlSendedMoreThanStock(dataEntry)\"\n                                    [warningStockError]=\"!readOnly && dataEntry.id_indc.cd_indc === 'IE-1' && controlErreurStock(dataEntry)\"\n                                    (valueChanged)=\"handleResponse($event)\"></app-data-entry-form-input>\n                                </div>\n                            </div>\n                        </section>\n                    </ng-container>\n                </body>\n            </div>\n            <div\n            class=\"message success-msg\"\n            *ngIf=\"saveSuccess\"\n            [translate]=\"'_DataEntry_SaveSuccess_'\"></div>\n            <div\n            class=\"message error-msg\"\n            *ngIf=\"error\"\n            [translate]=\"'_Common_UnkownError_'\"></div>\n            <footer *ngIf=\"areFooterButtonsShown\">\n                <input\n                type=\"submit\"\n                class=\"button\"\n                [class.input-valid]=\"canSave\"\n                [class.input-invalid]=\"!canSave\"\n                value=\"{{'_DataEntry_form_save_' | translate}}\">\n                <div\n                class=\"button valid-btn\"\n                *ngIf=\"isValidator\"\n                [class.input-valid]=\"canValidate\"\n                [class.input-invalid]=\"!canValidate\"\n                (click)=\"dialogValidateForm = true; consistencyCheck(this.archivedData)\"\n                [translate]=\"'_DataEntry_form_submit_'\"></div>\n                <div\n                class=\"dialog-box\"\n                *ngIf=\"dialogValidateForm\">                    \n                    <div \n                    class=\"consistency-check\" \n                    *ngIf=\"warningStockError\">\n                        {{'_Form_field_warning_message_control_stock_' | translate}}\n                    </div>\n                    <div \n                    class=\"consistency-check\" \n                    *ngIf=\"warningStockBiggest\"\n                    >\n                        {{'_Form_field_warning_message_control_sended_' | translate}}\n                    </div>\n                    <label [translate]=\"'_DataEntry_ConfirmSubmit_'\"></label>\n                    <div class=\"buttons\">\n                        <button\n                        class=\"button input-valid\"\n                        (click)=\"onClickValidate(); dialogValidateForm = false\"\n                        [translate]=\"'_DataEntry_form_submit_'\"></button>\n                        <button\n                        class=\"button input-invalid cancel\"\n                        (click)=\"dialogValidateForm = false\"\n                        [translate]=\"'_DataEntry_form_cancel_'\"></button>\n                    </div>\n                </div>\n            </footer>\n        </form>\n    </div>\n</div>\n","import { Component, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output } from '@angular/core';\nimport { AbstractControl, FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable, of, Subscription } from 'rxjs';\nimport { first, map, switchMap, tap } from 'rxjs/operators';\nimport { Data, DataBreak, DataEntry, GridDataType, IndcTypes, PdctHldSubst } from 'src/app/models';\nimport { AuthenticationService, DataEntryService, GridDataService, LoaderService, RolesService } from 'src/app/services';\n\nenum DisplayStyle {\n    FORM,\n    GRID\n}\n\ninterface DataEntryError {\n    cd_cip13: number;\n    indc: number;\n    error: boolean;\n}\n\n@Component({\n    selector: 'app-data-entry-form',\n    templateUrl: './dataEntryForm.component.html',\n    styleUrls: ['./dataEntryForm.component.scss']\n})\nexport class DataEntryFormComponent implements OnInit, OnChanges, OnDestroy {\n\n    @Input() data: Array<DataBreak>;\n    @Input() listDataFound: Array<DataBreak>;\n    @Input() archive: Array<DataBreak>;\n\n    @Output() emitIsValidateOrSave: EventEmitter<boolean> = new EventEmitter();\n    public dataEntryForm: FormGroup;\n    public label: string;\n    public stratingData: boolean;\n    public presentationData: Array<PdctHldSubst>;\n    public saveSuccess: boolean;\n    public validateSuccess: boolean;\n    public controlError: number;\n    public isLabo = false;\n    public isValidator = false;\n    public errorData = [];\n    public gridDataType: typeof GridDataType = GridDataType;\n    public displayStyle: typeof DisplayStyle = DisplayStyle;\n    public displayFlag: DisplayStyle = DisplayStyle.GRID;\n    public dialogValidateGrid: boolean;\n    public dialogValidateForm: boolean;\n    public dialogDisplayViewChange: boolean;\n    public error: boolean;\n    public nullValueToSave = [];\n    public archiveIdx: number = 0;\n    public dataBreak: DataBreak;\n    public archivedData: DataBreak;\n    public warningStockBiggest: boolean = false;\n    public warningStockError: boolean = false;\n\n    private _subsriptions: Subscription = new Subscription();\n    private _subscriptionsSave: Subscription = new Subscription();\n    private nbChecked: number = 0;\n    private afterChecked: boolean;\n\n\n\n    constructor(\n        public loader: LoaderService,\n        public gridData: GridDataService,\n        public dataEntryService: DataEntryService,\n        private readonly _formBuilder: FormBuilder,\n        private readonly _authService: AuthenticationService,\n        private readonly _role: RolesService,\n    ) {\n        if (this._role.validator.find(x => x === this._authService.currentUserValue.role)) {\n            this.isValidator = true;\n        }\n        if (this._role.dataentry.find(x => x === this._authService.currentUserValue.role)\n        && !this._role.admin.find(x => x === this._authService.currentUserValue.role)) {\n            this.isLabo = true;\n        }\n    }\n\n    ngOnInit(): void {\n        this.dataEntryForm = this._formBuilder.group({\n            session: ['', Validators.required],\n            dataToUpdate: this._formBuilder.array([], [Validators.required]),\n            dataToCreate: this._formBuilder.array([], [Validators.required]),\n        });\n        const sub: Subscription = this.gridData.validated.subscribe(this._afterValidate.bind(this));\n        const subSave: Subscription = this.gridData.saved.subscribe(this._afterSave.bind(this));\n        this._subsriptions.add(sub);\n        this._subscriptionsSave.add(subSave);\n    }\n\n    ngOnChanges(): void {\n        if (this.data && this.dataBreak) {\n            const dataBreak = this.data.find(x => x.break.id_break === this.dataBreak.break.id_break);\n            this._initSelectSessionAfterReloadData(dataBreak);\n        }\n    }\n\n    ngOnDestroy(): void {\n        this._subsriptions.unsubscribe();\n        this._subscriptionsSave.unsubscribe();\n    }\n\n    get formControls(): {[key: string]: AbstractControl }  {\n        return this.dataEntryForm.controls;\n    }\n\n    get canSave(): boolean {\n        return (this.formControls.dataToUpdate.valid || this.nullValueToSave.length > 0)\n        && this.submitSaveIsActive\n        && !this.readOnly;\n    }\n\n    get canValidate(): boolean {\n        let canValidate = true;\n        const dataToUpdate = this.formControls.dataToUpdate.value;\n        const dataToCreate = this.formControls.dataToCreate.value;\n        this.presentationData.forEach(data => {\n            data.data.startingData.forEach(row => {\n                if (row.id_indc.fl_indc_mdty === 1\n                && !dataToUpdate.find(d => d.id_indc === row.id_indc.id_indc && d.cd_cip13 === row.cd_cip13)) {\n                    canValidate = false;\n                }\n            });\n            data.data.recurrentData.forEach(row => {\n                if (row.id_indc.fl_indc_mdty === 1\n                && (!dataToUpdate.find(d => d.id_indc === row.id_indc.id_indc && d.cd_cip13 === row.cd_cip13)\n                    || !dataToCreate.find(d => d.id_indc === row.id_indc.id_indc && d.cd_cip13 === row.cd_cip13))) {\n                    canValidate = false;\n                }\n            });\n        });\n        return canValidate && !this.hasPendingModif;\n    }\n\n    get submitSaveIsActive(): boolean {\n        return !this.errorData.find(x => x.error === true);\n    }\n\n    get readOnly(): boolean {\n        return !this.isLabo || (typeof this.archivedData !== 'undefined' && typeof this.archivedData.data !== 'undefined');\n    }\n\n    get areFooterButtonsShown(): boolean {\n        return !this.readOnly && this.presentationData && this.archiveIdx === 0;\n    }\n\n    get isAdmin(): boolean {\n        return this._role.admin.find(x => x === this._authService.currentUserValue.role) ? true : false;\n    }\n\n    get canPrevDate(): boolean {\n        return typeof this.archivedData !== 'undefined' && this.archiveIdx < this.archivedData.archivedDataByDate.length;\n    }\n\n    get canNextDate(): boolean {\n        return typeof this.archivedData !== 'undefined' && this.archiveIdx > 0;\n    }\n\n    get hasPendingModif(): boolean {\n        if (!this.dataBreak) {\n            return false;\n        }\n        let nbModif = this.dataBreak.data.recurrentData.filter(this._findModifs.bind(this)).length;\n        nbModif += this.dataBreak.data.startingData.filter(this._findModifs.bind(this)).length;\n        return nbModif > 0;\n    }\n\n    public switchDisplayFlag(): void {\n        const checkPendingModif: {[key: string]: boolean} = {\n            [DisplayStyle.FORM]: this.hasPendingModif,\n            [DisplayStyle.GRID]: this.gridData.hasPendingModif\n        };\n        if (!this.readOnly && checkPendingModif[this.displayFlag] && this.presentationData) {\n            this.dialogDisplayViewChange = true;\n        } else {\n            this.toggleDisplayFlag();\n        }\n    }\n\n    public toggleDisplayFlag(): void {\n        this.nbChecked = 0;\n        this.displayFlag = this.displayFlag === DisplayStyle.FORM ? DisplayStyle.GRID : DisplayStyle.FORM;\n    }\n\n    public closeDisplayDialog(): void {\n        this.dialogDisplayViewChange = false;\n    }\n\n    public presentationHasError(presentation: PdctHldSubst): boolean {\n        const error = this.errorData.find(x => x.cd_cip13 === presentation.cd_cip13 && x.error === true);\n        return typeof error !== 'undefined';\n    }\n\n    public presentationIsValid(presentation: PdctHldSubst): boolean {\n        const data = presentation.data;\n        const nbDataExpected = data.startingData.length + data.recurrentData.length;\n        const nbDataResponseFind = this.formControls.dataToUpdate.value.filter(x => x.cd_cip13 === presentation.cd_cip13).length;\n        return !this.presentationHasError(presentation) && (nbDataExpected === nbDataResponseFind);\n    }\n\n    public prevDate(): void {\n        this.archiveIdx++;\n        this.archivedData.data = this.archivedData.archivedDataByDate[this.archiveIdx - 1];\n        this.selectSession(this.archivedData);\n    }\n\n    public nextDate(): void {\n        this.archiveIdx--;\n        this.archivedData.data = this.archivedData.archivedDataByDate[this.archiveIdx - 1];\n        let dataBreak: DataBreak = this.archivedData;\n        if (this.archiveIdx === 0) {\n            delete this.archivedData.data;\n            dataBreak = this.dataBreak;\n        }\n        this.selectSession(dataBreak);\n    }\n\n    public dataEntryHasError(dataEntry: DataEntry): boolean {\n        const error: DataEntryError = this.errorData.find(err =>\n            (err.cd_cip13 === dataEntry.cd_cip13)\n            && (err.indc === dataEntry.id_indc.id_indc)\n            && (err.error === true)\n        );\n        return typeof error !== 'undefined';\n    }\n\n    public dataEntryIsValid(dataEntry: DataEntry): boolean {\n        const updated: DataEntry = this.formControls.dataToUpdate.value.find(updt =>\n            (updt.cd_cip13 === dataEntry.cd_cip13)\n            && (updt.id_indc === dataEntry.id_indc.id_indc)\n        );\n        return typeof updated !== 'undefined';\n    }\n\n    public handleOnSearch(e) {\n        const value = e.target.value.toUpperCase();\n        this.listDataFound = [];\n        if (!e.target.value) {\n          this.listDataFound = this.data;\n          return;\n        } else {\n          const listDataFound =\n            this.data.filter( x =>\n              x.break.nm_break.toUpperCase().includes(value)\n            );\n          listDataFound.forEach(element => {\n            if (!this.listDataFound.find(x => x.break.nm_break === element.break.nm_break)) {\n              this.listDataFound.push(element);\n            }\n          });\n        }\n    }\n    public save(): void {\n        if (this.displayFlag === this.displayStyle.FORM && !this.canSave) {\n            return;\n        }\n        const saveFuncs: {[key: string]: () => Observable<void>} = {\n            [DisplayStyle.FORM]: this.onClickSubmitSave.bind(this),\n            [DisplayStyle.GRID]: this.gridData.save.bind(this.gridData)\n        };\n        saveFuncs[this.displayFlag]()\n            .pipe(first())\n            .subscribe(this.toggleDisplayFlag.bind(this));\n        this.closeDisplayDialog();\n    }\n\n    public initSelectSession(dataBreak: DataBreak) {\n        this.archiveIdx = 0;\n        this.emitIsValidateOrSave.emit(true);\n        this.dataBreak = dataBreak;\n    }\n\n    public selectSession(dataBreak: DataBreak) {\n        this._resetData(dataBreak);\n        this._fetchProducts(dataBreak);\n        this.archivedData = this._initd(dataBreak);\n        this.dataEntryService.nextDtGrnlr = dataBreak.data.nextDtGrnlr;\n        this._setDateStart(dataBreak);\n        this.dataEntryService.dataBreak = dataBreak;\n    }\n\n    public handleResponse(e) {\n        this.nbChecked ++;\n        this._registerNullValueToUpdate(e);\n        this._handleErrorDataToActiveOrErrorClass(e);\n        let form: FormArray;\n        let dataCreate: DataEntry;\n        // Enregistrement des données pour dataUpdate et dataCreate\n        if (e.dataForm || e.dataForm === 0 || e.data.id_indc.fl_indc_mdty === 0) {\n            let dataUpdate = new DataEntry;\n            dataUpdate = {\n                id_break: e.data.id_break.id_break,\n                id_hld: e.data.id_hld,\n                cd_cip13: e.data.cd_cip13,\n                id_indc: e.data.id_indc.id_indc,\n                fl_indc_mdty: e.data.id_indc.fl_indc_mdty,\n                cd_stat_entry: e.data.cd_stat_entry,\n                id_usr_crt: e.data.id_usr_crt,\n                id_usr_vld: -1,\n                ts_crt: new Date(e.data.ts_crt),\n                ts_lst_upd: new Date(),\n                val_indc: e.data.id_indc.cd_indc_typ === IndcTypes.NUMBER ? parseInt(e.dataForm, 10) : e.dataForm,\n                dt_grnlr: e.data.dt_grnlr\n            };\n            if (e.data.id_indc.cd_indc_faml.includes('IE')) {\n                dataCreate = {\n                    id_break: e.data.id_break.id_break,\n                    id_hld: e.data.id_hld,\n                    cd_cip13: e.data.cd_cip13,\n                    id_indc: e.data.id_indc.id_indc,\n                    fl_indc_mdty: e.data.id_indc.fl_indc_mdty,\n                    cd_stat_entry: 'toValidated',\n                    id_usr_crt: -1,\n                    id_usr_vld: -1,\n                    ts_crt: new Date(),\n                    ts_lst_upd: new Date(),\n                    val_indc: -1,\n                    ts_vld: 'null',\n                    dt_grnlr: this.dataEntryService.nextDtGrnlr\n                };\n            }\n            // Enregistrement des data precedentes dans le formulaire\n            form = this.dataEntryForm.get('dataToUpdate') as FormArray;\n            let data = form.controls.find( x => (x.value.id_indc === dataUpdate.id_indc) && (x.value.cd_cip13 === dataUpdate.cd_cip13));\n            if (!data) {\n                form.push(new FormControl(dataUpdate));\n            } else {\n                form.controls.forEach((item: FormControl) => {\n                    if ((item.value.id_indc === dataUpdate.id_indc) && (item.value.cd_cip13 === dataUpdate.cd_cip13)) {\n                        item.value.val_indc = dataUpdate.val_indc;\n                    }\n                });\n            }\n            if (dataCreate) {\n                form = this.dataEntryForm.get('dataToCreate') as FormArray;\n                data = form.controls.find( x => (x.value.id_indc === dataCreate.id_indc) && (x.value.cd_cip13 === dataCreate.cd_cip13));\n                if (!data) {\n                    form.push(new FormControl(dataCreate));\n                } else {\n                    form.controls.forEach((item: FormControl) => {\n                        if ((item.value.id_indc === dataCreate.id_indc) && (item.value.cd_cip13 === dataCreate.cd_cip13)) {\n                            item.value.val_indc = dataCreate.val_indc;\n                        }\n                    });\n                }\n            }\n        // Si le input est vide alors suppression de la data déjà présente dans le formulaire\n        } else {\n            let i = 0;\n            form = this.dataEntryForm.get('dataToUpdate') as FormArray;\n            form.controls.forEach((item: FormControl) => {\n                if ((item.value.id_indc === e.data.id_indc.id_indc) && (item.value.cd_cip13 === e.data.cd_cip13)) {\n                    form.removeAt(i);\n                    return;\n                }\n                i++;\n            });\n            i = 0;\n            form = this.dataEntryForm.get('dataToCreate') as FormArray;\n            form.controls.forEach((item: FormControl) => {\n                if ((item.value.id_indc === e.data.id_indc.id_indc) && (item.value.cd_cip13 === e.data.cd_cip13)) {\n                    form.removeAt(i);\n                    return;\n                }\n                i++;\n            });\n        }\n    }\n\n    public controlSendedMoreThanStock(dataEntry: DataEntry): boolean {\n        this._checkedIfInputFieldUsePresentationOrUpdateData();\n        const prevData = this.archivedData ? this.archivedData.archivedDataByDate.find(x => x.nextDtGrnlr === dataEntry.dt_grnlr) : null;\n        let prevDataForIndcToVerifiesExiste: DataEntry;\n        if (prevData) {\n            prevDataForIndcToVerifiesExiste = prevData.recurrentData.find((x: DataEntry) =>\n            x.cd_cip13 === dataEntry.cd_cip13 && x.id_indc.cd_indc === 'IE-1');\n        }\n        const dataToUpdate = this.formControls.dataToUpdate.value.length > 0 ?\n        this.formControls.dataToUpdate.value.filter(x => x.cd_cip13 === dataEntry.cd_cip13) : null;\n        let valuesExistAndDataNotValidated;\n        if (this.afterChecked) {\n            valuesExistAndDataNotValidated = (\n                dataEntry.cd_stat_entry === 'toValidated'\n                && prevData !== null\n                && prevDataForIndcToVerifiesExiste\n                && dataToUpdate !== null\n                && dataToUpdate.find(x =>\n                    x.id_indc === 7\n                ) !== undefined\n                && dataToUpdate.find(x =>\n                    x.id_indc === 8\n                ) !== undefined\n                && dataToUpdate.find(x =>\n                    x.id_indc === 22\n                ) !== undefined\n            );\n        } else {\n            valuesExistAndDataNotValidated = (\n                dataEntry.cd_stat_entry === 'toValidated'\n                && prevData !== null\n                && prevDataForIndcToVerifiesExiste\n                && this.presentationData.find(x =>\n                    x.cd_cip13 === dataEntry.cd_cip13\n                ).data.recurrentData.find(el =>\n                    el.id_indc.cd_indc === 'IE-1'\n                ) !== undefined\n                && this.presentationData.find(x =>\n                    x.cd_cip13 === dataEntry.cd_cip13\n                ).data.recurrentData.find(el =>\n                    el.id_indc.cd_indc === 'IE-2'\n                ) !== undefined\n            );\n        }\n        if (valuesExistAndDataNotValidated && this.afterChecked) {\n            const valueSended: number = dataToUpdate.find(x =>\n                x.id_indc === 22\n            ).val_indc;\n            const valueSupply: number = dataToUpdate.find(x =>\n                x.id_indc === 8\n            ).val_indc;\n            const valuePrevStock: number = Number(prevData.recurrentData.find((x: DataEntry) =>\n                x.cd_cip13 === dataEntry.cd_cip13 && x.id_indc.cd_indc === 'IE-1'\n            ).val_indc);\n            return (valueSended && valueSupply) !== null ? valueSended > (valuePrevStock + valueSupply) : false;\n        } else if (valuesExistAndDataNotValidated && !this.afterChecked) {\n            const valueSended = this.presentationData.find(x =>\n                x.cd_cip13 === dataEntry.cd_cip13\n            ).data.recurrentData.find(el =>\n                el.id_indc.cd_indc === 'IE-16'\n            ).val_indc;\n            const valueSupply = this.presentationData.find(x =>\n                x.cd_cip13 === dataEntry.cd_cip13\n            ).data.recurrentData.find(el =>\n                el.id_indc.cd_indc === 'IE-2'\n            ).val_indc;\n            const valuePrevStock: number = Number(prevData.recurrentData.find((x: DataEntry) =>\n                x.cd_cip13 === dataEntry.cd_cip13 && x.id_indc.cd_indc === 'IE-1'\n            ).val_indc);\n            return (valueSended && valueSupply) !== null ? Number(valueSended) > (valuePrevStock + Number(valueSupply)) : false;\n        } else {\n            return false;\n        }\n    }\n\n    public controlErreurStock(dataEntry: DataEntry): boolean {\n        this._checkedIfInputFieldUsePresentationOrUpdateData();\n        const prevData = this.archivedData ? this.archivedData.archivedDataByDate.find(x => x.nextDtGrnlr === dataEntry.dt_grnlr) : null;\n        let prevDataForIndcToVerifiesExiste: DataEntry;\n        if (prevData) {\n            prevDataForIndcToVerifiesExiste = prevData.recurrentData.find((x: DataEntry) =>\n            x.cd_cip13 === dataEntry.cd_cip13 && x.id_indc.cd_indc === 'IE-1');\n        }\n        const dataToUpdate = this.formControls.dataToUpdate.value.length > 0 ?\n        this.formControls.dataToUpdate.value.filter(x => x.cd_cip13 === dataEntry.cd_cip13) : null;\n        let valuesExistAndDataNotValidated;\n        if (this.afterChecked) {\n            valuesExistAndDataNotValidated = (\n                dataEntry.cd_stat_entry === 'toValidated'\n                && prevData !== null\n                &&\n                prevDataForIndcToVerifiesExiste\n                && dataToUpdate !== null\n                && dataToUpdate.find(x =>\n                    x.id_indc === 7\n                ) !== undefined\n                && dataToUpdate.find(x =>\n                    x.id_indc === 8\n                ) !== undefined\n                && dataToUpdate.find(x =>\n                    x.id_indc === 22\n                ) !== undefined\n            );\n        } else {\n            valuesExistAndDataNotValidated = (\n                dataEntry.cd_stat_entry === 'toValidated'\n                && prevData !== null\n                && prevDataForIndcToVerifiesExiste\n                && this.presentationData.find(x =>\n                    x.cd_cip13 === dataEntry.cd_cip13\n                ).data.recurrentData.find(el =>\n                    el.id_indc.cd_indc === 'IE-2'\n                ) !== undefined\n                && this.presentationData.find(x =>\n                    x.cd_cip13 === dataEntry.cd_cip13\n                ).data.recurrentData.find(el =>\n                    el.id_indc.cd_indc === 'IE-16'\n                ) !== undefined\n            );\n        }\n        if (valuesExistAndDataNotValidated && this.afterChecked) {\n            const valueSended: number = dataToUpdate.find(x =>\n                x.id_indc === 22\n            ).val_indc;\n            const valueSupply: number = dataToUpdate.find(x =>\n                x.id_indc === 8\n            ).val_indc;\n            const valuePrevStock = Number(prevData.recurrentData.find((x: DataEntry) =>\n                x.cd_cip13 === dataEntry.cd_cip13 && x.id_indc.cd_indc === 'IE-1'\n            ).val_indc);\n            const stockTotal = valuePrevStock - valueSended + valueSupply < 0 ? 0 : valuePrevStock - valueSended + valueSupply;\n            const valueStock: number = dataToUpdate.find(x =>\n                x.id_indc === 7\n            ).val_indc;\n            return (valueSended && valueSupply && valueStock) !== null ?\n                (stockTotal < (valueStock - (valueStock * 0.05)) || stockTotal > (valueStock * 1.05)) : false;\n        } else if (valuesExistAndDataNotValidated && !this.afterChecked) {\n            const valueSended = this.presentationData.find(x =>\n                x.cd_cip13 === dataEntry.cd_cip13\n            ).data.recurrentData.find(el =>\n                el.id_indc.cd_indc === 'IE-16'\n            ).val_indc;\n            const valueSupply = this.presentationData.find(x =>\n                x.cd_cip13 === dataEntry.cd_cip13\n            ).data.recurrentData.find(el =>\n                el.id_indc.cd_indc === 'IE-2'\n            ).val_indc;\n            const valuePrevStock: number = Number(prevData.recurrentData.find((x: DataEntry) =>\n                x.cd_cip13 === dataEntry.cd_cip13 && x.id_indc.cd_indc === 'IE-1'\n            ).val_indc);\n            const stockTotal = (valueSended && valueSupply) !== null ? valuePrevStock - Number(valueSended) + Number(valueSupply) : null;\n            const stockMin = stockTotal - Math.abs(stockTotal * 0.05);\n            const stockMax = stockTotal + Math.abs(stockTotal * 0.05) < 0 ? 0 : stockTotal + Math.abs(stockTotal * 0.05);\n            const valueStock: number = dataEntry.val_indc;\n            return (stockTotal && valueStock) !== null ?\n                (valueStock < stockMin || valueStock > stockMax) : false;\n        } else {\n            return false;\n        }\n    }\n\n    public consistencyCheck(archives: DataBreak) {\n        let errorStock = false;\n        let errorSended = false;\n        const dataToValidate: Array<any> = this.formControls.dataToUpdate.value;\n        const prevData = archives ? archives.archivedDataByDate.find(x => x.nextDtGrnlr === dataToValidate[0].dt_grnlr) : null;\n        const originData = archives ? archives.archivedDataByDate.find(x => x.date === dataToValidate[0].dt_grnlr) : null;\n        let valuesPrevStock: Array<DataEntry>;\n        let valuesStockOrigin: Array<DataEntry> = new Array;\n        let valuesSupplyOrigin: Array<DataEntry> = new Array;\n        let valuesSendedOrigin: Array<DataEntry> = new Array;\n        if (prevData) {\n            valuesPrevStock = prevData.recurrentData.filter((x: DataEntry) =>\n            x.id_indc.cd_indc === 'IE-1');\n        }\n        if (originData) {\n            valuesStockOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 7);\n            valuesSupplyOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 8);\n            valuesSendedOrigin = originData.recurrentData.filter(x => x.id_indc.id_indc === 22);\n        }\n        const valuesStock = dataToValidate.filter(x => x.id_indc === 7).concat(valuesStockOrigin);\n        const valuesSupply = dataToValidate.filter(x => x.id_indc === 8).concat(valuesSupplyOrigin);\n        const valuesSended = dataToValidate.filter(x => x.id_indc === 22).concat(valuesSendedOrigin);\n        if (\n            valuesPrevStock\n            &&\n            valuesStock.length > 0\n            &&\n            valuesSupply.length > 0\n            &&\n            valuesSended.length > 0\n        ) {\n            valuesSended.forEach(element => {\n                const dataPrevStock = valuesPrevStock.find((x: DataEntry) =>\n                x.cd_cip13 === element.cd_cip13\n                );\n                const valuePrevStock = dataPrevStock ? Number(dataPrevStock.val_indc) : null;\n                const datavaluesSupply = valuesSupply.find(x =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valueSupply = datavaluesSupply ? Number(datavaluesSupply.val_indc) : null;\n                const dataStock = valuesStock.find((x: DataEntry) =>\n                    x.cd_cip13 === element.cd_cip13\n                );\n                const valueStock = dataStock ? Number(dataStock.val_indc) : null;\n                const stockTotal = valuePrevStock !== null && valueSupply !== null ?\n                    valuePrevStock - Number(element.val_indc) + valueSupply : null;\n                const stockMin = stockTotal !== null ? stockTotal - Math.abs(stockTotal * 0.05) : null;\n                const stockMax = stockTotal !== null ?\n                    stockTotal + Math.abs(stockTotal * 0.05) < 0 ? 0 : stockTotal + Math.abs(stockTotal * 0.05) : null;\n                errorStock = valueStock !== null && stockTotal !== null && (valueStock < stockMin || valueStock > stockMax) ?\n                    true : errorStock;\n                errorSended = valuePrevStock !== null && valueSupply !== null && Number(element.val_indc) > (valuePrevStock + valueSupply) ?\n                    true : errorSended;\n            });\n        }\n        this.warningStockError = errorStock;\n        this.warningStockBiggest = errorSended;\n    }\n\n    public onClickValidate() {\n        if (!this.canValidate || !this.isValidator) {\n            return;\n        }\n        this.formControls.dataToUpdate.value.forEach(element => {\n            if (element.id_usr_crt === null) {\n                element.id_usr_crt = this._authService.currentUserValue.id;\n            }\n            element.id_usr_vld = this._authService.currentUserValue.id;\n            element.cd_stat_entry = 'validated';\n            element.ts_vld = new Date();\n        });\n        this.dataEntryService.updateDataEntry(this.formControls.dataToUpdate.value).pipe(\n            first(),\n            switchMap(d =>\n                this._createDataEntry(this.formControls.dataToCreate.value)),\n            switchMap(d =>\n                this.dataEntryService.controlDataEntry(this.formControls.dataToUpdate.value[0])),\n        )\n        .subscribe(\n            (resp) => this._afterValidate(resp),\n            () => this._onError()\n        );\n    }\n\n    public onClickSubmitSave(): Observable<boolean> {\n        if (!this.canSave) {\n            return;\n        }\n        this.presentationData.forEach(x => {\n            x.data.startingData.forEach(startingData => {\n                const data = this.formControls.dataToUpdate.value.find(dataToUpdate =>\n                    dataToUpdate.cd_cip13 === startingData.cd_cip13 &&\n                    dataToUpdate.id_indc === startingData.id_indc.id_indc &&\n                    // tslint:disable-next-line: triple-equals\n                    dataToUpdate.val_indc != startingData.val_indc\n                );\n                if (data) {\n                    data.id_usr_crt = this._authService.currentUserValue.id;\n                }\n            });\n            x.data.recurrentData.forEach(recurrentData => {\n                const data = this.formControls.dataToUpdate.value.find(dataToUpdate =>\n                    dataToUpdate.cd_cip13 === recurrentData.cd_cip13 &&\n                    dataToUpdate.id_indc === recurrentData.id_indc.id_indc &&\n                    // tslint:disable-next-line: triple-equals\n                    dataToUpdate.val_indc != recurrentData.val_indc\n                );\n                if (data) {\n                    data.id_usr_crt = this._authService.currentUserValue.id;\n                }\n            });\n        });\n        this.formControls.dataToUpdate.value.forEach(element => {\n            if (element.id_usr_crt === null) {\n                element.id_usr_crt = -1;\n            }\n        });\n        // Si btn fonctionel\n        const dataToUpdateWithNullValue: DataEntry[] = [];\n        this.nullValueToSave.forEach(e => {\n            const dataUpdate = {\n                id_break: e.id_break.id_break,\n                id_hld: e.id_hld,\n                cd_cip13: e.cd_cip13,\n                id_indc: e.id_indc.id_indc,\n                cd_stat_entry: e.cd_stat_entry,\n                id_usr_crt: this._authService.currentUserValue.id,\n                id_usr_vld: -1,\n                ts_crt: new Date(e.ts_crt),\n                ts_lst_upd: new Date(),\n                dt_grnlr: e.dt_grnlr\n            };\n            dataToUpdateWithNullValue.push(dataUpdate);\n        });\n        if (dataToUpdateWithNullValue.length > 0) {\n            this.formControls.dataToUpdate.value.forEach(element => dataToUpdateWithNullValue.push(element));\n            return this._saveDataEntries(dataToUpdateWithNullValue);\n        }\n        return this._saveDataEntries(this.formControls.dataToUpdate.value);\n    }\n\n    private _checkedIfInputFieldUsePresentationOrUpdateData() {\n        let nbCheked: number = 0;\n        this.presentationData.forEach(x => x.data.recurrentData.forEach(el => {\n            nbCheked ++;\n        }));\n        this.presentationData.forEach(x => x.data.startingData.forEach(el => {\n            nbCheked ++;\n        }));\n        if (this.nbChecked > nbCheked) {\n            this.afterChecked = true;\n        } else {\n            this.afterChecked = false;\n        }\n    }\n\n    private _initSelectSessionAfterReloadData(dataBreak: DataBreak) {\n        this.dataBreak = dataBreak;\n        this.selectSession(dataBreak);\n    }\n\n    private _saveDataEntries(dataToSave: Array<DataEntry>): Observable<boolean> {\n        let obs: Observable<boolean>;\n        obs = this._updateDataEntry(dataToSave).pipe(\n            first(),\n            tap(resp => this._applyData(dataToSave))\n        );\n        obs.subscribe(\n            resp => this._afterSave(resp),\n            this._onError.bind(this)\n        );\n        return obs;\n    }\n\n    private _resetData(data?: DataBreak) {\n        this.warningStockBiggest = false;\n        this.warningStockError = false;\n        this.nbChecked = 0;\n        this.nullValueToSave = [];\n        this.errorData = [];\n        this.label = undefined;\n        this.archivedData = undefined;\n        this.dataEntryService.dateStart = undefined;\n        this.dataEntryService.dateEnd = undefined;\n        this.presentationData = undefined;\n        if (data) {\n            this.dataEntryForm = this._formBuilder.group({\n                session: ['', Validators.required],\n                dataToUpdate: this._formBuilder.array([], [Validators.required]),\n                dataToCreate: this._formBuilder.array([], [Validators.required]),\n            });\n            this.formControls.session.setValue(data);\n            this.label = data.break.nm_break;\n        }\n    }\n\n    private _fetchProducts(dataBreak: DataBreak) {\n        const id: number[] = this._getUniqueCdCip13List(dataBreak);\n        this.dataEntryService.getPdcts(id)\n            .pipe(first())\n            .subscribe(resp => {\n                this.presentationData = [];\n                resp.forEach(element => {\n                    this.presentationData.push(element);\n                });\n                this._sortData();\n            });\n    }\n\n    private _getUniqueCdCip13List(dataBreak: DataBreak): Array<number> {\n        return [\n            ...new Set([\n                ...dataBreak.data.startingData.map(d => d.cd_cip13),\n                ...dataBreak.data.recurrentData.map(d => d.cd_cip13)\n            ])\n        ];\n    }\n\n    private _setDateStart(dataBreak: DataBreak): void {\n        this.dataEntryService.dateEnd = new Date(dataBreak.data.endDate);\n        this.dataEntryService.dateStart = new Date(dataBreak.data.startDate);\n    }\n\n    // Compte et trie les datas à afficher en fonction du produit\n    private _sortData() {\n        const startingData = this.formControls.session.value.data.startingData;\n        const recurrentData = this.formControls.session.value.data.recurrentData;\n        this.presentationData.forEach(elem => {\n            elem.data = new Data;\n            elem.data.startingData = startingData\n                .filter(x => (x.cd_cip13 === elem.cd_cip13))\n                .sort((a: DataEntry, b: DataEntry) => a.id_indc.nb_ord > b.id_indc.nb_ord ? 1 : -1);\n            elem.data.recurrentData = recurrentData\n                .filter(x => (x.cd_cip13 === elem.cd_cip13))\n                .sort((a: DataEntry, b: DataEntry) => a.id_indc.nb_ord > b.id_indc.nb_ord ? 1 : -1);\n        });\n        this.presentationData.sort(function(a: PdctHldSubst, b: PdctHldSubst) {\n            const cipA = a.cd_cip13;\n            const cipB = b.cd_cip13;\n            if (cipA < cipB) {\n                return -1;\n            } else if (cipA > cipB) {\n                return 1;\n            } else {\n                const nA = a.nm_medic.toLowerCase();\n                const nB = b.nm_medic.toLowerCase();\n                if (nA < nB) {\n                    return -1;\n                } else if (nA > nB) {\n                    return 1;\n                } else {\n                    const lA = a.ll_prest.toLowerCase();\n                    const lB = b.ll_prest.toLowerCase();\n                    if (lA < lB) {\n                        return -1;\n                    } else if (lA > lB) {\n                        return 1;\n                    } else {\n                        return 0;\n                    }\n                }\n            }\n        });\n        // this.presentationData.sort(function(a: PdctHldSubst, b: PdctHldSubst) {\n        //     const nA = a.ll_prest.toLowerCase();\n        //     const nB = b.ll_prest.toLowerCase();\n        //     if (nA < nB) {\n        //         return -1;\n        //     } else if (nA > nB) {\n        //         return 1;\n        //     } else {\n        //         return 0;\n        //     }\n        // });\n    }\n\n    private _updateDataEntry(results: Array<DataEntry>): Observable<boolean> {\n        return this.dataEntryService.updateDataEntry(results)\n        .pipe(map(\n          (resp) => {\n              return resp;\n            },\n          (err) => {\n            return err;\n          }\n        ));\n    }\n\n    private _createDataEntry(results: Array<any>): Observable<boolean> {\n        const newDataEntries = [];\n        results.forEach(element => {\n            newDataEntries.push(element);\n        });\n        if (newDataEntries.length < 1) {\n          return of(true);\n        } else {\n            return this.dataEntryService.createDataEntry(newDataEntries)\n            .pipe(map(\n              (resp) => {\n                return true;\n              },\n              (err) => {\n                return err;\n            }));\n        }\n    }\n\n    private _handleErrorDataToActiveOrErrorClass(e) {\n        const data = this.errorData.find(x => x.cd_cip13 === e.data.cd_cip13 && x.indc === e.data.id_indc.id_indc);\n        if (data) {\n            data.error = e.error;\n        } else {\n            this.errorData.push({\n                cd_cip13: e.data.cd_cip13,\n                indc: e.data.id_indc.id_indc,\n                error: e.error\n            });\n        }\n    }\n\n    // Si btn null fonctionel\n    private _registerNullValueToUpdate(data) {\n        const dataToRegister = data.data;\n        const dataAlreadyRegister = this.nullValueToSave.find(x =>\n            x.cd_cip13 === dataToRegister.cd_cip13 && x.id_indc.id_indc === dataToRegister.id_indc.id_indc\n        );\n        if (dataAlreadyRegister && !data.null) {\n            let i = 0;\n            this.nullValueToSave.forEach((element) => {\n                if (element.cd_cip13 === dataToRegister.cd_cip13 && element.id_indc.id_indc === dataToRegister.id_indc.id_indc) {\n                    this.nullValueToSave.splice(i, 1);\n                    return;\n                }\n                i++;\n            });\n        } else if (!dataAlreadyRegister && data.null) {\n            this.nullValueToSave.push(dataToRegister);\n        }\n    }\n\n    private _afterSave(response: boolean): void {\n        if (!response) {\n            return;\n        }\n        this.emitIsValidateOrSave.emit(true);\n        this.saveSuccess = true;\n        setTimeout(() => this.saveSuccess = false, 4000);\n    }\n\n    private _afterValidate(resp: number): void {\n        if (resp === 0) {\n          this.validateSuccess = true;\n          setTimeout(() => this.validateSuccess = false, 4000);\n        } else {\n          this.controlError = resp;\n          setTimeout(() => this.controlError = undefined, 4000);\n        }\n        this._resetData();\n        this.dataBreak = undefined;\n        this.emitIsValidateOrSave.emit(true);\n    }\n\n    private _onError(): void {\n        this.error = true;\n        setTimeout(() => this.error = false, 4000);\n    }\n\n    private _applyData(dataSaved: Array<DataEntry>): void {\n        dataSaved.forEach(d => {\n            const rowOrig: PdctHldSubst = this.presentationData.find(row => row.cd_cip13 === d.cd_cip13);\n            let indc: DataEntry = rowOrig.data.recurrentData.find(entry => entry.id_indc.id_indc === (d.id_indc as unknown));\n            if (typeof indc === 'undefined') {\n                indc = rowOrig.data.startingData.find(entry => entry.id_indc.id_indc === (d.id_indc as unknown));\n            }\n            if (typeof indc !== 'undefined') {\n                indc.val_indc = d.val_indc;\n            }\n        });\n    }\n\n    private _initd(dataBreak: DataBreak): DataBreak {\n        const archives: DataBreak =  this.archive.find(d => d.break.id_break === dataBreak.break.id_break);\n        if (archives) {\n            archives.archivedDataByDate.sort((a: Data, b: Data) => a.date < b.date ? 1 : -1);\n        }\n        return archives;\n    }\n\n    private _findModifs(valOrigin: DataEntry): boolean {\n\n        const getModifData = (data) => {\n            return data.value.find(row =>\n                row.id_indc === valOrigin.id_indc.id_indc\n                && row.cd_cip13 === valOrigin.cd_cip13\n            );\n        };\n\n        let modif = getModifData(this.formControls.dataToUpdate);\n        if (!modif) {\n            modif = getModifData(this.formControls.dataToCreate);\n        }\n        if (modif &&\n        (valOrigin.id_indc.cd_indc_typ === IndcTypes.TEXT\n        || valOrigin.val_indc === null\n        || modif.val_indc == null)) {\n            return valOrigin.val_indc !== modif.val_indc;\n        } else if (modif && valOrigin.id_indc.cd_indc_typ === IndcTypes.NUMBER) {\n            return parseInt(valOrigin.val_indc.toString(), 10) !== modif.val_indc;\n        }\n        return !modif && valOrigin.val_indc !== null;\n    }\n}\n","<form\nclass=\"form data-entry-form-input-container\"\n*ngIf=\"form\"\n[formGroup]=\"form\">\n    <input\n    type=\"text\"\n    formControlName=\"displayValue\"\n    [class.input-disable]=\"disabled\"\n    [class.input-valid]=\"value && form.valid\"\n    [class.input-invalid]=\"!isValid\"\n    [class.warning-control]=\"warningStockBiggest || warningStockError\"\n    [placeholder]=\"placeholder | translate\"\n    (keyup)=\"emitChangedValue()\">\n    <div\n    class=\"error-block\"\n    *ngIf=\"!isValid\"\n    [translate]=\"'_Form_field_error_value_number_'\"></div>\n    <div\n    class=\"error-block\"\n    *ngIf=\"warningStockBiggest\"\n    [translate]=\"'_Form_field_warning_control_sended_'\"></div>\n    <div\n    class=\"error-block\"\n    *ngIf=\"warningStockError\"\n    [translate]=\"'_Form_field_warning_control_stock_'\"></div>\n</form>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, ValidatorFn, Validators } from '@angular/forms';\nimport { DataEntry, IndcTypes } from 'src/app/models';\nimport { ConfigService } from 'src/app/services';\n\ntype InputValueType = string | number;\ninterface FormOptions {\n    displayValue: (InputValueType | ValidatorFn)[];\n    dataForm: (InputValueType | ValidatorFn)[];\n    data: DataEntry;\n    type: string;\n    error: boolean;\n    null: boolean;\n}\n\n@Component({\n    selector: 'app-data-entry-form-input',\n    templateUrl: './dataEntryFormInput.component.html',\n    styleUrls: ['./dataEntryFormInput.component.scss']\n})\nexport class DataEntryFormInputComponent implements OnInit {\n\n    @Input() disabled: boolean;\n    @Input() dataEntry: DataEntry;\n    @Input() warningStockBiggest: boolean;\n    @Input() warningStockError: boolean;\n\n    @Output() valueChanged: EventEmitter<string|number> = new EventEmitter();\n\n    public form: FormGroup;\n\n    constructor(\n        private readonly _formBuilder: FormBuilder,\n        private readonly _config: ConfigService) {}\n\n    ngOnInit(): void {\n        this._init();\n    }\n\n    get isValid(): boolean { return !this.form.controls.dataForm.invalid; }\n    get value(): InputValueType { return this.form.controls.displayValue.value; }\n    get dataEntryType(): string { return this.dataEntry.id_indc.cd_indc_typ; }\n    get lowerType(): string { return this.dataEntryType.toLocaleLowerCase(); }\n    get placeholder(): string { return `_Form_field_${this.lowerType}_placeholder_`; }\n\n    public emitChangedValue() {\n        const emitFuncs: {[type: string]: () => void} = {\n            [IndcTypes.NUMBER]: this._emitNumber.bind(this),\n            [IndcTypes.TEXT]: this._emitText.bind(this)\n        };\n        emitFuncs[this.dataEntryType]();\n    }\n\n    private _init() {\n        const formGroupOptions: FormOptions = {\n            displayValue: [this._separateThousands(this.dataEntry.val_indc)],\n            dataForm: [this.dataEntry.val_indc],\n            data: this.dataEntry,\n            type: 'text',\n            error: false,\n            null: false\n        };\n        if (this.dataEntryType === IndcTypes.NUMBER) {\n            formGroupOptions.dataForm.push(Validators.pattern(this._config.validateNumberPattern));\n        }\n        this.form = this._formBuilder.group(formGroupOptions);\n        this.valueChanged.emit(this.form.value);\n    }\n\n    private _emitText() {\n        this.form.value.null = false;\n        this.form.controls.dataForm.setValue(this.value);\n        if (!this.value) {\n            this.form.value.null = true;\n        }\n        this.valueChanged.emit(this.form.value);\n    }\n\n    private _separateThousands(value: number|string): number|string {\n        if (['string', 'number'].includes(typeof value)) {\n            value = value.toString();\n            const thousandSeparatorPattern: RegExp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n            const split: string[] = value.split('.');\n            value = split[0].replace(thousandSeparatorPattern, '$1 ');\n            if (split.length === 2) {\n                value += `.${split[1]}`;\n            }\n        }\n        return value;\n    }\n\n    private _emitNumber() {\n        this.form.value.null = false;\n        this.form.value.error = false;\n        let formattedValue: string = '';\n        if (this.form.value.displayValue) {\n            formattedValue = this.form.value.displayValue\n                .toString()\n                .replace(/[,\\.\\s]/g, '');\n        }\n        this.form.controls.dataForm.setValue(formattedValue);\n        this.form.controls.displayValue.setValue(this._separateThousands(formattedValue));\n        if (this.isValid && !this.value) {\n            this.form.value.dataForm = '';\n            this.form.value.null = true;\n        } else if (!this.isValid) {\n            this.form.value.dataForm = '';\n            this.form.value.displayValue = '';\n            this.form.value.error = true;\n        }\n        this.valueChanged.emit(this.form.value);\n    }\n}\n","<div\n[id]=\"containerId\"\nclass=\"data-entry-grid-container\"\n*ngIf=\"hasData\">\n    <app-icon-text\n    class=\"grid-title\"\n    [active]=\"true\"\n    [fontSize]=\"'21px'\"\n    [fontLineHeight]=\"'28px'\"\n    [srcActive]=\"gridIcons[dataType]\"\n    [altText]=\"gridTitle | translate\"\n    [label]=\"gridTitle | translate\"></app-icon-text>\n    <angular-slickgrid\n    gridId=\"data-entry-grid-{{dataType}}\"\n    [columnDefinitions]=\"columnDefinitions\"\n    [gridOptions]=\"gridOptions\"\n    [dataset]=\"gridData.getData(dataType)\"\n    [gridHeight]=\"gridHeight\"\n    (onAngularGridCreated)=\"gridReady($event)\"\n    (sgOnClick)=\"cellClicked()\"></angular-slickgrid>\n    <div\n    class=\"grid-error\"\n    *ngIf=\"error === gridErrors.INVALID_NUMBER_VALUE\"\n    [translate]=\"'_Form_field_error_value_number_'\"></div>\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AngularGridInstance, Column, Editors, EditorValidatorOutput, FieldType, GridOption, HeaderButtonItem, OnEventArgs } from 'angular-slickgrid';\nimport { DataBreak, DataEntry, GridCallbackArgs, GridDataRow, GridDataType, GridIconsRef, IndcTypes, PdctHldSubst } from 'src/app/models';\nimport { ConfigService, GridDataService } from 'src/app/services';\nimport { v4 as uuid } from 'uuid';\n\nenum GridError {\n    INVALID_NUMBER_VALUE\n}\n\n@Component({\n    selector: 'app-data-entry-grid',\n    templateUrl: './dataEntryGrid.component.html',\n    styleUrls: ['./dataEntryGrid.component.scss']\n})\nexport class DataEntryGridComponent implements OnInit {\n    @Input() data: Array<PdctHldSubst>;\n    @Input() archivedData: DataBreak;\n    @Input() dataType: GridDataType;\n    @Input() gridTitle: string;\n    @Input() readOnly: boolean;\n\n    public containerId: string = uuid();\n    public columnDefinitions: Column[];\n    public gridOptions: GridOption;\n    public grid: AngularGridInstance;\n    public gridIcons: GridIconsRef = new GridIconsRef();\n    public error: GridError;\n    public gridErrors: typeof GridError = GridError;\n\n    private _rowHeight: number = 100;\n    private _collapsable: Array<string> = ['nm_medic', 'll_prest'];\n    private _nbFrozenCol: number = 2;\n\n    constructor(\n        public gridData: GridDataService,\n        private _transalte: TranslateService,\n        private _config: ConfigService) {}\n\n    get hasData(): boolean { return this.data.find(x => x.data[this.dataType].length > 0) ? true : false; }\n\n    get gridHeight(): number {\n        const bodyHeight = this._rowHeight * this.gridData.getData(this.dataType).length;\n        const headerPadding = 5;\n        const scrollbarSize = 20;\n        const headerHeight = this._rowHeight + (2 * headerPadding);\n        return bodyHeight + headerHeight + scrollbarSize;\n    }\n\n    ngOnInit(): void {\n        this._initGridData();\n        this._initColumnDefinitions();\n        this._initGridOptions();\n    }\n\n    private _controlSendedMoreThanStock(dataContext: any): boolean {\n        // si indc 22 de data > (indc 7 de prevData + indc 8 de data)\n        // alors warning \"Unités expédiée par le laboratoire trop importantes\"\n        // Unités expédiées supérieur à : Stock indiqué lors de la dernière saisie + Approvisionnement sur la periode de saisie\n        const DataToDtGrnlr = dataContext['_rowOrigin'].data[GridDataType.RECURRENT][0];\n        const prevData = this.archivedData && DataToDtGrnlr ?\n            this.archivedData.archivedDataByDate.find(x => x.nextDtGrnlr === DataToDtGrnlr.dt_grnlr) : null;\n        let prevDataForIndcToVerifiesExiste: DataEntry;\n        if (prevData) {\n            prevDataForIndcToVerifiesExiste = prevData.recurrentData.find((x: DataEntry) =>\n            x.cd_cip13 === dataContext.cd_cip13 && x.id_indc.cd_indc === 'IE-1');\n        }\n        const valuesExistAndDataNotValidated: boolean = (\n            this.data[0].data.recurrentData[0].cd_stat_entry === 'toValidated'\n            && !this.readOnly\n            && prevDataForIndcToVerifiesExiste\n            && dataContext['IE-1'] !== undefined\n            && dataContext['IE-2'] !== undefined\n        );\n        if (valuesExistAndDataNotValidated) {\n            const valueSended: number = dataContext['IE-16'] !== null ? Number(dataContext['IE-16']) : null;\n            const valueSupply: number = dataContext['IE-2'] !== null ? Number(dataContext['IE-2']) : null;\n            const valuePrevStock = Number(prevData.recurrentData.find((x: DataEntry) =>\n                x.cd_cip13 === dataContext.cd_cip13 && x.id_indc.cd_indc === 'IE-1'\n            ).val_indc);\n            return (valueSended && valueSupply) !== null ? valueSended > (valuePrevStock + valueSupply) : false;\n        } else {\n            return false;\n        }\n    }\n\n    private _controlErreurStock(dataContext: any) {\n        // si\n        // indc 7 de prevData - indc 22 de data + indc 8 de data < indc 7 de data - 5% de indc 7 de data\n        // ||\n        // indc 7 de prevData - indc 22 de data + indc 8 de data > indc 7 de data + 5% de indc 7 de data\n        // alors warning \"Stock à date incohérent\"\n        // Le stock ne correspond pas à : Stock indiqué à la dernière saisie + Appro sur la periode de saisie - Unités expédiées\n        const DataToDtGrnlr = dataContext['_rowOrigin'].data[GridDataType.RECURRENT][0];\n        const prevData = this.archivedData && DataToDtGrnlr ?\n            this.archivedData.archivedDataByDate.find(x => x.nextDtGrnlr === DataToDtGrnlr.dt_grnlr) : null;\n        let prevDataForIndcToVerifiesExiste: DataEntry;\n        if (prevData) {\n            prevDataForIndcToVerifiesExiste = prevData.recurrentData.find((x: DataEntry) =>\n            x.cd_cip13 === dataContext.cd_cip13 && x.id_indc.cd_indc === 'IE-1');\n        }\n        const valuesExistAndDataNotValidated: boolean = (\n            this.data[0].data.recurrentData[0].cd_stat_entry === 'toValidated'\n            && !this.readOnly\n            && prevDataForIndcToVerifiesExiste\n            && dataContext['IE-2'] !== undefined\n            && dataContext['IE-16'] !== undefined\n        );\n        if (valuesExistAndDataNotValidated) {\n            const valueSended: number = dataContext['IE-16'] !== null ? Number(dataContext['IE-16']) : null;\n            const valueSupply: number = dataContext['IE-2'] !== null ? Number(dataContext['IE-2']) : null;\n            const prevNumber = prevData.recurrentData.find((x: DataEntry) =>\n                x.cd_cip13 === dataContext.cd_cip13 && x.id_indc.cd_indc === 'IE-1'\n            );\n            const valuePrevStock = prevNumber && prevNumber.val_indc ? Number(prevNumber.val_indc) : 0;\n            const stockTotal = valuePrevStock - valueSended + valueSupply;\n            const stockMin = stockTotal - Math.abs(stockTotal * 0.05);\n            const stockMax = stockTotal + Math.abs(stockTotal * 0.05) < 0 ? 0 : stockTotal + Math.abs(stockTotal * 0.05);\n            const valueStock: number = dataContext['IE-1'] !== null ? Number(dataContext['IE-1']) : null;\n            return (valueSended && valueSupply && valueStock) !== null ?\n                (valueStock < stockMin || valueStock > stockMax) : false;\n        } else {\n            return false;\n        }\n    }\n\n    public gridReady(angularGrid: AngularGridInstance): void {\n        this.grid = angularGrid;\n        window.onresize = () => this.grid.resizerService.resizeGrid();\n    }\n\n    public cellClicked(): void {\n        this.grid.slickGrid.getEditorLock().commitCurrentEdit();\n    }\n\n    private _initColumnDefinitions(): void {\n        this.columnDefinitions = [\n            this._buildColDef('CIP 13', 'cd_cip13', 130, true),\n            this._buildColDef('_DataEntry_specialy_', 'nm_medic', 350, true),\n            this._buildColDef('_DataEntry_presentation_', 'll_prest', 260, true)\n        ];\n        this._fixWidth(this.columnDefinitions[0]);\n        this._collapsable.forEach(this._makeCollapsable.bind(this));\n        this._protectFrozenColCells();\n        this.data\n        .sort((a: PdctHldSubst, b: PdctHldSubst) => a.data[this.dataType].length > b.data[this.dataType].length ? -1 : 1)\n        .forEach(row =>\n            row.data[this.dataType]\n                .sort((a: DataEntry, b: DataEntry) => a.id_indc.nb_ord > b.id_indc.nb_ord ? 1 : -1)\n                .forEach(this._addColDef.bind(this))\n        );\n    }\n\n    private _fixWidth(col: Column): void {\n        col.width = col.minWidth;\n        col.maxWidth = col.minWidth;\n        col.resizable = false;\n    }\n\n    private _protectFrozenColCells(): void {\n        for (let i = 0; i <= this._nbFrozenCol; i++) {\n            this._makeNonEditable(this.columnDefinitions[i]);\n        }\n    }\n\n    private _initGridData(): void {\n        this.gridData.setData(this.data, this.dataType);\n    }\n\n    private _initGridOptions(): void {\n        this.gridOptions = {\n            rowHeight: this._rowHeight,\n            frozenColumn: this._nbFrozenCol,\n            alwaysShowVerticalScroll: false,\n            enableAutoResize: true,\n            autoResize: {\n                containerId: this.containerId,\n            },\n            enableSorting: true,\n            enableGridMenu: false,\n            enableColumnReorder: false,\n            enableColumnPicker: false,\n            enableHeaderMenu: false,\n            enableHeaderButton: true,\n            enableCellNavigation: true\n        };\n        if (!this.readOnly) {\n            this._editableGridOptions();\n        }\n    }\n\n    private _editableGridOptions(): void {\n        this.gridOptions.enableExcelCopyBuffer = true;\n        this.gridOptions.excelCopyBufferOptions = {\n            newRowCreator: count => {}\n        };\n        this.gridOptions.editable = true;\n        this.gridOptions.autoCommitEdit = true;\n    }\n\n    private _addColDef(entry: DataEntry): void {\n        if (!this.columnDefinitions.find(col => col.id === entry.id_indc.cd_indc)) {\n            const newCol: Column = this._buildColDef(entry.id_indc.sl_indc, entry.id_indc.cd_indc, 200);\n            newCol.formatter = this._formatter.bind(this);\n            if (entry.id_indc['lb_date'] && entry.id_indc['lb_date'].length > 0) {\n                newCol.name = `<p class=\"col-name\">${this._transalte.instant(entry.id_indc.sl_indc)}</p><p class=\"indc-date\">${entry.id_indc['lb_date']}</p>`;\n            }\n            this._setColumnType(newCol, entry);\n            this._makeEditable(newCol);\n            this._addHelp(newCol, entry);\n            this.columnDefinitions.push(newCol);\n        }\n    }\n\n    private _buildColDef(name: string, field: string, minWidth: number, sort?: boolean): Column {\n        const colDef: Column = {\n            id: field,\n            name: this._transalte.instant(name),\n            field: field,\n            sortable: sort ? sort : false,\n            minWidth: minWidth,\n        };\n        return colDef;\n    }\n\n    private _setColumnType(newCol: Column, entry: DataEntry): void {\n        const slickTypes = {\n            [IndcTypes.TEXT]: FieldType.string,\n            [IndcTypes.NUMBER]: FieldType.number\n        };\n        newCol.type = slickTypes[entry.id_indc.cd_indc_typ];\n    }\n\n    private _addHelp(newCol: Column, entry: DataEntry): void {\n        this._addButtonToColumnHeader(newCol, {\n            cssClass: 'i-help',\n            command: 'help',\n            tooltip: entry.id_indc.ll_indc\n        });\n    }\n\n    private _makeCollapsable(columnId: string): void {\n        this._addButtonToColumnHeader(columnId, {\n            cssClass: 'i-hide',\n            command: 'collapse',\n            itemVisibilityOverride: (args) => (args.column.cssClass !== 'collapsed'),\n            action: this._expandCollapseColumn.bind(this)\n        });\n        this._addButtonToColumnHeader(columnId, {\n            cssClass: 'i-show',\n            command: 'expand',\n            itemVisibilityOverride: (args) => (args.column.cssClass === 'collapsed'),\n            action: this._expandCollapseColumn.bind(this)\n        });\n    }\n\n    private _makeNonEditable(column: Column): void {\n        column.onCellChange = this._rollbackCellChange.bind(this);\n        column.cannotTriggerInsert = true;\n    }\n\n    private _makeEditable(column: Column): void {\n        column.editor = { model: Editors.text };\n        if (column.type === FieldType.number) {\n            column.onCellChange = (e: Event, args: OnEventArgs) => this._trimValue(args);\n            column.editor.validator = this._validateCellValue.bind(this);\n        }\n    }\n\n    private _validateCellValue(value: string): EditorValidatorOutput {\n        value = value.replace(/[,\\.\\s]/g, '');\n        const isValid: boolean = (this._config.validateNumberPattern.test(value) || value.length === 0);\n        if (!isValid) {\n            this._setError(GridError.INVALID_NUMBER_VALUE);\n        }\n        return {valid: isValid};\n    }\n\n    private _addButtonToColumnHeader(column: string|Column, button: HeaderButtonItem): void {\n        if (typeof column === 'string') {\n            column = this.columnDefinitions.find(c => c.id === column);\n        }\n        if (typeof column.header === 'undefined') {\n            column.header = {};\n        }\n        if (typeof column.header.buttons === 'undefined') {\n            column.header.buttons = [];\n        }\n        column.header.buttons.push(button);\n    }\n\n    private _expandCollapseColumn(e: Event, args: GridCallbackArgs): void {\n        const column: Column = this.columnDefinitions.find(c => c.id === args.column.id);\n        const callbacks: {[cmd: string]: (Column) => void} = {\n            collapse: this._collapseColumn.bind(this),\n            expand: this._expandColumn.bind(this)\n        };\n        callbacks[args.command](column);\n        this._refreshColumnDefinitions();\n        this.grid.resizerService.resizeGrid();\n    }\n\n    private _collapseColumn(column: Column): void {\n        column.maxWidth = 30;\n        column.cssClass = 'collapsed';\n        column.headerCssClass = 'collapsed';\n    }\n\n    private _expandColumn(column: Column): void {\n        delete column.maxWidth;\n        delete column.cssClass;\n        delete column.headerCssClass;\n    }\n\n    private _rollbackCellChange(e: Event, args: OnEventArgs): void {\n        const dataRowOrig = this.data.find(d => d.cd_cip13 === args.dataContext.id);\n        if (typeof dataRowOrig !== 'undefined') {\n            this.gridData.getData(this.dataType)[args.row][args.columnDef.field] = dataRowOrig[args.columnDef.field];\n            this.grid.gridService.renderGrid();\n        }\n    }\n\n    private _refreshColumnDefinitions(): void {\n        this.columnDefinitions = [...this.columnDefinitions];\n    }\n\n    private _trimValue(args: OnEventArgs): void {\n        const gridData: GridDataRow[] = this.gridData.getData(this.dataType);\n        const newValue: string = args.dataContext[args.columnDef.field].replace(/[,\\.\\s]/g, '');\n        gridData[args.row][args.columnDef.field] = newValue.length > 0 ? parseInt(newValue, 10) : newValue;\n        this.grid.gridService.renderGrid();\n    }\n\n    private _setError(err: GridError): void {\n        this.error = err;\n        setTimeout(() => this.error = undefined, 4000);\n    }\n\n    private _formatter(row: number, cell: number, value: number|string, columnDef, dataContext): number|string {\n        const notExpected = this._controlIndcExpected(columnDef.field, dataContext['_rowOrigin']);\n        if (notExpected) {\n            return notExpected;\n        }\n        const valueToReturn = this._separateThousands(value);\n        if ( columnDef.field === 'IE-16' ) {\n            return this._controlSendedMoreThanStock(dataContext) ? `<span class='warning-control'> ${valueToReturn} </span> <small class='warning-control'>Unités expédiées supérieur au stock indiqué lors de la dernière saisie.</small>` : valueToReturn;\n        } else if (columnDef.field === 'IE-1') {\n            return this._controlErreurStock(dataContext) ? `<span class='warning-control'> ${valueToReturn} </span> <small class='warning-control'>Le stock ne correspond pas avec les unités expédiées et l'approvisionnement.</small>` : valueToReturn;\n        } else {\n            return valueToReturn;\n        }\n    }\n\n    private _controlIndcExpected(indc: string, entry: PdctHldSubst): string {\n        const existe = entry.data[this.dataType].find((x: DataEntry) => x.id_indc.cd_indc === indc);\n        let value: string;\n        if (!existe) {\n            value = `<span class='archive-value'>Déjà Validé</span>`;\n            const archives = this.archivedData['archivedDataByDate'].find( x => x.date === entry.data[this.dataType][0].dt_grnlr);\n            const archive = archives ?\n                archives[this.dataType].find((x: DataEntry) => x.cd_cip13 === entry.cd_cip13 && x.id_indc.cd_indc === indc) : null;\n            value = archive && archive.val_indc !== null ?\n                `<span class='archive-value'> ${archive.val_indc}</span> <small class='archive-value'>Déjà Validé</small>` : value;\n        }\n        return value;\n    }\n    private _returnArchivedValue(indc: string, entry: PdctHldSubst) {\n        const existe = entry.data[this.dataType].find((x: DataEntry) => x.id_indc.cd_indc === indc);\n        return existe;\n    }\n\n    private _separateThousands(value: number|string): number|string {\n        if (['number', 'string'].includes(typeof value)) {\n            value = value.toString();\n            const thousandSeparatorPattern: RegExp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\n            const split: string[] = value.split('.');\n            value = split[0].replace(thousandSeparatorPattern, '$1 ');\n            if (split.length === 2) {\n                value += `.${split[1]}`;\n            }\n        }\n        return value;\n    }\n}\n","<div class=\"row height-max-content\">\n    <div class=\"left-menu col-lg-4\">\n        <div class=\"top-menu\">\n            <h2>{{'_DataEntryTracking_label_' | translate}}</h2>\n            <div class=\"ml-1\">\n                <h3 *ngIf=\"nbSession\">RUPT_{{nbSession}}</h3>\n                <div class=\"container-details-top-menu\">\n                    <h4 *ngIf=\"label\" class=\"title\">{{label}}</h4>\n                </div>\n            </div>\n        </div>\n        <div class=\"down-menu\"> \n            <app-dropdown \n            [title]=\"'_Dashboard_dropdown_session_title_' | translate\" \n            [active]=\"true\" \n            [search]=\"true\" \n            [typeOfData]=\"'data-entry-admin'\" \n            [dropdownToggleLabel]=\"label\" \n            [data]=\"listBreakFilter\" \n            [typeOfList]=\"'default'\"\n            (keyUpEvent)=\"handleOnSearch($event)\"\n            (presentData)=\"handleData($event)\"></app-dropdown>\n        </div>\n    </div>  \n    <app-navbar class=\"navbar\"></app-navbar>\n    <div class=\"col-lg-8 right-content\">\n\n      <div class=\"empty-state\" *ngIf=\"!selectedSession\">\n        <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n          <mat-progress-spinner  mode=\"indeterminate\">\n          </mat-progress-spinner>\n        </div>\n        <div *ngIf=\"loader.showSpinner === false\">\n          <img width=\"350\" height=\"100\" class=\"empty-state-img\" src=\"./../../../assets/images/ansm_icons/Empty_state_illu.png\" [alt]=\"'_Dashboard_empty_state_title_' | translate\">\n          <h2 class=\"empty-state-title\">{{'_Dashboard_empty_state_title_' | translate}}</h2>\n          <h3 class=\"empty-state-subtitle\">{{'_Update_empty_state_subtitle_' | translate}}</h3>\n        </div>\n      </div>\n\n      <div \n      id=\"accordion-save\" \n      class=\"collapse-container\" \n      *ngIf=\"selectedSession\">\n        <button class=\"btn\" [ngClass]=\"{'show': 'aria-expanded'}\" type=\"button\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse-save'\" aria-expanded=\"true\" [attr.aria-controls]=\"'collapse'\" (click)=\"addOrRemoveShowClass($event)\">\n            {{'_DataEntryTracking_collapse_save_' | translate}}\n        </button>\n        <div class=\"collapse show\" [attr.id]=\"'collapse-save'\" data-parent=\"#accordion-save\">\n          <p \n          *ngIf=\"sendedMailMessage\"\n          class=\"message\"\n          [class.success-msg]=\"sendedMailMessage.succes\"\n          [class.error-msg]=\"!sendedMailMessage.succes\">{{sendedMailMessage.message | translate}}</p>\n          <div class=\"table-container\">\n            <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n                <mat-progress-spinner  mode=\"indeterminate\">\n                </mat-progress-spinner>\n            </div>\n            <div *ngIf=\"loader.showSpinner === false && (!allDataTracking || allDataTracking.length === 0)\">\n              <p class=\"m-0\">{{'_Data_empty_for_selected_session_'| translate}}</p>\n            </div>\n            <table *ngIf=\"loader.showSpinner === false  && allDataTracking && allDataTracking.length > 0\">\n                <caption style=\"visibility:hidden; \">{{'_DataEntryTracking_collapse_save_' | translate}}</caption>\n                <th \n                scope=\"col\"\n                class='col-order'\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'idlabo'}\" (click)=\"orderUtils.setOrderName('idlabo')\"\n                >\n                  <div>  \n                    {{'_Laboratoire_title_slick_identification_' | translate}}\n                    <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                  </div>\n                </th>\n                <th \n                scope=\"col\"\n                class='col-order'\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'namelabo'}\" (click)=\"orderUtils.setOrderName('namelabo')\"\n                >\n                  <div>  \n                    {{'_Dashboard_array_presentation_labo_fab_' | translate}}\n                    <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                  </div>\n                </th>\n                <th \n                scope=\"col\"\n                class='col-order'\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'selectedCurrentDate'}\" (click)=\"orderUtils.setOrderName('selectedCurrentDate')\"\n                >\n                  <div>  \n                    {{'_DataEntryTracking_array_date_prd_cour_' | translate}}\n                    <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                  </div>\n                </th>\n                <th \n                scope=\"col\"\n                class='col-order'\n                [ngClass]=\"{'order-actif': orderUtils.getOrder === 'selectedLastDate'}\" (click)=\"orderUtils.setOrderName('selectedLastDate')\"\n                >\n                  <div>  \n                    {{'_DataEntryTracking_array_date_lst_upd_' | translate}}\n                    <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                  </div>\n                </th>\n                <th \n                scope=\"col\"\n                >\n                  <div>  \n                    {{'_DataEntryTracking_array_nb_indc_' | translate}}\n                      <br>\n                  </div>\n                      <small>(obligatoires)</small>\n                </th>\n                <th scope=\"col\">{{'_DataEntryTracking_array_nb_indc_validate_' | translate}}\n                    <br>\n                    <small>(obligatoires)</small>\n                </th>\n                <th scope=\"col\">{{'_DataEntryTracking_array_nb_indc_archive_' | translate}}</th>\n                <th scope=\"col\">{{'_DataEntryTracking_array_nb_indc_error_' | translate}}</th>\n                <th scope=\"col\">{{'_DataEntryTracking_array_nb_indc_failed_' | translate}}</th>\n                <th scope=\"col\">{{'_DataEntryTracking_array_send_mail_' | translate}}</th>\n                <tr \n                *ngFor=\"let data of allDataTracking | orderBy: orderUtils.getOrder:orderUtils.reverse:'case-insensitive'\"\n                [className]=\"data.info[data.navindex].savedindc === data.info[data.navindex].totalindc? 'valid' : 'not-valid'\">\n                    <td>{{data.idlabo}}</td>\n                    <td>{{data.namelabo}}</td>\n                    <td>\n                      <div class=\"dropdown\">\n                        <button class=\"dropdown-toggle\" type=\"button\" [id]=\"data.idlabo\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                          {{data.info[data.navindex].periodecourante | date:'shortDate' }}\n                        </button>\n                        <div class=\"dropdown-menu\" [attr.aria-labelledby]=\"data.idlabo\">\n                          <div \n                          *ngFor=\"let info of data.info; let ii = index\" \n                          class=\"dropdown-item\"\n                          [class.checked]=\"ii === data.navindex\"\n                          (click)=\"changeDate(data, ii)\">{{info.periodecourante | date:'shortDate' }}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td>{{data.info[data.navindex].lastupdate | date:'short' }}</td>\n                    <td class=\"cell-valid\">{{data.info[data.navindex].savedindc}}/{{data.info[data.navindex].totalindc}}</td>\n                    <td class=\"cell-valid\">{{data.info[data.navindex].validatedindc}}/{{data.info[data.navindex].totalindc}}</td>\n                    <td>{{data.info[data.navindex].archivedindc}}</td>\n                    <td>{{data.info[data.navindex].rejectedindc}}</td>\n                    <td>{{data.info[data.navindex].failedindc}}</td>\n                    <td \n                    *ngIf=\"checkMailToSended(data); else elseBlockTd\"\n                    class=\"mail-to-send\" \n                    [title]=\"'_LoginForm_init_send_' | translate\"\n                    (click)=\"openDialogBox(data)\"></td>\n                    <ng-template #elseBlockTd>\n                      <td \n                      class=\"mail-to-send-inactif\" \n                      [title]=\"'_DataEntryTracking_already_uptodate_' | translate\">\n                      </td>\n                    </ng-template>\n                </tr>\n            </table>\n          </div>\n        </div>\n\n      <div \n      class=\"container-dialog-box\"\n      *ngIf=\"dialogActiveMail && !isSubmitted\">\n        <div\n        class=\"dialog-box\">\n            <label \n            *ngIf=\"alreadySended\">\n              {{ '_DataEntryTracking_array_send_mail_dialog_box_already_sended_' | translate: {labo: dataSelected.namelabo} }}\n            </label>\n            <label \n            *ngIf=\"!alreadySended\">\n              {{ '_DataEntryTracking_array_send_mail_dialog_box_' | translate: {labo: dataSelected.namelabo} }}\n            </label>\n            <ng-container\n            *ngIf=\"!alreadySended\">\n              <label \n              *ngFor=\"let u of users\"\n              class=\"label-container\">\n              {{u.mail}}, role: {{u.role}}\n                <input \n                type=\"checkbox\"\n                checked\n                (change)=\"u.checked = !u.checked\">\n                <span \n                class=\"checkmark\"\n                ></span>\n              </label>\n            </ng-container>\n            <div>\n              <app-re-captcha\n              [active]=\"!alreadySended\"\n              [isSubmitted]=\"isSubmitted\"\n              [specialCss]=\"true\"\n              (response)=\"notRobot = $event\"\n              ></app-re-captcha>\n            </div>\n            <div class=\"buttons d-flex justify-content-center\">\n                <button\n                class=\"button\"\n                [class.input-valid]=\"notRobot && !alreadySended\"\n                [class.input-invalid]=\"!notRobot || alreadySended\"\n                (click)=\"sendMail()\"\n                [translate]=\"'_DataEntry_form_submit_'\"></button>\n                <button\n                class=\"button input-error\"\n                (click)=\"reset()\"\n                [translate]=\"'_DataEntry_form_cancel_'\"></button>\n            </div>\n        </div>\n      </div>\n      </div>\n\n      <div \n      id=\"accordion-part\" \n      class=\"collapse-container\" \n      *ngIf=\"selectedSession\">\n        <button class=\"btn\" [ngClass]=\"{'show': 'aria-expanded'}\" type=\"button\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse-part'\" aria-expanded=\"true\" [attr.aria-controls]=\"'collapse'\" (click)=\"addOrRemoveShowClass($event)\">\n            {{'_DataEntryTracking_collapse_part_' | translate}}\n        </button>\n        <div class=\"collapse show\" [attr.id]=\"'collapse-part'\" data-parent=\"#accordion-part\">\n          <div class=\"table-container\">\n            <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n                <mat-progress-spinner  mode=\"indeterminate\">\n                </mat-progress-spinner>\n            </div>\n            <div *ngIf=\"loader.showSpinner === false && (!partOfMarketData || partOfMarketData.length === 0)\">\n              <p class=\"m-0\">{{'_Data_empty_for_selected_session_'| translate}}</p>\n            </div>\n            <table *ngIf=\"loader.showSpinner === false && partOfMarketData && partOfMarketData.length > 0\">\n              <caption style=\"visibility:hidden; \">{{'_DataEntryTracking_collapse_part_' | translate}}</caption>\n                <th \n                scope=\"col\"\n                >{{'_Dashboard_array_presentation_labo_fab_' | translate}}</th>\n                <th \n                scope=\"col\"\n                >{{'_DataEntryTracking_array_lb_grp_' | translate}}</th>\n                <ng-container\n                *ngFor=\"let date of allDate\">\n                <th \n                scope=\"col\"\n                >{{date | date:'MMM y' }}</th>\n                </ng-container>\n                \n                <ng-container\n                *ngFor=\"let grp of lbGrp\">\n                  <tr \n                  *ngFor=\"let data of allDataTracking\">\n                      <td>{{data.namelabo}}</td>\n                      <td>{{grp}}</td>\n                      <ng-container\n                      *ngFor=\"let dataPart of partOfMarketData\">\n                          <td  \n                          *ngIf=\"dataPart.id_labo === data.idlabo && dataPart.lb_grp === grp\"\n                          [class.isMostImportant]=\"isMostImportantClass(dataPart, partOfMarketData)\">{{dataPart.part_of_market}}% <br> ({{dataPart.value_hld}}&nbsp;/&nbsp;{{dataPart.value_total}})</td>\n                      </ng-container>\n                  </tr>\n                </ng-container>\n                \n            </table>\n          </div>\n        </div>\n      </div>\n        \n    </div>\n  \n</div>","import { Component, OnInit } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { first, map, switchMap } from 'rxjs/operators';\nimport { Break, DataEntryTrackingModel, DataPartOfMarketModel, Mail, PdctForMail, User } from 'src/app/models';\nimport { BreakService, CacheService, ConfigService, DataEntryService, LoaderService, MailerService, RolesService } from 'src/app/services';\nimport { OrderUtils } from 'src/app/utils';\nexport interface SendedMailMessage {\n  message: string;\n  succes: boolean;\n}\nexport interface UserInfo {\n  mail: string;\n  role: string;\n  checked: boolean;\n}\n\n@Component({\n  selector: 'app-data-entry-tracking',\n  templateUrl: './dataEntryTracking.component.html',\n  styleUrls: ['./dataEntryTracking.component.scss']\n})\nexport class DataEntryTrackingComponent implements OnInit {\n  public listBreakFilter: Array<Break>;\n  public selectedSession: Break;\n  public label: string;\n  public nbSession: string;\n  public allDataTracking: Array<DataEntryTrackingModel>;\n  public partOfMarketData: Array<DataPartOfMarketModel>;\n  public allDate: Array<Date>;\n  public lbGrp: Array<string>;\n  public sendedMailMessage: SendedMailMessage;\n  public dialogActiveMail: boolean = false;\n  public isSubmitted: boolean = false;\n  public notRobot: boolean = false;\n  public alreadySended: boolean = false;\n  public dataSelected: DataEntryTrackingModel;\n  public users: Array<UserInfo>;\n  private _allSession: Array<Break>;\n\n\n  constructor(\n    public orderUtils: OrderUtils,\n    public loader: LoaderService,\n    private readonly _rolesService: RolesService,\n    private readonly _breakService: BreakService,\n    private readonly _dataEntryService: DataEntryService,\n    private readonly _mailer: MailerService,\n    private readonly _configService: ConfigService,\n    private readonly _cacheService: CacheService\n  ) { }\n\n  ngOnInit(): void {\n    this.orderUtils.setOrder = '';\n    this.orderUtils.reverse = false;\n    this._getAllSessions();\n  }\n  public handleData(e: Break) {\n    this.selectedSession = e;\n    if (e.fl_break_actvt === 0) {\n      this.label = `⊘ ${e.nm_break}`;\n    } else {\n      this.label = e.nm_break;\n    }\n    this.createData(e);\n  }\n  public handleOnSearch(e) {\n    this.listBreakFilter = [];\n    if (!e.target.value) {\n      this._allSession.forEach(x => {\n        this.listBreakFilter.push(x);\n      });\n      return;\n    } else {\n      const listBreakFilter = this._allSession.filter(x =>\n        x.nm_break.toUpperCase().includes(e.target.value.toUpperCase())\n        ||\n        x.id_break.toString().includes(e.target.value)\n      );\n      listBreakFilter.forEach(element => {\n        if (!this.listBreakFilter.find(x => x.id_break === element.id_break)) {\n          this.listBreakFilter.push(element);\n        }\n      });\n    }\n  }\n\n  public addOrRemoveShowClass(e) {\n    if (e.target.getAttribute('aria-expanded') === 'false') {\n      e.target.classList.add('show');\n    } else {\n      e.target.classList.remove('show');\n    }\n  }\n\n  public isMostImportantClass(dataPart: DataPartOfMarketModel, partOfMarketData: Array<DataPartOfMarketModel>): boolean {\n    const values = [];\n    const partOfMarketByGrpAndMth = partOfMarketData.filter((x: DataPartOfMarketModel) =>\n        x.id_mth === dataPart.id_mth\n        &&\n        x.lb_grp === dataPart.lb_grp\n    );\n    partOfMarketByGrpAndMth.forEach(element => {\n      values.push(element.value_hld);\n    });\n    if (dataPart.value_hld === Math.max(...values)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public changeDate(data: DataEntryTrackingModel, index: number) {\n    data.navindex = index;\n    data.selectedCurrentDate = data.info[data.navindex].periodecourante;\n    data.selectedLastDate = data.info[data.navindex].lastupdate;\n  }\n\n  public checkMailToSended(data: DataEntryTrackingModel) {\n    const value = data.info.find(x => x.periodecourante === data.selectedCurrentDate);\n    return value.totalindc > value.validatedindc;\n  }\n\n  public openDialogBox(data: DataEntryTrackingModel) {\n    this.alreadySended = this._cacheService.loadMailIsAlreadySended(`${data.idsession}${data.idlabo}`);\n    if(this.alreadySended) {\n      this.dialogActiveMail = true;\n      this.dataSelected = data;\n    } else {\n      this._breakService.getUsers([data.idlabo]).subscribe(\n        (resp: Array<User>) => {\n          if(resp.length > 0) {\n            this.dialogActiveMail = true;\n            this.dataSelected = data;\n            this.users = new Array({} as UserInfo);\n            this.users = resp.map((u: User) => {\n              const user = {} as UserInfo;\n              user.mail = u.email;\n              user.role = this._rolesService.allRoles.find(role => role.role === u.role).lbl;\n              user.checked = true;\n              return user;\n            })\n          } else {\n            this.sendedMailMessage = {} as SendedMailMessage;\n            this.sendedMailMessage.message = `_DataEntryTracking_array_send_mail_no_user_`;\n            this.sendedMailMessage.succes = false;\n            setTimeout(() =>\n              delete this.sendedMailMessage, 4000\n            );\n            this.reset();\n          }\n        }\n      )\n    }\n\n  }\n\n  public reset() {\n    this.dialogActiveMail = false;\n    this.isSubmitted = false;\n    this.notRobot = false;\n    this.alreadySended = false;\n    delete this.users;\n    delete this.dataSelected;\n  }\n\n  public sendMail() {\n    this.isSubmitted = true;\n    if (!this.notRobot || this.alreadySended) {\n      this.isSubmitted = false;\n      return;\n    }\n    const data: DataEntryTrackingModel = this.dataSelected;\n    const cache = {\n      key: `${data.idsession}${data.idlabo}`,\n      expireDate: Date.now()\n    };\n    let pdctForMail: Array<PdctForMail>;\n    this.sendedMailMessage = {} as SendedMailMessage;\n    this._mailer.getPdctForMail(data)\n      .pipe(\n        first(),\n        switchMap((pdct: Array<PdctForMail>) => { pdctForMail = pdct; return of(pdct); }),\n        switchMap(pdct => this._breakService.getUsers([data.idlabo])),\n        switchMap(users => this._createdMails(users, pdctForMail)),\n        switchMap((bodyMail) => {\n          if (bodyMail.length < 1) {\n            return of({body: 666});\n          } else {\n            return this._mailer.createMail(bodyMail);\n          }\n        }),\n      )\n      .subscribe(\n        (resp) => {\n          const code = resp.body;\n          if (code === 200) {\n            this.sendedMailMessage.message = `_DataEntryTracking_array_send_mail_succes_`;\n            this.sendedMailMessage.succes = true;\n            this._cacheService.save(cache, 12);\n            setTimeout(() =>\n              delete this.sendedMailMessage, 4000\n            );\n          } else {\n            this.sendedMailMessage.message = `_DataEntryTracking_array_send_mail_no_user_`;\n            this.sendedMailMessage.succes = false;\n            setTimeout(() =>\n              delete this.sendedMailMessage, 4000\n            );\n          }\n          this.reset();\n        },\n        (err) => {\n          this.sendedMailMessage.message = `_DataEntryTracking_array_send_mail_error_`;\n          this.sendedMailMessage.succes = false;\n          setTimeout(() =>\n            delete this.sendedMailMessage, 4000\n          );\n          this.reset();\n        }\n      );\n  }\n\n  private _createdMails(users, pdct: Array<PdctForMail>): Observable<Array<Mail>> {\n    const id = this._configService.idTemplateRecall;\n    const body: Array<Mail> = [];\n    const produits = [];\n    pdct.forEach((pdctForMail: PdctForMail) => {\n      if (!produits.find(x => x.name === pdctForMail.nomSubst)) {\n        produits.push({\n          'name': pdctForMail.nomSubst,\n          'presentation': []\n        });\n      }\n      if (pdctForMail.saveOrValidate === 'save') {\n        produits.find(x => x.name === pdctForMail.nomSubst).presentation.push({\n          'name': pdctForMail.nomMedic,\n          'cip13': pdctForMail.cip.toString()\n        });\n      }\n    });\n    users.forEach((user: User) => {\n        const role = this._rolesService.allRoles.find(r => r.role === user.role).lbl;\n        const userCheck = this.users.find(u => u.checked && u.mail === user.email && u.role === role);\n        if (userCheck) {\n          body.push(\n            {\n              'email_address': user.email,\n              'template_id': id,\n              'name': `${user.firstName} ${user.lastName}`,\n              'var_session': this.selectedSession.nm_break,\n              'var_nom': user.lastName,\n              'var_prenom': user.firstName,\n              'var_labo': user.laboName,\n              'var_produits': produits,\n            }\n          );\n        }\n      });\n    return of(body);\n  }\n\n  private _getAllSessions() {\n    return this._breakService.getBreaks()\n    .subscribe(\n        (resp) => {\n          if (typeof resp === 'boolean' && resp === true) {\n            this._allSession = this._breakService.getResults();\n            this.listBreakFilter = this._breakService.getResults();\n          } else {\n            return;\n          }\n        },\n        (err) => {\n          return;\n        }\n    );\n  }\n\n  private createData(session: Break) {\n    this._getNbVersion(session.id_break, session.nb_vers)\n    .pipe(\n      first(),\n      switchMap(respOfNbVersion => this._getDataEntryTracking(session.id_break)),\n      switchMap(respAllDataTracking => this._getPartOfMarket(session, respAllDataTracking))\n  )\n  .subscribe(\n      (resp) => {\n      },\n      (err) => {\n      }\n  );\n  }\n\n  private _getNbVersion(nb: number, nbvers: number): Observable<boolean> {\n    if (nb < 10) {\n      this.nbSession = `00${nb.toString()}_${nbvers}`;\n    } else if (nb > 9 && nb < 100) {\n      this.nbSession = `0${nb.toString()}_${nbvers}`;\n    } else {\n      this.nbSession = `${nb.toString()}_${nbvers}`;\n    }\n    return of(true);\n  }\n\n  private _getDataEntryTracking(idSession: number): Observable<Array<DataEntryTrackingModel>> {\n    return this._dataEntryService.getDataEntryTracking(idSession)\n    .pipe(map(\n        (resp: Array<DataEntryTrackingModel>) => {\n            this.allDataTracking = resp;\n            return resp;\n        },\n        (err) => {\n          return;\n        }\n    ));\n  }\n\n  private _getPartOfMarket(session: Break, allDataTracking: Array<DataEntryTrackingModel>): Observable<boolean> {\n    const id_hld: Array<number> = [];\n    allDataTracking.forEach((element: DataEntryTrackingModel) => {\n      id_hld.push(element.idlabo);\n    });\n    if (id_hld.length < 1) {\n      delete this.partOfMarketData;\n      delete this.allDate;\n      delete this.lbGrp;\n      return of (true);\n    }\n    return this._dataEntryService.getPartOfMarket(session, id_hld)\n    .pipe(map(\n        (resp) => {\n          const allDate: Array<Date> = [];\n          const lbGrp: Array<string> = [];\n          resp.forEach(element => {\n            if (!allDate.find(x => x === element.dt_mth)) {\n              allDate.push(element.dt_mth);\n            }\n            if (!lbGrp.find(x => x === element.lb_grp)) {\n              lbGrp.push(element.lb_grp);\n            }\n          });\n          this.partOfMarketData = resp;\n          this.allDate = allDate;\n          this.lbGrp = lbGrp;\n          return true;\n        },\n        (err) => {\n          return err;\n        }\n    ));\n  }\n}\n","<div class=\"row\">\n  <div class=\"left-menu col-lg-5\">\n    <h1>{{'_Home_main_title_' | translate}}</h1>\n  </div>\n\n  <app-navbar class=\"navbar\"></app-navbar>\n\n  <div class=\"col-lg-7 right-content\">\n    <div\n      class=\"message success-msg\"\n      *ngIf=\"home.sessionSucces === true\"\n      [translate]=\"'_Create_Success_'\">\n    </div>\n    <div class=\"navigation\" *ngFor=\"let link of menuLinks\">\n        <app-icon-text \n        (click)=\"onClick(link)\" \n        [ngClass]=\"{'disable-click': link.active === false}\" \n        [fontSize]=\"'21px'\" \n        [fontLineHeight]=\"'28px'\" \n        [colorInactive]=\"'grey'\" \n        [active]=\"link.active\"\n        [srcActive]=\"link.srcActive\" \n        [srcInactive]=\"link.srcInactive\"\n        [altText]=\"link.altText | translate\" \n        [label]=\"link.label | translate\"\n        [lblUrl]=\"link.lblUrl\">\n        </app-icon-text>\n      </div>\n    </div>\n\n  </div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { noop } from 'rxjs';\nimport { User } from 'src/app/models';\nimport { AuthenticationService, HomeService, RolesService } from 'src/app/services';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  public menuLinks: Array<any> = [\n\n    {\n      'url' : '/view/dashboard',\n      'active': true,\n      'srcActive': 'ansm_icons/Picto_tableau_de_bord.svg',\n      'srcInactive': 'ansm_icons/Picto_tableau_de_bord.svg',\n      'altText': '_Home_label_dashboards_',\n      'label': '_Home_label_dashboards_',\n      'roles': this.roles.dashboard\n    },\n    {\n      'url' : '/view/dataEntry',\n      'active': true,\n      'srcActive': 'ansm_icons/Picto_saisie_donnees.svg',\n      'srcInactive': 'ansm_icons/Picto_saisie_donnees.svg',\n      'altText': '_Home_label_data_entry_',\n      'label': '_Home_label_data_entry_',\n      'roles': this.roles.dataentry\n\n    },\n    {\n      'dropdown': true,\n      'lblUrl': [\n        {\n          url: '/view/soldOut/create',\n          lbl: '_Home_label_sold_out_create_'\n        },\n        {\n          url: '/view/users',\n          lbl: '_Home_label_user_update_'\n        },\n        {\n          url: '/view/soldOut/update',\n          lbl: '_Home_label_sold_out_update_'\n        },\n        {\n          url: '/view/unit',\n          lbl: '_Home_label_unit_'\n        },\n        {\n          url: '/view/dataEntryTracking',\n          lbl: '_Home_label_data_entry_tracking_'\n        },\n        {\n          url: '/view/laboratoire',\n          lbl: '_Home_label_data_laboratoire_'\n        }\n      ],\n      'active': true,\n      'srcActive': 'ansm_icons/Picto_modifier_session.svg',\n      'srcInactive': 'ansm_icons/Picto_modifier_session.svg',\n      'altText': '_Home_label_admin_',\n      'label': '_Home_label_admin_',\n      'roles': this.roles.admin\n    }\n  ];\n  private _currentUser: User = new User();\n\n  constructor(\n    public home: HomeService,\n    private router: Router,\n    private authentication: AuthenticationService,\n    private roles: RolesService\n    ) {\n      this._currentUser = this.authentication.currentUserValue;\n     }\n\n  ngOnInit() {\n    this._checkRoles();\n  }\n  public onClick(link: any) {\n    if (link.active === false) {\n      return;\n    } else {\n      link.dropdown ? noop() : this.router.navigate([link.url]);\n    }\n  }\n  private _checkRoles() {\n    const newMenuLinks = [];\n    this.menuLinks.forEach((element, i) => {\n      const isValid = element.roles.find(x => x === this._currentUser.role) === this._currentUser.role;\n      if (isValid && isValid === true) {\n        newMenuLinks.push(element);\n      }\n    });\n    this.menuLinks = newMenuLinks;\n  }\n}\n","import { ComponentRef } from '@angular/core';\nimport {\n  AngularUtilService,\n  Column,\n  ColumnEditor,\n  Editor,\n  EditorValidator,\n  EditorValidatorOutput,\n  GridOption,\n  unsubscribeAllObservables,\n } from 'angular-slickgrid';\nimport { Subscription } from 'rxjs';\n\n/*\n * An example of a 'detached' editor.\n * KeyDown events are also handled to provide handling for Tab, Shift-Tab, Esc and Ctrl-Enter.\n */\nexport class CustomAngularComponentEditor implements Editor {\n  private _subscriptions: Subscription[] = [];\n\n  /** Angular Component Reference */\n  componentRef: ComponentRef<any>;\n\n  /** default item Id */\n  defaultId: string;\n\n  /** default item object */\n  defaultItem: any;\n\n  /** SlickGrid grid object */\n  grid: any;\n\n  constructor(private args: any) {\n    this.grid = args && args.grid;\n    this.init();\n  }\n\n  /** Angular Util Service (could be inside the Grid Options Params or the Editor Params ) */\n  get angularUtilService(): AngularUtilService {\n    let angularUtilService = this.gridOptions && this.gridOptions.params && this.gridOptions.params.angularUtilService;\n    if (!angularUtilService || !(angularUtilService instanceof AngularUtilService)) {\n      angularUtilService = this.columnEditor && this.columnEditor.params && this.columnEditor.params.angularUtilService;\n    }\n    return angularUtilService;\n  }\n\n  /** Get the Collection */\n  get collection(): any[] {\n    return this.columnDef && this.columnDef.internalColumnEditor.collection || [];\n  }\n\n  /** Get Column Definition object */\n  get columnDef(): Column {\n    return this.args && this.args.column || {};\n  }\n\n  /** Get Column Editor object */\n  get columnEditor(): ColumnEditor {\n    return this.columnDef && this.columnDef.internalColumnEditor || {};\n  }\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  get gridOptions(): GridOption {\n    return (this.grid && this.grid.getOptions) ? this.grid.getOptions() : {};\n  }\n\n  get hasAutoCommitEdit() {\n    return this.gridOptions.autoCommitEdit;\n  }\n\n  /** Get the Validator function, can be passed in Editor property or Column Definition */\n  get validator(): EditorValidator {\n    return this.columnEditor.validator || this.columnDef.validator;\n  }\n\n  init() {\n    if (!this.columnEditor || !this.columnEditor.params.component || !(this.angularUtilService instanceof AngularUtilService)) {\n      throw new Error(`[Angular-Slickgrid] For Editor with Angular Component to work properly, you need to provide your component to the \"component\" property and make sure to add it to your \"entryComponents\" array.\n      You also need to provide the \"AngularUtilService\" via the Editor Params OR the Grid Options Params\n      Example: this.columnDefs = [{ id: 'title', field: 'title', editor: { model: CustomAngularComponentEditor, collection: [...], params: { component: MyComponent, angularUtilService: this.angularUtilService }}];\n      OR this.columnDefs = [{ id: 'title', field: 'title', editor: { model: CustomAngularComponentEditor, collection: [...] }]; this.gridOptions = { params: { angularUtilService: this.angularUtilService }}`);\n    }\n    if (this.columnEditor && this.columnEditor.params.component) {\n      const componentOutput = this.angularUtilService.createAngularComponentAppendToDom(\n        this.columnEditor.params.component, this.args.container);\n      this.componentRef = componentOutput && componentOutput.componentRef;\n\n      // here we override the collection object of the Angular Component\n      // but technically you can pass any values you wish to your Component\n      Object.assign(this.componentRef.instance, { collection: this.collection });\n\n      // when our model (item object) changes, we'll call a save of the slickgrid editor\n      this._subscriptions.push(\n        this.componentRef.instance.onItemChanged.subscribe((item: any) => this.save())\n      );\n    }\n  }\n\n  save() {\n    const validation = this.validate();\n    if (validation && validation.valid) {\n      if (this.hasAutoCommitEdit) {\n        this.args.grid.getEditorLock().commitCurrentEdit();\n      } else {\n        this.args.commitChanges();\n      }\n    }\n  }\n\n  cancel() {\n    this.componentRef.instance.selectedId = this.defaultId;\n    this.componentRef.instance.selectedItem = this.defaultItem;\n    if (this.args && this.args.cancelChanges) {\n      this.args.cancelChanges();\n    }\n  }\n\n  /** optional, implement a hide method on your Angular Component */\n  hide() {\n    if (this.componentRef && this.componentRef.instance && typeof this.componentRef.instance.hide === 'function') {\n      this.componentRef.instance.hide();\n    }\n  }\n\n  /** optional, implement a show method on your Angular Component */\n  show() {\n    if (this.componentRef && this.componentRef.instance && typeof this.componentRef.instance.show === 'function') {\n      this.componentRef.instance.show();\n    }\n  }\n\n  /** destroy the Angular Component & Subscription */\n  destroy() {\n    if (this.componentRef && this.componentRef.destroy) {\n      this.componentRef.destroy();\n    }\n\n    // also unsubscribe all Angular Subscriptions\n    this._subscriptions = unsubscribeAllObservables(this._subscriptions);\n  }\n\n  /** optional, implement a focus method on your Angular Component */\n  focus() {\n    if (this.componentRef && this.componentRef.instance && typeof this.componentRef.instance.focus === 'function') {\n      this.componentRef.instance.focus();\n    }\n  }\n\n  applyValue(item: any, state: any) {\n    item[this.columnDef.field] = state;\n  }\n\n  getValue() {\n    return this.componentRef.instance.selectedId;\n  }\n\n  loadValue(item: any) {\n    const itemObject = item && item[this.columnDef.field];\n    this.componentRef.instance.selectedId = itemObject && itemObject.id || '';\n    this.componentRef.instance.selectedItem = itemObject && itemObject;\n  }\n\n  serializeValue(): any {\n    return this.componentRef.instance.selectedItem;\n  }\n\n  isValueChanged() {\n    return (\n      !(this.componentRef.instance.selectedId === '' && (this.defaultId === null || this.defaultId === undefined)))\n      &&\n      (this.componentRef.instance.selectedId !== this.defaultId);\n  }\n\n  validate(): EditorValidatorOutput {\n    if (this.validator) {\n      const value = this.componentRef.instance.selectedId;\n      return this.validator(value, this.args);\n    }\n\n    // by default the editor is always valid\n    // if user want it to be required, he would have to provide his own validator\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n}\n","\n  <ng-select class=\"no-style-select dropdown\"\n      [items]=\"collection\"\n      autofocus\n      bindValue=\"id\"\n      bindLabel=\"lib\"\n      appendTo=\"body\"\n      [clearable]=\"false\"\n      (change)=\"onChange($event)\"\n      [(ngModel)]=\"selectedId\"\n\t\t>\n\t\t\t<ng-template ng-label-tmp ng-option-tmp let-item=\"item\">\n\t\t\t\t{{ item?.lib }}\n\t\t\t</ng-template>\n\t\t</ng-select>","import { Component } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n// the appendTo=\"body\" (necessary for SlickGrid filter) requires the body to be position relative like so\n// <body style=\"position: relative\">\n@Component({\n  template: `\n  <ng-select class=\"no-style-select dropdown\"\n      [items]=\"collection\"\n      autofocus\n      bindValue=\"id\"\n      bindLabel=\"lib\"\n      appendTo=\"body\"\n      [clearable]=\"false\"\n      (change)=\"onChange($event)\"\n      [(ngModel)]=\"selectedId\"\n\t\t>\n\t\t\t<ng-template ng-label-tmp ng-option-tmp let-item=\"item\">\n\t\t\t\t{{ item?.lib }}\n\t\t\t</ng-template>\n\t\t</ng-select>`\n})\nexport class EditorNgSelectComponent {\n  selectedId: string;\n  selectedItem: any;\n  collection; // this will be filled by the collection of your column definition\n  onItemChanged = new Subject<any>();    // object\n  onChange(item: any) {\n    this.selectedItem = item;\n    this.onItemChanged.next(item);\n  }\n\n  focus() {\n    // do a focus\n  }\n}\n","<div class=\"row height-max-content\">\n    <div class=\"left-menu p-0 col-lg-1\">\n      <app-navbar class=\"navbar\"></app-navbar>\n    </div>\n\n    <div id=\"laboratories-slickgrid\" class=\"col-lg-11 right-content\">\n        <div class=\"loader-content\" *ngIf=\"showSpinner === true; else elseBlock\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n        </div>\n        <ng-template #elseBlock>\n            <div class=\"header\">\n                <app-highlight-title [title]=\"'_Home_label_data_laboratoire_' | translate\"\n                [highlight]=\"['_Laboratoire_title_highlighted_' | translate]\"></app-highlight-title>\n            </div>\n\n            <div class=\"slick-grid-container\">\n                <angular-slickgrid \n                    gridId=\"laboratoriesSurKey\"\n                    (onAngularGridCreated)=\"angularGridReady($event)\"\n                    [columnDefinitions]=\"columnDefinitions\"\n                    [gridOptions]=\"gridOptions\"\n                    [dataset]=\"dataset\">\n                </angular-slickgrid>\n            </div>\n            <div class=\"btn-container\">\n                <input type=\"submit\" [ngClass]=\"idToChange.length > 0? 'input-valid' : 'input-invalid'\" value=\"{{'_DataEntry_form_save_' | translate}}\" (click)=\"submit()\">\n                <div\n                class=\"message error-msg\"\n                *ngIf=\"errorMessage\"\n                [translate]=\"'_Common_UnkownError_'\"></div>\n                <div\n                class=\"message success-msg\"\n                *ngIf=\"succesMessage\"\n                [translate]=\"'_Common_Requet_Sended_'\"></div>\n            </div>\n        \n\n            <div\n            class=\"dialog-box\"\n            *ngIf=\"dialogValidate\">\n                <label *ngIf=\"sessionFind\">⚠️ {{'_Laboratoire_ConfirmSubmit_session_' | translate}}</label>\n                <label *ngIf=\"userFind\">⚠️ {{'_Laboratoire_ConfirmSubmit_user_' | translate}}</label>\n                <div class=\"buttons\">\n                    <button\n                    class=\"button input-valid\"\n                    (click)=\"dialogContinue(); dialogValidate = false\"\n                    [translate]=\"'_LoginForm_form_submit_continue_'\"></button>\n                    <button\n                    class=\"button input-cancel\"\n                    (click)=\"dialogReset(); dialogValidate = false\"\n                    [translate]=\"'_DataEntry_form_cancel_'\"></button>\n                </div>\n            </div>\n\n\n\n\n        </ng-template>\n    </div>\n\n</div>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { map } from 'rxjs/operators';\nimport {\n  AngularGridInstance,\n  AngularUtilService,\n  Column,\n  Editors,\n  FieldType,\n  Formatters,\n  GridOption,\n  OnEventArgs\n} from 'angular-slickgrid';\nimport { noop } from 'jquery';\nimport { Observable, of } from 'rxjs';\nimport { first, switchMap } from 'rxjs/operators';\nimport { LaboratoireModel } from 'src/app/models';\nimport { LaboratoireService } from 'src/app/services';\nimport { CustomAngularComponentEditor } from './custom-angularComponentEditor';\nimport { EditorNgSelectComponent } from './editor-ng-select.component';\n\n@Component({\n  selector: 'app-laboratoire',\n  templateUrl: './laboratoire.component.html',\n  styleUrls: ['./laboratoire.component.scss']\n})\nexport class LaboratoireComponent implements OnInit, OnDestroy {\n  // public addGrp: FormGroup;\n\n  public laboratories: Array<LaboratoireModel>;\n  public showSpinner: boolean = false;\n\n  public columnDefinitions: Column[];\n  public gridOptions: GridOption;\n  public dataset: LaboratoireModel[];\n\n  public errorMessage: boolean = false;\n  public succesMessage: boolean = false;\n  public idToChange: number[] = new Array;\n\n  public dialogValidate: boolean = false;\n  public userFind: boolean = false;\n  public sessionFind: boolean = false;\n\n  private _argsCheckBeforeChangeId: any;\n  private groupes: Array<any>;\n  private _angularGrid: AngularGridInstance;\n  private _max: number;\n\n  constructor(\n    private readonly _transalte: TranslateService,\n    private readonly _laboratoireService: LaboratoireService,\n    private angularUtilService: AngularUtilService\n  ) {\n   }\n\n  ngOnInit(): void {\n    this._initView()\n    .subscribe((resp: boolean) => {\n          this.showSpinner = false;\n        },\n        (err: any) => {\n          this.showSpinner = false;\n        }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this._reset();\n  }\n\n  public angularGridReady(angularGrid: AngularGridInstance) {\n    this._angularGrid = angularGrid;\n  }\n\n  public submit() {\n    if (this.idToChange.length <= 0) {\n      return;\n    } else {\n      this.showSpinner = true;\n      const allDataToSave: Array<LaboratoireModel> = [];\n      let nameIsEmpty = false;\n      this.idToChange.forEach((id: number) => {\n        const data = this.dataset.find((x: LaboratoireModel) => x.id === id);\n        const dataToSave = {} as LaboratoireModel;\n        dataToSave.code = data.code;\n        dataToSave.idhld = data.idhld;\n        dataToSave.namehld = data.namehld;\n        dataToSave.src = data.src;\n        dataToSave.idsubsdry = data.idsubsdry;\n        dataToSave.nmsubsdry = data.nmsubsdry;\n        allDataToSave.push(dataToSave);\n        if (dataToSave.namehld === '') {\n          nameIsEmpty = true;\n        }\n      });\n      if (nameIsEmpty) {\n        this.showSpinner = false;\n        this.errorMessage = true;\n        setTimeout(() =>\n          this.errorMessage = false, 4000\n        );\n        return;\n      }\n      this._laboratoireService.updateLaboratories(allDataToSave)\n      .pipe(\n        first(),\n        switchMap((resp: number) => this._initView(resp))\n      )\n      .subscribe(\n          (resp: boolean) => {\n              this.showSpinner = false;\n              if (resp) {\n                this.succesMessage = true;\n                setTimeout(() =>\n                  this.succesMessage = false, 4000\n                );\n              } else {\n                this.errorMessage = true;\n                setTimeout(() =>\n                  this.errorMessage = false, 4000\n                );\n              }\n          },\n          (err: any) => {\n            this.showSpinner = false;\n          }\n      );\n    }\n  }\n\n  private _reset() {\n    this._angularGrid.destroy();\n    delete this.laboratories;\n    delete this.groupes;\n    this._laboratoireService.setLaboratoires = this.laboratories;\n    this.showSpinner = false;\n    this.errorMessage = false;\n    this.succesMessage = false;\n    this.idToChange = new Array;\n    delete this.dataset;\n    delete this.columnDefinitions;\n    delete this.gridOptions;\n    delete this._max;\n  }\n\n  private _initView(afterSave?: number): Observable<boolean> {\n    if (afterSave && afterSave === 1) {\n      this._reset();\n    }\n    this.showSpinner = true;\n    return this._laboratoireService.listOfLaboratories()\n    .pipe(\n        first(),\n        switchMap((resp: Array<LaboratoireModel>) => this._callListOfLaboratories(resp)),\n        switchMap((resp: boolean) => this._initSlickGrid()),\n        switchMap((resp: boolean) => this._initNextId(afterSave))\n    );\n  }\n\n  private _callListOfLaboratories(resp: Array<LaboratoireModel>): Observable<boolean> {\n    this.laboratories = resp;\n    this.groupes = [];\n    this.laboratories.forEach((model: LaboratoireModel, index: number) => {\n      const data: LaboratoireModel = {} as LaboratoireModel;\n      Object.assign(data, model);\n      if (!this.groupes.find(x => x.id === data.idhld)) {\n        this.groupes.push({\n          id: data.idhld,\n          name: data.namehld,\n          lib: `${data.idhld} - ${data.namehld}`\n        });\n      }\n    });\n    this.groupes.sort(function (a, b) {\n      return a.id - b.id;\n    });\n    return of(true);\n  }\n\n  private _initSlickGrid(): Observable<boolean> {\n    this._columns();\n    this._options();\n    this._getData();\n    return of(true);\n  }\n\n  private _initNextId(afterSave?: number): Observable<boolean> {\n    return this._laboratoireService.nextIdGrp().pipe(map(\n      (response: number) => {\n        this._max = response;\n        this.groupes.unshift({\n          id: this._max,\n          name: '',\n          lib: 'Ajouter un nouvel ID'\n        });\n        if (afterSave && afterSave !== 1) {\n          return false;\n        } else {\n          return true;\n        }\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n  private _columns() {\n    const Source = this._transalte.instant('_Laboratoire_title_slick_source_');\n    const Code = this._transalte.instant('_Laboratoire_title_slick_code_');\n    const IsModified = this._transalte.instant('_Laboratoire_title_slick_is_modified_');\n    const IdSubsdry = this._transalte.instant('_Laboratoire_title_slick_id_subsdry_');\n    const NmSubsdry = this._transalte.instant('_Laboratoire_title_slick_nm_subsdry_');\n    const Identification = this._transalte.instant('_Laboratoire_title_slick_identification_');\n    const Laboratoire = this._transalte.instant('_Laboratoire_title_slick_laboratoire_');\n    this.columnDefinitions = [\n      {\n        id: 'source',\n        name: Source,\n        field: 'src',\n        nameKey: 'SOURCE',\n        filterable: true,\n        type: FieldType.string,\n        sortable: true\n      },\n      {\n        id: 'code',\n        name: Code,\n        field: 'code',\n        nameKey: 'Code',\n        type: FieldType.string,\n        sortable: true\n      },\n      {\n        id: 'modified',\n        name: IsModified,\n        field: 'modified',\n        nameKey: 'IsModified',\n        type: FieldType.string,\n        sortable: true\n      },\n      {\n        id: 'IdSubsdry',\n        name: IdSubsdry,\n        field: 'idsubsdry',\n        nameKey: 'IdSubsdry',\n        filterable: true,\n        type: FieldType.number,\n        sortable: true\n      },\n      {\n        id: 'NmSubsdry',\n        name: NmSubsdry,\n        field: 'nmsubsdry',\n        nameKey: 'NmSubsdry',\n        filterable: true,\n        type: FieldType.string,\n        sortable: true\n      },\n      {\n        id: 'group_list',\n        name: Identification,\n        field: 'group_list',\n        filterable: true,\n        sortable: true,\n        queryFieldFilter: 'group_list.id',\n        queryFieldSorter: 'group_list.id',\n        formatter: Formatters.complexObject,\n        params: {\n          complexFieldLabel: 'group_list.id',\n        },\n        exportWithFormatter: true,\n        editor: {\n          model: CustomAngularComponentEditor,\n          collection: this.groupes,\n          params: {\n            component: EditorNgSelectComponent,\n          }\n        },\n        onCellChange: (e: Event, args: OnEventArgs) => {\n          this._verifiedIsUse(args);\n        }\n      },\n      {\n        id: 'name', name: Laboratoire, field: 'namehld', nameKey: 'NAME', filterable: true, type: FieldType.string, sortable: true,\n        editor: {\n          model: Editors.text,\n          validator: this.requiredFieldValidator\n        },\n        onCellChange: (e: Event, args: OnEventArgs) => {\n          this._changeDataName(args);\n        }\n      }\n    ];\n  }\n\n  private requiredFieldValidator(value) {\n    if (value.match(/^[a-zA-Z0-9]/g) === null) {\n      return {valid: false, msg: 'Aucune donnée null autorisée'};\n    } else {\n      return {valid: true, msg: null};\n    }\n  }\n\n  private _verifiedIsUse(args) {\n    const data: LaboratoireModel = args.dataContext;\n    this.userFind = data.isUser;\n    this.sessionFind = data.isUse;\n    if (data.isUse || data.isUser) {\n      this.dialogValidate = true;\n      this._argsCheckBeforeChangeId = args;\n    } else {\n      this._changeDataId(args);\n    }\n  }\n\n  public dialogContinue() {\n    const args = this._argsCheckBeforeChangeId;\n    delete this._argsCheckBeforeChangeId;\n    this.userFind = false;\n    this.sessionFind = false;\n    this._changeDataId(args);\n  }\n\n  public dialogReset() {\n    const args = this._argsCheckBeforeChangeId;\n    const data: LaboratoireModel = args.dataContext;\n    data.group_list = this.groupes.find(x => x.id === data.idhld);\n    delete this._argsCheckBeforeChangeId;\n    this.userFind = false;\n    this.sessionFind = false;\n    this._changeDataId(args);\n  }\n\n  private _changeDataId(args) {\n    const data: LaboratoireModel = args.dataContext;\n    data.idhld = data.group_list['id'];\n    data.namehld = data.group_list['name'];\n    this._dataHasBeenChange(data);\n    if (data.idhld === this._max) {\n      data.group_list['lib'] = `${data.idhld} - (...)`;\n      this.groupes.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      this._initNextId().subscribe(\n      );\n    }\n    this._angularGrid.gridService.updateItem(data);\n  }\n\n  private _changeDataName(args) {\n    const data: LaboratoireModel = args.dataContext;\n    const dataSameId = this.dataset.filter((x: LaboratoireModel) => x.idhld === data.idhld);\n    const groupe = this.groupes.find((x: any) => x.id === data.idhld);\n    groupe.name = data.namehld;\n    groupe.lib = `${data.idhld} - ${data.namehld}`;\n    data.group_list = groupe;\n    dataSameId.forEach((parallele: LaboratoireModel) => {\n      parallele.group_list = data.group_list;\n      parallele.namehld = data.namehld;\n      this._dataHasBeenChange(parallele);\n      this._angularGrid.gridService.updateItem(parallele);\n    });\n  }\n\n  private _dataHasBeenChange(data: LaboratoireModel) {\n    const index = this.idToChange.indexOf(data.id);\n    const oldData = this.laboratories.find((x: LaboratoireModel) => x.id === data.id);\n    if (data.idhld !== oldData.idhld || data.namehld !== oldData.namehld) {\n      index < 0 ? this.idToChange.push(data.id) : noop();\n    } else {\n      index < 0 ? noop() : this.idToChange.splice(index, 1);\n    }\n  }\n\n  private _options() {\n    this.gridOptions = {\n      autoEdit: false,\n      enableCellNavigation: true,\n      editable: true,\n      headerRowHeight: 50,\n      rowHeight: 60,\n      enableAutoResize: true,\n      enableGridMenu: false,\n      autoResize: {\n        containerId: 'laboratories-slickgrid',\n        sidePadding: 10\n      },\n      enableFiltering: true,\n      params: {\n        angularUtilService: this.angularUtilService // provide the service to all at once (Editor, Filter, AsyncPostRender)\n      }\n    };\n  }\n\n  private _getData() {\n    this.dataset = [];\n    this.laboratories.forEach((model: LaboratoireModel, index: number) => {\n      const data: LaboratoireModel = {} as LaboratoireModel;\n      model.id = index;\n      data.id = model.id;\n      data.idhld = model.idhld;\n      data.namehld = model.namehld;\n      data.src = model.src;\n      data.code = model.code;\n      data.idsubsdry = model.idsubsdry;\n      data.nmsubsdry = model.nmsubsdry;\n      data.modified = model.modified ? 'OUI' : 'NON';\n      data.group_list = this.groupes.find(x => x.id === data.idhld);\n      data.isUse = model.isUse;\n      data.isUser = model.isUser;\n      this.dataset.push(data);\n    });\n  }\n\n}\n","<div class=\"row\">\n    <div class=\"col-lg-5 left-menu\">\n      <img width=\"600\" height=\"100\" src=\"/assets/images/ansm_icons/TRACSTOCK_logo_fond_couleur.svg\" [alt]=\"'_Login_main_title_' | translate\">\n      <h1 class=\"mt-5\">{{'_Login_main_title_' | translate}}</h1>\n    </div>\n\n    <div class=\"col-lg-7 right-content\">\n        <app-login-form \n        *ngIf=\"!isSmsVerificationFormVisible\" \n        (verificationCodeSended)=\"handleNextStep($event)\"\n        ></app-login-form>\n        <app-sms-form \n        *ngIf=\"isSmsVerificationFormVisible\"\n        (verificationCodeSended)=\"handleNextStep($event)\"\n        ></app-sms-form>\n      </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from '../../services';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n    public isSmsVerificationFormVisible = false;\n\n\n    constructor(\n        private authenticationService: AuthenticationService,\n    ) {\n        // redirect to needed page if already logged in && SMS is already verified\n        const currentUser = this.authenticationService.currentUserValue;\n        if (currentUser && currentUser.jwt && currentUser.sms === 'isValid') {\n            this.authenticationService.redirection();\n        }\n    }\n\n    ngOnInit() {\n\n    }\n\n    public handleNextStep(event: Event) {\n        if (event !== undefined && typeof event === 'boolean') {\n            this.isSmsVerificationFormVisible = event;\n        }\n    }\n}\n","<div\n  class=\"dialog-box\"\n  *ngIf=\"forgetPassword\">\n  <app-highlight-title [title]=\"initTitle | translate\" [highlight]=\"[initTitleHighlighted | translate]\"\n  [text]=\"'_LoginForm_form_forget_password_'\"></app-highlight-title>\n  <form class=\"form p-0 m-0\" autocomplete=\"on\" [formGroup]=\"initPasswordForm\">\n\n    <div class=\"row form-row\">\n      <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Login.svg'\"\n      [srcInactive]=\"'ansm_icons/Login_inactif.svg'\" [altText]=\"'_LoginForm_form_field_login_' | translate\"\n      [label]=\"'_LoginForm_form_field_login_' | translate\">\n      </app-icon-text>\n      <div class=\"col-lg-7 p-0\">\n          <input [ngClass]=\"{'input-valid': initPasswordForm.controls.login.valid, 'input-invalid': isInit && initPasswordForm.controls.login.errors}\" type=\"login\" formControlName=\"login\" placeholder=\"{{'_LoginForm_form_field_login_' | translate}}\">\n          <div class=\"error-block error-new\" *ngIf=\"isInit && initPasswordForm.controls.login.errors\">\n              {{'_LoginForm_form_error_login_required_' | translate}}\n          </div>\n      </div> \n    </div>\n\n    <div class=\"row form-row\">\n      <app-icon-text \n        *ngIf=\"authenticationService.switchSmsToMail\"\n        class=\"col-lg-5 p-0\" \n        [active]=\"true\" \n        [fontSize]=\"'21px'\" \n        [fontLineHeight]=\"'37px'\" \n        [colorInactive]=\"'grey'\"\n        [srcActive]=\"'ansm_icons/Picto_adresse_mail.svg'\" \n        [srcInactive]=\"'ansm_icons/Picto_adresse_mail_inactif.svg'\"\n        [altText]=\"'_LoginForm_form_field_switch_' | translate\"\n        [label]=\"'_LoginForm_form_field_switch_' | translate\">\n      </app-icon-text>\n      <app-icon-text \n        *ngIf=\"!authenticationService.switchSmsToMail\"\n        class=\"col-lg-5 p-0\" \n        [active]=\"true\" \n        [fontSize]=\"'21px'\" \n        [fontLineHeight]=\"'37px'\" \n        [colorInactive]=\"'grey'\"\n        [srcActive]=\"'ansm_icons/Code_sms.svg'\" \n        [srcInactive]=\"'ansm_icons/Code_sms_inactif.svg'\"\n        [altText]=\"'_LoginForm_form_field_switch_' | translate\"\n        [label]=\"'_LoginForm_form_field_switch_' | translate\">\n      </app-icon-text>\n      <div \n        class=\"col-lg-7 btn-group p-0\" >\n        <button \n          type=\"button\"\n          [className]=\"!authenticationService.switchSmsToMail ? 'active' : 'not-active'\" \n          (click)=\"onClickSwitch()\">{{'_LoginForm_form_switch_sms_' | translate}}\n        </button>\n        <button \n          type=\"button\"\n          [className]=\"authenticationService.switchSmsToMail ? 'active' : 'not-active'\" \n          (click)=\"onClickSwitch()\">{{'_LoginForm_form_switch_mail_' | translate}}\n        </button>\n      </div> \n    </div>\n    <div class=\"row form-row\">\n      <app-re-captcha\n      [active]=\"initPasswordForm.controls.login.valid\"\n      [isSubmitted]=\"isInit\"\n      (response)=\"handleReCaptcha($event, 'password')\"\n      ></app-re-captcha>\n    </div>\n  \n    <div class=\"row form-row buttons\">\n      <button\n      class=\"button mr-2 mt-0 mb-2\"\n      [ngClass]=\"initPasswordForm.valid && !isInit? 'input-valid' : 'input-invalid'\"\n      (click)=\"initNewPassword()\"\n      [translate]=\"'_LoginForm_init_send_'\"></button>\n      <button\n      class=\"button ml-2 mt-0 input-error\"\n      (click)=\"closeDisplayDialog()\"\n      [translate]=\"'_DataEntry_form_cancel_'\"></button>\n      <div class=\"loader-content\">\n        <mat-progress-spinner  mode=\"indeterminate\" *ngIf=\"loader.showSpinner === true && isInit\">\n        </mat-progress-spinner>\n      </div>\n    </div>\n\n    <div class=\"error-block\" *ngIf=\"errorRequestMessage\">\n      {{'_LoginForm_form_error_' | translate}}\n    </div>\n\n  \n  </form>\n</div>\n\n<app-highlight-title [title]=\"loginTitle | translate\" [highlight]=\"[loginTitleHighlighted | translate]\"\n  [text]=\"'_LoginForm_text_'\"></app-highlight-title>\n\n<form class=\"form\" autocomplete=\"on\" [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\n\n  <div class=\"row\">\n      <app-icon-text class=\"col-lg-5 p-0\" [active]=\"!forgetPassword\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [colorInactive]=\"'grey'\" [srcActive]=\"'ansm_icons/Login.svg'\" [srcInactive]=\"'ansm_icons/Login_inactif.svg'\"\n        [altText]=\"'_LoginForm_form_field_login_' | translate\" [label]=\"'_LoginForm_form_field_login_' | translate\">\n      </app-icon-text>\n      <input #inputLogin class=\"col-lg-7\" [ngClass]=\"{'input-valid': formControls.username.valid, 'input-invalid': isSubmitted && formControls.username.errors,'input-disable': forgetPassword}\" type=\"login\" (keyup)=\"isDisabled(formControls.username.valid)\" placeholder=\"{{'_LoginForm_form_field_login_' | translate}}\" formControlName=\"username\"  autocomplete=\"on\" >\n      <div *ngIf=\"isSubmitted && formControls.username.errors\" class=\"error-block error-login\">\n        <div *ngIf=\"formControls.username.errors.required\">{{'_LoginForm_form_error_login_required_' | translate}}</div>\n      </div>\n  </div>\n\n  <div class=\"row\">\n      <app-icon-text class=\"col-lg-5 p-0\" [active]=\"formControls.username.valid\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [colorInactive]=\"'grey'\"\n        [srcActive]=\"'ansm_icons/Mot-de-passe_actif.svg'\" [srcInactive]=\"'ansm_icons/Mot-de-passe_inactif.svg'\"\n        [altText]=\"'_LoginForm_form_field_password_' | translate\"\n        [label]=\"'_LoginForm_form_field_password_' | translate\">\n      </app-icon-text>\n      <input class=\"col-lg-7\" [ngClass]=\"{'input-valid': formControls.password.valid, 'input-invalid': isSubmitted && formControls.password.errors, 'input-disable': formControls.username.invalid}\"\n      type=\"password\" placeholder=\"{{'_LoginForm_form_field_password_' | translate}}\"\n        formControlName=\"password\"  autocomplete=\"on\" >\n      <div *ngIf=\"isSubmitted && formControls.password.errors\" class=\"error-block error-password\">\n        <div *ngIf=\"formControls.password.errors.required\">{{'_LoginForm_form_error_password_required_' | translate}}\n      </div>\n    </div>\n  </div>\n  <div (click)=\"resetPassword()\" class=\"help-block\">{{'_LoginForm_form_label_forgotten_password_' | translate}}</div>\n\n  <div class=\"row\">\n    <app-icon-text \n      *ngIf=\"authenticationService.switchSmsToMail\"\n      class=\"col-lg-5 p-0\" \n      [active]=\"formControls.password.valid\" \n      [fontSize]=\"'21px'\" \n      [fontLineHeight]=\"'37px'\" \n      [colorInactive]=\"'grey'\"\n      [srcActive]=\"'ansm_icons/Picto_adresse_mail.svg'\" \n      [srcInactive]=\"'ansm_icons/Picto_adresse_mail_inactif.svg'\"\n      [altText]=\"'_LoginForm_form_field_switch_' | translate\"\n      [label]=\"'_LoginForm_form_field_switch_' | translate\">\n    </app-icon-text>\n    <app-icon-text \n      *ngIf=\"!authenticationService.switchSmsToMail\"\n      class=\"col-lg-5 p-0\" \n      [active]=\"formControls.password.valid\" \n      [fontSize]=\"'21px'\" \n      [fontLineHeight]=\"'37px'\" \n      [colorInactive]=\"'grey'\"\n      [srcActive]=\"'ansm_icons/Code_sms.svg'\" \n      [srcInactive]=\"'ansm_icons/Code_sms_inactif.svg'\"\n      [altText]=\"'_LoginForm_form_field_switch_' | translate\"\n      [label]=\"'_LoginForm_form_field_switch_' | translate\">\n    </app-icon-text>\n    <div \n      class=\"col-lg-7 btn-group p-0\" \n      [ngClass]=\"{'not-active' : !formControls.password.valid, 'change-color' : !formControls.password.valid }\">\n      <button \n        type=\"button\"\n        [className]=\"!authenticationService.switchSmsToMail ? 'active' : 'not-active'\" \n        (click)=\"onClickSwitch()\">{{'_LoginForm_form_switch_sms_' | translate}}\n      </button>\n      <button \n        type=\"button\"\n        [className]=\"authenticationService.switchSmsToMail ? 'active' : 'not-active'\" \n        (click)=\"onClickSwitch()\">{{'_LoginForm_form_switch_mail_' | translate}}\n      </button>\n    </div> \n  </div>\n\n  <div class=\"row\">\n    <app-re-captcha\n    [active]=\"formControls.password.valid && formControls.username.valid\"\n    [isSubmitted]=\"isSubmitted\"\n    (response)=\"handleReCaptcha($event, 'login')\"\n    ></app-re-captcha>\n  </div>\n\n\n  <div class=\"block-submit\">\n    <div class=\"d-flex\">\n      <input type=\"submit\" [ngClass]=\"!loginForm.invalid && !isSubmitted? 'input-valid' : 'input-invalid'\" value=\"{{'_LoginForm_form_submit_continue_' | translate}}\">\n      <div class=\"loader-content-input\">\n        <mat-progress-spinner  mode=\"indeterminate\" *ngIf=\"loader.showSpinner === true && isSubmitted\">\n        </mat-progress-spinner>\n      </div>\n    </div>\n    <div \n      class=\"error-block\"\n      *ngIf=\"errorMessage\">\n      {{'_LoginForm_form_error_login_' | translate}}\n    </div>\n    <div *ngIf=\"errorRequestMessage\" class=\"error-block\">\n      {{'_LoginForm_form_error_' | translate}}\n    </div>\n  </div>\n\n</form>\n","import { AfterViewInit, Component, ElementRef, EventEmitter, OnInit, Output, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport { AuthenticationService, LoaderService } from 'src/app/services';\nimport { RecaptchaErrorParameters } from \"ng-recaptcha\";\n\n\n@Component({\n  selector: 'app-login-form',\n  templateUrl: './loginForm.component.html',\n  styleUrls: ['./loginForm.component.scss']\n})\nexport class LoginFormComponent implements OnInit, AfterViewInit {\n  @ViewChild('inputLogin') searchLoginElement: ElementRef;\n  @Output() verificationCodeSended: EventEmitter<boolean> = new EventEmitter();\n  public loginTitle = '_LoginForm_title_';\n  public loginTitleHighlighted = '_LoginForm_title_highlighted_';\n  public initTitle = '_LoginForm_init_title_';\n  public initTitleHighlighted = '_LoginForm_init_title_highlighted_';\n\n  public loginForm: FormGroup;\n  public isSubmitted = false;\n\n  public disabled: boolean;\n  public role: string;\n\n  public errorMessage: boolean;\n  public returnUrl: string;\n\n  public forgetPassword: boolean;\n  public initPasswordForm: FormGroup;\n  public isInit: boolean;\n  // public mailError: boolean;\n  public errorRequestMessage: boolean;\n  constructor(\n    public loader: LoaderService,\n    public authenticationService: AuthenticationService,\n    private formBuilder: FormBuilder,\n  ) {\n  }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: [{ value: '', disabled: true }, Validators.required],\n      reCaptcha: [false, Validators.requiredTrue]\n    });\n  }\n\n  ngAfterViewInit() {\n    this.searchLoginElement.nativeElement.focus();\n  }\n\n  public handleReCaptcha(e, type: string) {\n    switch (type) {\n      case 'password':\n        this.initPasswordForm.controls['reCaptcha'].setValue(e);\n        break;\n      case 'login':\n        this.formControls.reCaptcha.setValue(e);\n        break;\n    }\n  }\n\n\n  public onClickSwitch() {\n    this.authenticationService.switchSmsToMail = !this.authenticationService.switchSmsToMail;\n  }\n  public isDisabled(value: boolean) {\n    if (value === true) {\n      this.loginForm.controls['password'].enable();\n    } else {\n      this.loginForm.controls['password'].disable();\n    }\n  }\n  get formControls() { return this.loginForm.controls; }\n\n  public login() {\n\n    this.isSubmitted = true;\n\n    if (this.loginForm.invalid) {\n      setTimeout(() =>\n        this.isSubmitted = false, 4000\n      );\n      return;\n    }\n\n    this.authenticationService.login(this.loginForm.controls.username, this.loginForm.controls.password)\n    .subscribe(\n          (resp) => {\n            // if http success 200\n              this.verificationCodeSended.emit(resp);\n              this.isSubmitted = false;\n          },\n          (error) => {\n            this.isSubmitted = false;\n            if (error.status === 403) {\n              this.errorMessage = true;\n              setTimeout(() =>\n                this.errorMessage = false, 4000\n              );\n            } else {\n              this.errorRequestMessage = true;\n              setTimeout(() =>\n                this.errorRequestMessage = false, 4000\n              );\n            }\n          }\n      );\n\n  }\n\n  public closeDisplayDialog() {\n    this.forgetPassword = false;\n  }\n  public initNewPassword() {\n    const login = this.initPasswordForm.controls.login.value;\n    this.isInit = true;\n    if (this.initPasswordForm.invalid) {\n    setTimeout(() =>\n      this.isInit = false, 4000\n    );\n      return;\n    }\n    this.authenticationService.getUserByCheck(login)\n    .pipe(\n      first(),\n    )\n    .subscribe(\n        (data) => {\n          this.isInit = false;\n          this.verificationCodeSended.emit(data);\n        },\n        (err) => {\n            this.isInit = false;\n            this.errorRequestMessage = true;\n            setTimeout(() =>\n              this.errorRequestMessage = false, 4000\n            );\n        }\n    );\n  }\n\n  public resetPassword() {\n    this.initPasswordForm = this.formBuilder.group({\n      login: ['', Validators.required],\n      reCaptcha: [false, Validators.requiredTrue]\n    });\n    this.forgetPassword = true;\n  }\n\n}\n","<div class=\"down\" *ngIf=\"smsTitle && smsTitleHighlighted\">\n  <app-highlight-title \n  *ngIf=\"!authenticationService.switchSmsToMail\"\n  [title]=\"smsTitle | translate\" \n  [highlight]=\"[smsTitleHighlighted | translate]\" \n  [text]=\"'_SmsForm_text_'\">\n  </app-highlight-title>\n  <app-highlight-title \n  *ngIf=\"authenticationService.switchSmsToMail\"\n  [title]=\"smsTitle | translate\" \n  [highlight]=\"[smsTitleHighlighted | translate]\" \n  [text]=\"'_MailForm_text_'\">\n  </app-highlight-title>\n\n  <form class=\"form\" autocomplete=\"off\" [formGroup]=\"smsForm\" (ngSubmit)=\"validateVerificationCode()\">\n\n    <div class=\"row\">\n      <app-icon-text \n      *ngIf=\"!authenticationService.switchSmsToMail\"\n      class=\"col-lg-5 p-0\" \n      [active]=\"true\" \n      [fontSize]=\"'21px'\" \n      [fontLineHeight]=\"'37px'\" \n      [srcActive]=\"'ansm_icons/Code_sms.svg'\" \n      [srcInactive]=\"'ansm_icons/Code_sms.svg'\"\n      [altText]=\"'_SmsForm_form_field_sms_' | translate\" \n      [label]=\"'_SmsForm_form_field_sms_' | translate\">\n      </app-icon-text>\n      <app-icon-text \n      *ngIf=\"authenticationService.switchSmsToMail\"\n      class=\"col-lg-5 p-0\" \n      [active]=\"true\" \n      [fontSize]=\"'21px'\" \n      [fontLineHeight]=\"'37px'\" \n      [srcActive]=\"'ansm_icons/Picto_adresse_mail.svg'\" \n      [srcInactive]=\"'ansm_icons/Picto_adresse_mail_inactif.svg'\"\n      [altText]=\"'_SmsForm_form_field_mail_' | translate\"\n      [label]=\"'_SmsForm_form_field_mail_' | translate\">\n    </app-icon-text>\n      <input #inputSms class=\"col-lg-7\" type=\"sms\" [ngClass]=\"{'input-valid': formControls.sms.valid, 'input-invalid': isSubmitted && formControls.sms.errors}\" formControlName=\"sms\" >\n      <div *ngIf=\"isSubmitted && formControls.sms.invalid\" class=\"error-block\">\n        <div >{{'_SmsForm_form_error_sms_invalid_' | translate}}</div>\n      </div>\n    </div>\n\n    <div (click)=\"resetCode()\" class=\"help-block\">{{'_LoginForm_form_label_expired_sms_' | translate}}</div>\n    <div *ngIf=\"errorMessage\" class=\"error-block\">\n      {{'_LoginForm_form_error_' | translate}}\n    </div>\n    <div *ngIf=\"codeErreur\" class=\"error-block\">\n      {{'_LoginForm_form_error_sms_' | translate}}\n    </div>\n    <div class=\"block-submit\">\n      <input type=\"submit\" [ngClass]=\"!smsForm.invalid ? 'input-valid' : 'input-invalid'\" value=\"{{'_SmsForm_form_submit_continue_' | translate}}\">\n      <button\n      class=\"button input-error\"\n      (click)=\"return()\"\n      type=\"button\"\n      [translate]=\"'_Back_button_'\"></button>      \n      <div class=\"loader-content-input\">\n        <mat-progress-spinner  mode=\"indeterminate\" *ngIf=\"loader.showSpinner === true && isSubmitted\">\n        </mat-progress-spinner>\n      </div>\n    </div>\n\n  </form>\n\n</div>\n","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild, EventEmitter, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthenticationService, LoaderService } from 'src/app/services';\n\n@Component({\n  selector: 'app-sms-form',\n  templateUrl: './smsForm.component.html',\n  styleUrls: ['./smsForm.component.scss']\n})\nexport class SmsFormComponent implements AfterViewInit, OnInit {\n\n  @Output() verificationCodeSended: EventEmitter<boolean> = new EventEmitter();\n  @ViewChild('inputSms') searchElement: ElementRef;\n  private smsPattern =  '^[0-9_-]{6}';\n  public smsForm: FormGroup;\n  public isSubmitted = false;\n  public errorMessage: boolean;\n  public codeErreur: boolean;\n  public smsTitle: string;\n  public smsTitleHighlighted: string;\n  public desactiveReset: boolean = false;\n\n  constructor(\n    public loader: LoaderService,\n    public authenticationService: AuthenticationService,\n    private formBuilder: FormBuilder,\n    private translate: TranslateService,\n    private _router: Router\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.smsForm = this.formBuilder.group({\n      sms: ['', [Validators.required, Validators.pattern(this.smsPattern)]]\n    });\n    if (this.authenticationService.currentUserValue) {\n      this.smsTitle = this.translate.instant('_SmsForm_title_') +\n      `${this.authenticationService.currentUserValue['firstName']} ${this.authenticationService.currentUserValue['lastName']}` +\n      this.translate.instant('_SmsForm_title_highlighted_');\n      this.smsTitleHighlighted = `${this.authenticationService.currentUserValue['firstName']} ${this.authenticationService.currentUserValue['lastName']}` +\n      this.translate.instant('_SmsForm_title_highlighted_');\n      this.desactiveReset = false;\n    } else {\n      this.smsTitle = this.translate.instant('_SmsForm_title_');\n      this.smsTitleHighlighted = this.translate.instant('_SmsForm_title_highlighted_');\n      this.desactiveReset = true;\n    }\n\n  }\n\n  ngAfterViewInit() {\n    this.searchElement.nativeElement.focus();\n  }\n\n  get formControls() { return this.smsForm.controls; }\n\n  public validateVerificationCode() {\n\n    this.isSubmitted = true;\n    if (this.smsForm.invalid) {\n      setTimeout(() =>\n        this.isSubmitted = false, 4000\n      );\n      return;\n    }\n\n    this.authenticationService.smsVerificationCode(this.smsForm.controls.sms)\n    .subscribe(\n          (data) => {\n            this.isSubmitted = false;\n            // if http success 200\n            if (typeof data === 'boolean' && data === false) {\n              this.codeErreur = true;\n              setTimeout(() =>\n                this.codeErreur = false, 4000\n              );\n            }\n          },\n          (error) => {\n            this.isSubmitted = false;\n            if (error.status === 403) {\n              this.codeErreur = true;\n              setTimeout(() =>\n                this.codeErreur = false, 4000\n              );\n            } else {\n              this.errorMessage = true;\n              setTimeout(() =>\n              this.errorMessage = false, 4000\n              );\n            }\n          }\n      );\n  }\n\n  public resetCode() {\n    if (this.desactiveReset) {\n      this.authenticationService.getUserByCheck(this.authenticationService.loginCheck)\n      .subscribe(\n        (resp) => {\n        },\n        (err) => {\n        }\n    );\n    } else {\n      this.authenticationService.sendCode(this.authenticationService.currentUserValue.username);\n    }\n  }\n\n  public return() {\n    this.verificationCodeSended.emit(false);\n    this.authenticationService.logout();\n  }\n\n}\n","<div *ngIf=\"step === 1\" class=\"header\">\n    <h4 class=\"step\">{{'_Profil_user_form_create_' | translate}}</h4>\n    <app-highlight-title [title]=\"'_Profil_user_title_step_create_' | translate\"\n      [highlight]=\"['_Profil_user_title_highlighted_step_create_' | translate]\" [text]=\"'_Profil_user_text_step_create_'\"></app-highlight-title>\n</div>\n<div *ngIf=\"step === 2\" class=\"header\">\n    <h4 class=\"step\">{{'_Profil_user_form_update_' | translate}}</h4>\n    <app-highlight-title [title]=\"'_Profil_user_title_step_update_' | translate\"\n      [highlight]=\"['_Profil_user_title_highlighted_step_update_' | translate]\" [text]=\"'_Profil_user_text_step_update_'\"></app-highlight-title>\n</div>\n\n<form class=\"form\" autocomplete=\"off\" [formGroup]=\"userForm\" (ngSubmit)=\"onClickSubmit()\">\n\n  <!-- LASTNAME -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_nom.svg'\"\n      [srcInactive]=\"'ansm_icons/Picto_nom.svg'\" [altText]=\"'_Profil_user_form_field_lastname_' | translate\"\n      [label]=\"'_Profil_user_form_field_lastname_' | translate\">\n    </app-icon-text>\n    <div class=\"col-lg-7 p-0\">\n        <input [ngClass]=\"{'input-valid': userForm.controls.lastName.valid, 'input-invalid': ((userForm.controls.lastName.value && userForm.controls.lastName.value.length > 0) || isSubmitted) && userForm.controls.lastName.errors}\" type=\"text\" formControlName=\"lastName\" placeholder=\"{{'_Profil_user_form_field_lastname_' | translate}}\" (keyup)=emitName($event)>\n        <div class=\"error-block\" *ngIf=\"((userForm.controls.lastName.value && userForm.controls.lastName.value.length > 0) || isSubmitted) && userForm.controls.lastName.errors\">\n            {{'_Form_field_error_value_' | translate}}(*)\n        </div>\n    </div>\n  </div>\n  <!-- FIRSTNAME -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_prenom.svg'\"\n      [srcInactive]=\"'ansm_icons/Picto_prenom.svg'\" [altText]=\"'_Profil_user_form_field_firstname_' | translate\"\n      [label]=\"'_Profil_user_form_field_firstname_' | translate\">\n    </app-icon-text>\n    <div class=\"col-lg-7 p-0\">\n        <input [ngClass]=\"{'input-valid': userForm.controls.firstName.valid, 'input-invalid': ((userForm.controls.firstName.value && userForm.controls.firstName.value.length > 0) || isSubmitted) && userForm.controls.firstName.errors}\" type=\"text\" formControlName=\"firstName\" placeholder=\"{{'_Profil_user_form_field_firstname_' | translate}}\" (keyup)=emitName($event)>\n        <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.firstName.errors\">\n            {{'_Form_field_error_value_' | translate}}(*)\n        </div>\n    </div>  \n  </div>\n  <!-- E-MAIL -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_adresse_mail.svg'\"\n      [srcInactive]=\"'ansm_icons/Picto_adresse_mail.svg'\" [altText]=\"'_Profil_user_form_field_mail_' | translate\"\n      [label]=\"'_Profil_user_form_field_mail_' | translate\">\n    </app-icon-text>\n    <div class=\"col-lg-7 p-0\">\n        <input [ngClass]=\"{'input-valid': userForm.controls.mail.valid, 'input-invalid': ((userForm.controls.mail.value && userForm.controls.mail.value.length > 0) || isSubmitted) && userForm.controls.mail.errors}\" type=\"text\" formControlName=\"mail\" placeholder=\"{{'_Profil_user_form_field_mail_' | translate}}\">\n        <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.mail.errors\">\n            {{'_Form_field_error_value_' | translate}}(*)\n        </div>\n    </div> \n  </div>\n  <!-- LABO -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Laboratoire_actif.svg'\"\n      [srcInactive]=\"'ansm_icons/Laboratoire_actif.svg'\" [altText]=\"'_Profil_user_form_field_labo_' | translate\"\n      [label]=\"'_Profil_user_form_field_labo_' | translate\">\n    </app-icon-text>\n    <div class=\"dropdown col-lg-7 p-0\">\n      <div class=\"dropdown-toggle\" [ngClass]=\"{'dropdown-disable': false, 'dropdown-enable': true, 'input-color-disabled-grey': true, 'input-valid': (userForm.controls.labo.valid), 'input-invalid': (isSubmitted && userForm.controls.labo.invalid)}\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n        <div *ngIf=\"userForm.controls.labo.valid\" class=\"labelInput\">\n            {{userForm.controls.labo.value.name}}\n        </div>\n        <div *ngIf=\"userForm.controls.labo.invalid\" class=\"labelInput labelDefault\">\n          {{\"_Profil_user_form_field_labo_placeholder_\" | translate}}\n      </div>\n      </div>\n      <div class=\"dropdown-menu bottom-shadow\" aria-labelledby=\"dropdownMenuButton\">\n        <div class=\"picto-search\">\n          <input type=\"text\" [ngClass]=\"{'border-input': listLaboFound && listLaboFound.length > 0}\" placeholder=\"{{'_SoldOut_form_field_dci_search_' | translate}}\" (keyup)=\"onSearch($event)\">\n          <span></span>\n        </div>\n        <div *ngIf=\"listLaboFound\" class=\"dropdown-option\" [ngClass]=\"{'padding-top-and-bottom': listLaboFound && listLaboFound.length > 0}\">\n          <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n          </div>\n          <div class=\"dropdown-list\" *ngIf=\"loader.showSpinner === false\">\n            <div *ngFor=\"let item of listLaboFound; let i=index\" [ngClass]=\"{'checkbox-list': true}\">\n              <label class=\"dropdown-item\" (click)=\"onClickDropdown($event)\">\n                  <input type=\"checkbox\" [checked]=\"isCheckedLabo(item.id_hld)\" [value]=\"item.id_hld\" (change)=\"onChecked($event)\">\n                  <span class=\"checkmark\"></span>\n                  <div class=\"text-item\">{{item.nm_hld}} - {{item.type}} ({{item.id_hld}})</div>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"error-block\" *ngIf=\"(isSubmitted && userForm.controls.labo.invalid)\">\n        {{'_Form_field_error_value_list_' | translate}}(*)\n      </div>\n    </div>\n  </div>\n  <!-- TEL -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0 margin-exeption\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Code_sms.svg'\"\n      [srcInactive]=\"'ansm_icons/Code_sms.svg'\" [altText]=\"'_Profil_user_form_field_tel_' | translate\"\n      [label]=\"'_Profil_user_form_field_tel_' | translate\">\n    </app-icon-text>   \n    <div class=\"col-lg-7 p-0\">\n      <div class=\"d-flex\">\n        <input class=\"indctel\" [ngClass]=\"{'input-valid': userForm.controls.indctel.valid && userForm.controls.tel.valid, 'input-invalid': (((userForm.controls.tel.value && userForm.controls.tel.value.length > 3) || isSubmitted) && userForm.controls.tel.invalid) || (((userForm.controls.indctel.value && userForm.controls.indctel.value.length > 1) || isSubmitted ) && userForm.controls.indctel.invalid)}\" type=\"text\" formControlName=\"indctel\">\n        <input class=\"tel\" [ngClass]=\"{'input-valid': userForm.controls.tel.valid && userForm.controls.indctel.valid, 'input-invalid': (((userForm.controls.tel.value && userForm.controls.tel.value.length > 3) || isSubmitted) && userForm.controls.tel.invalid) || (((userForm.controls.indctel.value && userForm.controls.indctel.value.length > 1) || isSubmitted ) && userForm.controls.indctel.invalid)}\" type=\"text\" formControlName=\"tel\" placeholder=\"{{'_Profil_user_form_field_tel_' | translate}}\">\n      </div>\n      <div class=\"w-100\">\n        <small class=\"info-text-input\">{{'_Profil_user_form_field_phone_format_' | translate}}</small>\n        <div class=\"error-block\" *ngIf=\"isSubmitted && (userForm.controls.tel.invalid || userForm.controls.indctel.invalid)\">\n          {{'_Form_field_error_value_' | translate}}(*)\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- LOGIN -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Login.svg'\"\n      [srcInactive]=\"'ansm_icons/Login.svg'\" [altText]=\"'_LoginForm_form_field_login_' | translate\"\n      [label]=\"'_LoginForm_form_field_login_' | translate\">\n    </app-icon-text>\n    <div class=\"col-lg-7 p-0\">\n        <input [ngClass]=\"{'input-valid': userForm.controls.username.valid, 'input-invalid': (userForm.controls.username.value.length > 0 || isSubmitted) && userForm.controls.username.errors}\" type=\"login\" formControlName=\"username\" placeholder=\"{{'_LoginForm_form_field_login_' | translate}}\">\n        <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.username.errors\">\n            {{'_Form_field_error_value_' | translate}}(*)\n        </div>\n    </div> \n  </div>\n  <!-- PASSWORD -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"changePassword\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Mot-de-passe_actif.svg'\"\n      [srcInactive]=\"'ansm_icons/Mot-de-passe_inactif.svg'\" [altText]=\"'_LoginForm_form_field_password_' | translate\"\n      [label]=\"'_LoginForm_form_field_password_' | translate\">\n    </app-icon-text>\n    <div class=\"col-lg-7 p-0\">\n        <input id=\"password\" [attr.disabled]=\"changePassword ? null : true\" [ngClass]=\"{'input-valid': userForm.controls.password.valid, 'input-invalid': (userForm.controls.password.value.length > 0 || isSubmitted) && userForm.controls.password.errors}\" type=\"password\" formControlName=\"password\" placeholder=\"{{'_LoginForm_form_field_password_' | translate}}\">\n        <div class= \"d-flex float-left align-items-center\">\n          <input class=\"mr-1\" type=\"checkbox\" *ngIf=\"changePassword\" (click)=\"showPassword($event)\">\n          <div class=\"info-text-input\" *ngIf=\"changePassword\">{{'_Form_field_show_password_' | translate}}</div>\n          <div class=\"ml-2 d-flex align-items-center\" *ngIf=\"step === 2\">\n            <input class=\"mr-1\" type=\"checkbox\" (click)=\"changePasswordActif($event)\">\n            <div class=\"info-text-input\">{{'_Form_field_change_password_' | translate}}</div>\n          </div>\n        </div>\n        <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.password.errors\">\n            {{'_Form_field_error_value_' | translate}}(*)\n        </div>\n\n    </div> \n  </div>\n  <!-- CONFIRMPASSWORD -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"changePassword\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Mot-de-passe_actif.svg'\"\n    [srcInactive]=\"'ansm_icons/Mot-de-passe_inactif.svg'\" [altText]=\"'_LoginForm_form_field_confirm_password_' | translate\"\n    [label]=\"'_LoginForm_form_field_confirm_password_' | translate\">\n    </app-icon-text>\n    <div class=\"col-lg-7 p-0\">\n        <input id=\"confirmPassword\" [attr.disabled]=\"changePassword ? null : true\" [ngClass]=\"{'input-valid': userForm.controls.confirmPassword.valid, 'input-invalid': (userForm.controls.confirmPassword.value.length > 0 || isSubmitted) && userForm.controls.confirmPassword.errors}\" type=\"password\" formControlName=\"confirmPassword\" placeholder=\"{{'_LoginForm_form_field_password_' | translate}}\">\n        <div class= \"d-flex float-left align-items-center\">\n        <input \n            class=\"mr-1\" \n            type=\"checkbox\"  \n            *ngIf=\"changePassword\" \n            (click)=\"showPassword($event)\">\n        <div \n            class=\"info-text-input\"\n            *ngIf=\"changePassword\">{{'_Form_field_show_password_' | translate}}</div>\n        </div>\n        <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.confirmPassword.errors\">\n            {{'_Form_field_error_value_' | translate}}\n        </div>\n\n    </div> \n</div>\n  <!-- ROLE -->\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_role.svg'\"\n      [srcInactive]=\"'ansm_icons/Picto_role.svg'\" [altText]=\"'_Profil_user_form_field_role_' | translate\"\n      [label]=\"'_Profil_user_form_field_role_' | translate\">\n    </app-icon-text> \n    <div class=\"dropdown col-lg-7 p-0\">\n      <div class=\"dropdown-toggle\" [ngClass]=\"{'dropdown-disable': false, 'dropdown-enable': true, 'input-color-disabled-grey': true, 'input-valid': (userForm.controls.role.value), 'input-invalid': (isSubmitted && userForm.controls.role.invalid)}\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n        <div *ngIf=\"userForm.controls.role.valid\" class=\"labelInput\">\n            {{lblRoleUser(userForm.controls.role.value)}}\n        </div>\n        <div *ngIf=\"!userForm.controls.role.valid\" class=\"placeholderInput\">\n            {{'_Profil_user_form_field_role_placeholder_' | translate}}\n        </div>\n      </div>\n      <div class=\"dropdown-menu bottom-shadow\" aria-labelledby=\"dropdownMenuButton\">\n        <div *ngIf=\"roles\" class=\"dropdown-option\" [ngClass]=\"{'padding-top-and-bottom': roles && roles.length > 0}\">\n          <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n          </div>\n          <div class=\"dropdown-list\">\n            <div *ngFor=\"let item of roles; let i=index\" [ngClass]=\"{'default-list': 'default'}\">\n              <div class=\"dropdown-item\" (click)=\"onClickRoleOrStatus(item.role)\">{{item.lbl | translate}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"error-block\" *ngIf=\"(isSubmitted && userForm.controls.role.invalid)\">\n        {{'_Form_field_error_value_list_' | translate}}(*)\n      </div>\n    </div>\n  </div>\n  <!-- STATUS -->\n  <div class=\"row form-row last-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_statut.svg'\"\n      [srcInactive]=\"'ansm_icons/Picto_statut.svg'\" [altText]=\"'_Profil_user_form_field_status_' | translate\"\n      [label]=\"'_Profil_user_form_field_status_' | translate\">\n    </app-icon-text> \n    <div class=\"dropdown col-lg-7 p-0\">\n      <div class=\"dropdown-toggle\" [ngClass]=\"{'dropdown-disable': false, 'dropdown-enable': true, 'input-color-disabled-grey': true, 'input-valid': (userForm.controls.status.valid), 'input-invalid': (isSubmitted && userForm.controls.status.invalid)}\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n        <div class=\"labelInput\" [ngClass]=\"{'labelDefault': userForm.controls.status.invalid}\">\n            {{getStatus(userForm.controls.status.value) | translate}}\n        </div>\n      </div>\n      <div class=\"dropdown-menu bottom-shadow\" aria-labelledby=\"dropdownMenuButton\">\n        <div *ngIf=\"status\" class=\"dropdown-option\" [ngClass]=\"{'padding-top-and-bottom': status && status.length > 0}\">\n          <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n          </div>\n          <div class=\"dropdown-list\">\n            <div *ngFor=\"let item of status; let i=index\" [ngClass]=\"{'default-list': 'default'}\">\n              <div class=\"dropdown-item\" (click)=\"onClickRoleOrStatus(item)\">{{item.text | translate}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"error-block\" *ngIf=\"(isSubmitted && userForm.controls.status.invalid)\">\n        {{'_Form_field_error_value_list_' | translate}}(*)\n      </div>\n    </div>\n  </div>\n  <div class=\"block-submit\">\n    <div class=\"d-flex\">\n        <div class=\"block-flex-submit\">\n            <input type=\"submit\" [ngClass]=\"canSubmit(userForm.valid) ? 'input-valid' : 'input-invalid'\" value=\"{{'_DataEntry_form_submit_' | translate}}\">\n            <p *ngIf=\"isSubmitted && !canSubmit(userForm.valid)\" [translate]=\"'_Form_field_info_'\"></p>\n        </div>\n        <div class=\"loader-content-input\" *ngIf=\"loader.showSpinner === true && isSubmitted\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n        </div>\n    </div>\n    <div\n    class=\"message error-msg\"\n    *ngIf=\"sessionError\"\n    [translate]=\"'_Common_UnkownError_'\"></div>\n    <div\n    class=\"message error-msg\"\n    *ngIf=\"alreadyUsername\"\n    [translate]=\"'_Common_Username_Error_'\"></div>\n  </div>\n  <small [class.color-red]=\"isSubmitted\" *ngIf=\"userForm.invalid\">{{'_Form_field_invalid_value_' | translate}}</small>\n</form>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport * as bcrypt from 'bcryptjs';\nimport { first, switchMap } from 'rxjs/operators';\nimport { Labo, User } from 'src/app/models';\nimport { AuthenticationService, IndicatifsService, LoaderService, RolesService, UserService } from 'src/app/services';\n\n@Component({\n  selector: 'app-detail-user',\n  templateUrl: './detailUser.component.html',\n  styleUrls: ['./detailUser.component.scss']\n})\nexport class DetailUserComponent implements OnInit {\n  @Input() user: User;\n  @Input() userForm: FormGroup;\n  @Input() allLabo: Array<Labo>;\n  @Input() step: number;\n  @Input() changePassword: boolean;\n  @Output() nameSended: EventEmitter<string> = new EventEmitter();\n  @Output() modifIsSucces: EventEmitter<boolean> = new EventEmitter();\n  public listLaboFound: Array<Labo>;\n  public isSubmitted: boolean;\n  public roles: Array<any>;\n  public sessionError: boolean;\n  public alreadyUsername: boolean;\n  public status = [\n    {\n      text: '_Profil_user_form_field_status_actif_',\n      value: true\n    },\n    {\n      text: '_Profil_user_form_field_status_inactif_',\n      value: false\n    }\n  ];\n  constructor(\n    public loader: LoaderService,\n    public _indicatifsService: IndicatifsService,\n    public _rolesService: RolesService,\n    public _userService: UserService,\n    private _authentication: AuthenticationService,\n    ) {\n      this.roles = this._rolesService.allRoles;\n    }\n\n  ngOnInit(): void {\n    this.listLaboFound = this.allLabo;\n  }\n  // Methode qui simplifie l'appel du formulaire\n  get formControls() {\n    return this.userForm.controls;\n  }\n  public emitName(e) {\n    this.nameSended.emit(`${this.userForm.value.firstName} ${this.userForm.value.lastName}`);\n  }\n  // filtre parmie la liste de toutes les labo pour afficher celui correspondant à la recherche\n  public onSearch(e) {\n    const value = e.target.value;\n    if (!value) {\n      this.listLaboFound = this.allLabo;\n      return;\n    } else {\n      this.listLaboFound = this.allLabo.filter(x =>\n        x.nm_hld.toUpperCase().includes(value.toUpperCase())\n        ||\n        x.id_hld.toString().includes(value.toUpperCase())\n      );\n    }\n  }\n  public onClickDropdown(e) {\n    e.stopPropagation();\n  }\n  public showPassword(e) {\n    const input = e.target.offsetParent.childNodes[0];\n    if (input.type === 'password') {\n      input.type = 'text';\n    } else {\n      input.type = 'password';\n    }\n  }\n  public changePasswordActif(e) {\n    this.userForm.controls.password.setValue('');\n    this.userForm.controls.confirmPassword.setValue('');\n    const checked = e.target.checked;\n    this.changePassword = checked;\n    if (!checked) {\n      this.userForm.controls.password.setValue(this.user.password);\n      this.userForm.controls.confirmPassword.setValue(this.user.password);\n    }\n  }\n  public onClickRoleOrStatus(item: any) {\n    if (typeof item === 'string') {\n      this.userForm.controls.role.setValue(item);\n    } else {\n      this.userForm.controls.status.setValue(item.value);\n    }\n  }\n  public onChecked(e) {\n    const checked = e.target.checked;\n    const labo = this.allLabo.find(x => x.id_hld === Number(e.target.value));\n    if (checked) {\n      this.userForm.controls.labo.setValue( {\n        id: labo.id_hld,\n        name: labo.nm_hld\n      });\n    } else if (!checked) {\n    this.userForm.controls.labo.setValue(\n      new Labo()\n    );\n    } else {\n      return;\n    }\n\n\n  }\n  public lblRoleUser(role: string) {\n    return this.roles.find(x => x.role === role).lbl;\n  }\n  public isCheckedLabo(data: number): boolean {\n      if (this.userForm.controls.labo.value.id === data) {\n        return true;\n      } else {\n        return false;\n      }\n  }\n  public getStatus(status) {\n    if (typeof status === 'boolean') {\n      return this.status.find(x => x.value === status).text;\n    } else {\n      return '_Profil_user_form_field_status_placeholder_';\n    }\n  }\n  // envoi du formulaire\n  public onClickSubmit() {\n    this.isSubmitted = true;\n    if (!this.canSubmit(this.userForm.valid)) {\n      return;\n    }\n    const salt = bcrypt.genSaltSync(12);\n    const tech_user = {\n      id: this.user.id,\n      username: this.userForm.controls.username.value,\n      password: this.userForm.controls.password.value,\n      status: this.userForm.controls.status.value,\n      role: this.userForm.controls.role.value\n    };\n    const ref_user = {\n      id: this.user.id,\n      lastName: this.userForm.controls.lastName.value,\n      firstName: this.userForm.controls.firstName.value,\n      email: this.userForm.controls.mail.value,\n      username: this.userForm.controls.username.value,\n      labo: this.userForm.controls.labo.value.id,\n      tel: `${this.userForm.controls.indctel.value}${this.userForm.controls.tel.value}`,\n    };\n    tech_user.password = bcrypt.hashSync(tech_user.password, salt);\n    if (this.step === 1) {\n      // creation d'un user\n      this._createNewUser(tech_user, ref_user);\n    } else if (this.step === 2) {\n      // màj d'un user\n      this._updateUser(tech_user, ref_user);\n    } else {\n      return;\n    }\n  }\n\n  public canSubmit(formValid): boolean {\n    if (formValid) {\n      const isDiff: boolean =\n        this.user.username !== this.userForm.value.username\n        ||\n        this.user.lastName !== this.userForm.value.lastName\n        ||\n        this.user.firstName !== this.userForm.value.firstName\n        ||\n        this.user.email !== this.userForm.value.mail\n        ||\n        this.user.tel !== `${this.userForm.value.indctel}${this.userForm.value.tel}`\n        ||\n        this.user.labo !== this.userForm.value.labo.id\n        ||\n        this.user.role !== this.userForm.value.role\n        ||\n        this.user.status !== this.userForm.value.status\n        ||\n        this.changePassword ? true : false;\n      return isDiff;\n    } else {\n      return false;\n    }\n  }\n\n  private _createNewUser(tech_user: User, ref_user: User) {\n    this._userService.createUser(tech_user)\n    .pipe(\n      first(),\n      switchMap(id => this._userService.createRefUser(ref_user, id)),\n    )\n    .subscribe(\n        (resp) => {\n          this.isSubmitted = false;\n          if (resp === true) {\n            this.modifIsSucces.emit(true);\n          } else {\n            this.alreadyUsername = true;\n            setTimeout(() =>\n            this.alreadyUsername = false, 4000\n          );\n          }\n        },\n        (error) => {\n          this.isSubmitted = false;\n          this.sessionError = true;\n          setTimeout(() =>\n            this.sessionError = false, 4000\n          );\n        }\n    );\n  }\n  private _updateUser(tech_user: User, ref_user: User) {\n    this._userService.updateUser(tech_user, this.changePassword)\n    .pipe(\n      first(),\n      switchMap(d => this._userService.updateRefUser(ref_user, d)),\n    )\n    .subscribe(\n        (resp) => {\n          if (resp === true && ref_user.id === this._authentication.currentUserValue.id) {\n            this._authentication.currentUserValue.email = ref_user.email;\n            this._authentication.currentUserValue.firstName = ref_user.firstName;\n            this._authentication.currentUserValue.labo = ref_user.labo;\n            this._authentication.currentUserValue.lastName = ref_user.lastName;\n            this._authentication.currentUserValue.role = tech_user.role;\n            this._authentication.currentUserValue.tel = ref_user.tel;\n            this._authentication.currentUserValue.username = ref_user.username;\n            localStorage.setItem('currentUser', JSON.stringify(this._authentication.currentUserValue));\n          }\n          this.isSubmitted = false;\n          if (resp === true) {\n            this.modifIsSucces.emit(true);\n          } else {\n            this.alreadyUsername = true;\n            setTimeout(() =>\n              this.alreadyUsername = false, 4000\n            );\n          }\n        },\n        (error) => {\n          this.isSubmitted = false;\n          this.sessionError = true;\n          setTimeout(() =>\n            this.sessionError = false, 4000\n          );\n        }\n    );\n    }\n\n}\n","\n<div class=\"row height-max-content\">\n    <div class=\"left-menu p-0 col-lg-1\">\n        <app-navbar class=\"navbar\"></app-navbar>\n    </div>\n    <div class=\"col-lg-11 right-content\">\n        <div\n        class=\"message success-msg\"\n        *ngIf=\"sessionSucces === true\"\n        [translate]=\"'_Profil_Update_Success_'\">\n        </div>\n        <div\n        class=\"message error-msg\"\n        *ngIf=\"alreadyUsername\"\n        [translate]=\"'_Common_Username_Error_'\"></div>\n        <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n          <mat-progress-spinner  mode=\"indeterminate\">\n          </mat-progress-spinner>\n        </div>\n        \n        <div *ngIf=\"loader.showSpinner === false\">\n            <div class=\"header\">\n                <h4 class=\"step\">{{'_Profil_user_form_update_personnel_' | translate}}</h4>\n                <app-highlight-title [title]=\"'_Profil_user_title_step_update_' | translate\"\n                [highlight]=\"['_Profil_user_title_highlighted_step_update_' | translate]\" [text]=\"'_Profil_user_text_step_update_'\"></app-highlight-title>\n            </div>\n            \n            <form class=\"form\" autocomplete=\"off\" [formGroup]=\"userForm\" (ngSubmit)=\"onClickSubmit()\">\n            \n            <!-- LOGIN -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Login.svg'\"\n                [srcInactive]=\"'ansm_icons/Login.svg'\" [altText]=\"'_LoginForm_form_field_login_' | translate\"\n                [label]=\"'_LoginForm_form_field_login_' | translate\">\n                </app-icon-text>\n                <div class=\"col-lg-7 p-0\">\n                    <input [ngClass]=\"{'input-valid': userForm.controls.username.valid, 'input-invalid': ((userForm.controls.username.value && userForm.controls.username.value.length > 0) || isSubmitted) && userForm.controls.username.errors}\" type=\"login\" formControlName=\"username\" placeholder=\"{{'_LoginForm_form_field_login_' | translate}}\">\n                    <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.username.errors\">\n                        {{'_Form_field_error_value_' | translate}}\n                    </div>\n                </div> \n            </div>\n            <!-- LASTNAME -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_nom.svg'\"\n                [srcInactive]=\"'ansm_icons/Picto_nom.svg'\" [altText]=\"'_Profil_user_form_field_lastname_' | translate\"\n                [label]=\"'_Profil_user_form_field_lastname_' | translate\">\n                </app-icon-text>\n                <div class=\"col-lg-7 p-0\">\n                    <input [ngClass]=\"{'input-valid': userForm.controls.lastName.valid, 'input-invalid': ((userForm.controls.lastName.value && userForm.controls.lastName.value.length > 0) || isSubmitted) && userForm.controls.lastName.errors}\" type=\"text\" formControlName=\"lastName\" placeholder=\"{{'_Profil_user_form_field_lastname_' | translate}}\">\n                    <div class=\"error-block\" *ngIf=\"((userForm.controls.lastName.value && userForm.controls.lastName.value.length > 0) || isSubmitted) && userForm.controls.lastName.errors\">\n                        {{'_Form_field_error_value_' | translate}}\n                    </div>\n                </div>\n            </div>\n            <!-- FIRSTNAME -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_prenom.svg'\"\n                [srcInactive]=\"'ansm_icons/Picto_prenom.svg'\" [altText]=\"'_Profil_user_form_field_firstname_' | translate\"\n                [label]=\"'_Profil_user_form_field_firstname_' | translate\">\n                </app-icon-text>\n                <div class=\"col-lg-7 p-0\">\n                    <input [ngClass]=\"{'input-valid': userForm.controls.firstName.valid, 'input-invalid': ((userForm.controls.firstName.value && userForm.controls.firstName.value.length > 0) || isSubmitted) && userForm.controls.firstName.errors}\" type=\"text\" formControlName=\"firstName\" placeholder=\"{{'_Profil_user_form_field_firstname_' | translate}}\">\n                    <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.firstName.errors\">\n                        {{'_Form_field_error_value_' | translate}}\n                    </div>\n                </div>  \n            </div>\n            <!-- E-MAIL -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Picto_adresse_mail.svg'\"\n                [srcInactive]=\"'ansm_icons/Picto_adresse_mail.svg'\" [altText]=\"'_Profil_user_form_field_mail_' | translate\"\n                [label]=\"'_Profil_user_form_field_mail_' | translate\">\n                </app-icon-text>\n                <div class=\"col-lg-7 p-0\">\n                    <input [ngClass]=\"{'input-valid': userForm.controls.mail.valid, 'input-invalid': ((userForm.controls.mail.value && userForm.controls.mail.value.length > 0) || isSubmitted) && userForm.controls.mail.errors}\" type=\"text\" formControlName=\"mail\" placeholder=\"{{'_Profil_user_form_field_mail_' | translate}}\">\n                    <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.mail.errors\">\n                        {{'_Form_field_error_value_' | translate}}\n                    </div>\n                </div> \n            </div>\n            <!-- TEL -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0 margin-exeption\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Code_sms.svg'\"\n                [srcInactive]=\"'ansm_icons/Code_sms.svg'\" [altText]=\"'_Profil_user_form_field_tel_' | translate\"\n                [label]=\"'_Profil_user_form_field_tel_' | translate\">\n                </app-icon-text>   \n                <div class=\"col-lg-7 p-0\">\n                <div class=\"d-flex\">\n                    <input class=\"indctel\" [ngClass]=\"{'input-valid': userForm.controls.indctel.valid && userForm.controls.tel.valid, 'input-invalid': (((userForm.controls.tel.value && userForm.controls.tel.value.length > 3) || isSubmitted) && userForm.controls.tel.invalid) || (((userForm.controls.indctel.value && userForm.controls.indctel.value.length > 1) || isSubmitted ) && userForm.controls.indctel.invalid)}\" type=\"text\" formControlName=\"indctel\">\n                    <input class=\"tel\" [ngClass]=\"{'input-valid': userForm.controls.tel.valid && userForm.controls.indctel.valid, 'input-invalid': (((userForm.controls.tel.value && userForm.controls.tel.value.length > 3) || isSubmitted) && userForm.controls.tel.invalid) || (((userForm.controls.indctel.value && userForm.controls.indctel.value.length > 1) || isSubmitted ) && userForm.controls.indctel.invalid)}\" type=\"text\" formControlName=\"tel\" placeholder=\"{{'_Profil_user_form_field_tel_' | translate}}\">\n                </div>\n                <div class=\"w-100\">\n                    <small class=\"info-text-input\">{{'_Profil_user_form_field_phone_format_' | translate}}</small>\n                    <div class=\"error-block\" *ngIf=\"isSubmitted && (userForm.controls.tel.invalid || userForm.controls.indctel.invalid)\">\n                    {{'_Form_field_error_value_' | translate}}\n                    </div>\n                </div>\n                </div>\n            </div>\n            <!-- PASSWORD -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"changePassword\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Mot-de-passe_actif.svg'\"\n                [srcInactive]=\"'ansm_icons/Mot-de-passe_inactif.svg'\" [altText]=\"'_LoginForm_form_field_password_' | translate\"\n                [label]=\"'_LoginForm_form_field_password_' | translate\">\n                </app-icon-text>\n                <div class=\"col-lg-7 p-0\">\n                    <input id=\"password\" [attr.disabled]=\"changePassword ? null : true\" [ngClass]=\"{'input-valid': userForm.controls.password.valid, 'input-invalid': (userForm.controls.password.value.length > 0 || isSubmitted) && userForm.controls.password.errors}\" type=\"password\" formControlName=\"password\" placeholder=\"{{'_LoginForm_form_field_password_' | translate}}\">\n                    <div class= \"d-flex float-left align-items-center\">\n                    <input \n                        class=\"mr-1\" \n                        type=\"checkbox\"  \n                        *ngIf=\"changePassword\" \n                        (click)=\"showPassword($event)\">\n                    <div \n                        class=\"info-text-input\"\n                        *ngIf=\"changePassword\">{{'_Form_field_show_password_' | translate}}</div>\n                    <div class=\"ml-2 d-flex align-items-center\">\n                        <input class=\"mr-1\" type=\"checkbox\" (click)=\"changePasswordActif($event)\">\n                        <div class=\"info-text-input\">{{'_Form_field_change_password_' | translate}}</div>\n                    </div>\n                    </div>\n                    <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.password.errors\">\n                        {{'_Form_field_error_value_' | translate}}\n                    </div>\n            \n                </div> \n            </div>\n            <!-- CONFIRMPASSWORD -->\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"changePassword\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Mot-de-passe_actif.svg'\"\n                [srcInactive]=\"'ansm_icons/Mot-de-passe_inactif.svg'\" [altText]=\"'_LoginForm_form_field_confirm_password_' | translate\"\n                [label]=\"'_LoginForm_form_field_confirm_password_' | translate\">\n                </app-icon-text>\n                <div class=\"col-lg-7 p-0\">\n                    <input id=\"confirmPassword\" [attr.disabled]=\"changePassword ? null : true\" [ngClass]=\"{'input-valid': userForm.controls.confirmPassword.valid, 'input-invalid': (userForm.controls.confirmPassword.value.length > 0 || isSubmitted) && userForm.controls.confirmPassword.errors}\" type=\"password\" formControlName=\"confirmPassword\" placeholder=\"{{'_LoginForm_form_field_password_' | translate}}\">\n                    <div class= \"d-flex float-left align-items-center\">\n                    <input \n                        class=\"mr-1\" \n                        type=\"checkbox\"  \n                        *ngIf=\"changePassword\" \n                        (click)=\"showPassword($event)\">\n                    <div \n                        class=\"info-text-input\"\n                        *ngIf=\"changePassword\">{{'_Form_field_show_password_' | translate}}</div>\n                    </div>\n                    <div class=\"error-block\" *ngIf=\"isSubmitted && userForm.controls.confirmPassword.errors\">\n                        {{'_Form_field_error_value_' | translate}}\n                    </div>\n            \n                </div> \n            </div>\n            \n                <div class=\"block-submit\">\n                    <div class=\"d-flex\">\n                        <div class=\"block-flex-submit\">\n                            <input type=\"submit\" [ngClass]=\"canSubmit(userForm.valid) ? 'input-valid' : 'input-invalid'\" value=\"{{'_DataEntry_form_submit_' | translate}}\">\n                            <p *ngIf=\"isSubmitted && !canSubmit(userForm.valid)\" [translate]=\"'_Form_field_info_'\"></p>\n                        </div>\n                        <div class=\"loader-content-input\" *ngIf=\"loader.showSpinner === true && isSubmitted\">\n                            <mat-progress-spinner  mode=\"indeterminate\">\n                            </mat-progress-spinner>\n                        </div>\n                    </div>\n                    <div\n                    class=\"message error-msg\"\n                    *ngIf=\"sessionError\"\n                    [translate]=\"'_Common_UnkownError_'\"></div>\n                </div>\n            </form>\n        </div>\n\n    </div>  \n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport * as bcrypt from 'bcryptjs';\nimport { first, switchMap } from 'rxjs/operators';\nimport { User } from 'src/app/models';\nimport { AuthenticationService, LoaderService, UserService } from 'src/app/services';\n\n@Component({\n  selector: 'app-profil',\n  templateUrl: './profil.component.html',\n  styleUrls: ['./profil.component.scss']\n})\nexport class ProfilComponent implements OnInit {\n  public userForm: FormGroup;\n  public isSubmitted: boolean;\n  public changePassword: boolean;\n  public sessionError: boolean;\n  public sessionSucces: boolean;\n  public alreadyUsername: boolean;\n  private _user: User;\n\n  constructor(\n    public loader: LoaderService,\n    private readonly _authentication: AuthenticationService,\n    private readonly _userService: UserService,\n    private _formBuilder: FormBuilder\n    ) {\n      this._setInfoUser(this._authentication.currentUserValue);\n      this._setForm();\n    }\n\n  ngOnInit(): void {\n  }\n\n  // Methode qui simplifie l'appel du formulaire\n  get formControls() {\n    return this.userForm.controls;\n  }\n  public showPassword(e) {\n    const input = e.target.offsetParent.childNodes[0];\n    if (input.type === 'password') {\n      input.type = 'text';\n    } else {\n      input.type = 'password';\n    }\n  }\n  public changePasswordActif(e) {\n    this.userForm.controls.password.setValue('');\n    this.userForm.controls.confirmPassword.setValue('');\n    const checked = e.target.checked;\n    this.changePassword = checked;\n    if (!checked) {\n      this.userForm.controls.password.setValue('xxxxxxxx');\n      this.userForm.controls.confirmPassword.setValue('xxxxxxxx');\n    }\n  }\n\n  // envoi du formulaire\n  public onClickSubmit() {\n    this.isSubmitted = true;\n    if (!this.canSubmit(this.userForm.valid)) {\n      return;\n    }\n    const tech_user = {\n      id: this._user.id,\n      status: this._user.status,\n      role: this._user.role,\n      username: this.userForm.controls.username.value,\n      password: this.userForm.controls.password.value\n    };\n    const ref_user = {\n      id: this._user.id,\n      labo: this._user.labo,\n      lastName: this.userForm.controls.lastName.value,\n      firstName: this.userForm.controls.firstName.value,\n      email: this.userForm.controls.mail.value,\n      username: this.userForm.controls.username.value,\n      tel: `${this.userForm.controls.indctel.value}${this.userForm.controls.tel.value}`\n    };\n    const salt = bcrypt.genSaltSync(12);\n    tech_user.password = bcrypt.hashSync(tech_user.password, salt);\n      this._updateUser(tech_user, ref_user);\n  }\n\n  public canSubmit(formValid): boolean {\n    if (formValid) {\n      const isDiff: boolean =\n        this._user.username !== this.userForm.value.username\n        ||\n        this._user.lastName !== this.userForm.value.lastName\n        ||\n        this._user.firstName !== this.userForm.value.firstName\n        ||\n        this._user.email !== this.userForm.value.mail\n        ||\n        this._user.tel !== `${this.userForm.value.indctel}${this.userForm.value.tel}`\n        ||\n        this.changePassword ? true : false;\n      return isDiff;\n    } else {\n      return false;\n    }\n  }\n\n  private _setInfoUser(user: User) {\n    this._user = new User();\n    this._user.id = user.id;\n    this._user.labo = user.labo;\n    this._user.role = user.role;\n    this._user.status = true;\n    this._user.firstName = user.firstName;\n    this._user.username = user.username;\n    this._user.email = user.email;\n    this._user.tel = user.tel;\n    this._user.lastName = user.lastName;\n  }\n  private _updateUser(tech_user: User, ref_user: User) {\n    this._userService.updateUser(tech_user, this.changePassword)\n    .pipe(\n      first(),\n      switchMap(d => this._userService.updateRefUser(ref_user, d)),\n    )\n    .subscribe(\n        (resp) => {\n          this.isSubmitted = false;\n          if (resp === true) {\n            this._authentication.currentUserValue.firstName = ref_user.firstName;\n            this._authentication.currentUserValue.username = ref_user.username;\n            this._authentication.currentUserValue.email = ref_user.email;\n            this._authentication.currentUserValue.tel = ref_user.tel;\n            this._authentication.currentUserValue.lastName = ref_user.lastName;\n            localStorage.setItem('currentUser', JSON.stringify(this._authentication.currentUserValue));\n            this._setInfoUser(this._authentication.currentUserValue);\n            this.sessionSucces = true;\n            setTimeout(() =>\n              this.sessionSucces = false, 4000\n            );\n          } else {\n            this.alreadyUsername = true;\n            setTimeout(() =>\n              this.alreadyUsername = false, 4000\n            );\n          }\n        },\n        (error) => {\n          this.isSubmitted = false;\n          this.sessionError = true;\n          setTimeout(() =>\n            this.sessionError = false, 4000\n          );\n        }\n    );\n  }\n  private _setForm() {\n    const telIndc = this._user.tel ? this._user.tel.substring(0, 2) : 33;\n    const tel = this._user.tel ? this._user.tel.substring(2, this._user.tel.length) : undefined;\n    this.userForm = this._formBuilder.group({\n      lastName: [this._user.lastName, Validators.required],\n      firstName: [this._user.firstName, Validators.required],\n      mail: [this._user.email, [Validators.required, Validators.email]],\n      indctel: [telIndc, [Validators.required, Validators.pattern(/^\\d{2,3}$/)]],\n      tel: [tel, [Validators.required, Validators.pattern(/^\\d{4,12}$/)]],\n      password: ['xxxxxxxx', Validators.required],\n      confirmPassword: ['xxxxxxxx', Validators.required],\n      username: [this._user.username, Validators.required]\n    }, {\n      validator: this._mustMatch('password', 'confirmPassword')\n    });\n  }\n\n  private _mustMatch(controlName: string, matchingControlName: string) {\n    return (formGroup: FormGroup) => {\n        const control = formGroup.controls[controlName];\n        const matchingControl = formGroup.controls[matchingControlName];\n\n        if (matchingControl.errors && !matchingControl.errors.mustMatch) {\n            // return if another validator has already found an error on the matchingControl\n            return;\n        }\n\n        // set error on matchingControl if validation fails\n        if (control.value !== matchingControl.value) {\n            matchingControl.setErrors({ mustMatch: true });\n        } else {\n            matchingControl.setErrors(null);\n        }\n    };\n  }\n\n\n}\n","<div class=\"row height-max-content\">\n  <div class=\"left-menu col-lg-3\">\n    <div class=\"top-menu\">\n      <h2>{{'_Home_label_user_update_' | translate}}</h2>\n      <div class=\"ml-1\" *ngIf=\"userName && userName.length > 1\">\n        <h3 *ngIf=\"step === 2\">{{'_Home_label_user_selected_' | translate}} :</h3>\n        <h3 *ngIf=\"step === 1\">{{'_Home_label_user_created_' | translate}} :</h3>\n        <div class=\"userName title\">{{userName}}</div>\n      </div>\n    </div>\n\n    <div class=\"down-menu\">  \n      <app-dropdown class=\"col-lg-7 p-0\" [title]=\"'_Profil_user_dropdown_title_' | translate\" [active]=\"true\" [search]=\"true\" [typeOfData]=\"'user'\" [dropdownToggleLabel]=\"labelDropdown\" [data]=\"listUserFound\" [typeOfList]=\"'checkbox'\" (presentData)=\"handleData($event)\" (keyUpEvent)=\"handleOnSearch($event)\"></app-dropdown>\n      <div class=\"navigate-btn\" [ngClass]=\"{'active': step === 1}\" (click)=\"addUser()\">\n        <img [src]=\"'/assets/images/ansm_icons/Plus_ajouter.svg'\" alt=\"_Profil_user_add_\">\n        <p>{{'_Profil_user_add_' | translate}}</p>\n      </div>\n    </div>\n\n\n  </div>\n  <app-navbar class=\"navbar\"></app-navbar>\n  <div class=\"col-lg-9 right-content\">\n    <div\n    class=\"message success-msg\"\n    *ngIf=\"sessionSucces === true\"\n    [translate]=\"'_Profil_Update_Success_'\">\n    </div>\n    <div class=\"empty-state\" *ngIf=\"step === 0\">\n      <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n        <mat-progress-spinner  mode=\"indeterminate\">\n        </mat-progress-spinner>\n      </div>\n      <div *ngIf=\"loader.showSpinner === false\">\n        <img class=\"empty-state-img\" src=\"/assets/images/ansm_icons/Look_for_user_illu.png\" [alt]=\"'_Profil_user_empty_state_title_' | translate\">\n        <h2 class=\"empty-state-title\">{{'_Profil_user_empty_state_title_' | translate}}</h2>\n        <h3 class=\"empty-state-subtitle\">{{'_Profil_user_state_subtitle_' | translate}}</h3>\n      </div>\n    </div>\n    <app-detail-user *ngIf=\"step > 0\"\n      [changePassword]=\"step === 1\"\n      [user]=\"selectUser\"\n      [userForm]=\"userForm\"\n      [step]=\"step\"\n      [allLabo]=\"allLabo\"\n      (nameSended)=\"handleUserName($event)\"\n      (modifIsSucces)=\"handleSuccess($event)\">\n    </app-detail-user>\n  </div>\n  \n</div>\n  \n  \n  \n  \n  \n  \n  ","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Labo, User } from 'src/app/models';\nimport { LoaderService, UserService } from 'src/app/services';\n\n@Component({\n  selector: 'app-profil-user',\n  templateUrl: './profilUser.component.html',\n  styleUrls: ['./profilUser.component.scss']\n})\nexport class ProfilUserComponent implements OnInit {\n  public userName: string;\n  public userForm: FormGroup;\n  public selectUser: User;\n  public step: number;\n  public allUser: Array<User>;\n  public allLabo: Array<Labo>;\n  public labelDropdown = '';\n  public listUserFound: Array<User>;\n  public sessionSucces: boolean;\n\n\n  constructor(\n    private readonly _userService: UserService,\n    private _formBuilder: FormBuilder,\n    public loader: LoaderService,\n  ) {\n    this._getUsers();\n    this._getLabo();\n    this.step = 0;\n  }\n\n  ngOnInit() {\n  }\n  public handleSuccess(e: boolean) {\n    this._getUsers();\n    this._getLabo();\n    this.selectUser = undefined;\n    this.userName = undefined;\n    this.labelDropdown = '';\n    this.step = 0;\n    this.sessionSucces = true;\n    setTimeout(() =>\n      this.sessionSucces = false, 4000\n    );\n  }\n  public handleUserName(e: string) {\n    this.userName = e;\n  }\n  public handleData(e) {\n    const user = e;\n    this.selectUser = user;\n    this.userName = `${user.firstName} ${user.lastName}`;\n    this.labelDropdown = `${user.firstName} ${user.lastName}`;\n    const telIndc = user.tel ? user.tel.substring(0, 2) : 33;\n    const tel = user.tel ? user.tel.substring(2, user.tel.length) : undefined;\n    this.userForm = this._formBuilder.group({\n      lastName: [user.lastName, Validators.required],\n      firstName: [user.firstName, Validators.required],\n      mail: [user.email, [Validators.required, Validators.email]],\n      labo: [{id: user.labo, name: user.laboName}, Validators.required],\n      indctel: [telIndc, [Validators.required, Validators.pattern(/^\\d{2,3}$/)]],\n      tel: [tel, [Validators.required, Validators.pattern(/^\\d{4,12}$/)]],\n      password: [user.password, Validators.required],\n      confirmPassword: [user.password, Validators.required],\n      username: [user.username, Validators.required],\n      status: [user.status, Validators.required],\n      role: [user.role, Validators.required]\n    }, {\n      validator: [this._mustMatch('password', 'confirmPassword'), this.laboValidator('labo')]\n    });\n    this.handleStep(2);\n  }\n  // enregistre dans step le numero de l'etape en cours\n  public handleStep(step: number) {\n    this.step = step;\n  }\n  public handleOnSearch(e) {\n    const value = e.target.value.toUpperCase();\n    this.listUserFound = [];\n    if (!e.target.value) {\n      this.listUserFound = this.allUser;\n      return;\n    } else {\n      const listUserFound =\n        this.allUser.filter( x =>\n          x.firstName.toUpperCase().includes(value) ||\n          x.lastName.toUpperCase().includes(value) ||\n          x.laboName.toUpperCase().includes(value)\n        );\n      listUserFound.forEach(element => {\n        if (!this.listUserFound.find(x => x.id === element.id)) {\n          this.listUserFound.push(element);\n        }\n      });\n    }\n  }\n  public addUser() {\n    this.handleStep(1);\n    this.userName = '';\n    this.labelDropdown = '';\n    this.selectUser = new User;\n    this.userForm = this._formBuilder.group({\n      lastName: ['', Validators.required],\n      firstName: ['', Validators.required],\n      mail: ['', [Validators.required, Validators.email]],\n      labo: [Labo, Validators.required],\n      indctel: [33, [Validators.required, Validators.pattern(/^\\d{2,3}$/)]],\n      tel: ['', [Validators.required, Validators.pattern(/^\\d{4,12}$/)]],\n      password: ['', Validators.required],\n      confirmPassword: ['', Validators.required],\n      username: ['', Validators.required],\n      status: ['', Validators.required],\n      role: ['', Validators.required]\n    }, {\n      validator: this._mustMatch('password', 'confirmPassword')\n    });\n  }\n  private _getUsers() {\n    this._userService.getUsers().subscribe(\n      (resp) => {\n        if (typeof resp === 'boolean' && resp === true) {\n          this.allUser = this._userService.getResults();\n          this.listUserFound = this._userService.getResults();\n        } else {\n          return;\n        }\n      },\n      () => {\n        return;\n      }\n    );\n  }\n  // Charge les nom des labo à afficher\n  private _getLabo() {\n    this._userService.getLabo()\n    .subscribe(\n      (resp) => {\n        if (resp.length > 0) {\n          this.allLabo = resp;\n        } else {\n          return;\n        }\n      },\n      (err) => {\n        return;\n      }\n    );\n  }\n\n\n  private laboValidator(controlName: any) {\n    return (formGroup: FormGroup) => {\n      const control = formGroup.controls[controlName];\n      if (control.errors) {\n          // return if another validator has already found an error on the matchingControl\n          return;\n      }\n      // set error on matchingControl if validation fails\n      if (!control.value.id) {\n          control.setErrors({ error: true });\n      } else {\n          control.setErrors(null);\n      }\n  };\n\n  }\n  private _mustMatch(controlName: string, matchingControlName: string) {\n    return (formGroup: FormGroup) => {\n        const control = formGroup.controls[controlName];\n        const matchingControl = formGroup.controls[matchingControlName];\n\n        if (matchingControl.errors && !matchingControl.errors.mustMatch) {\n            // return if another validator has already found an error on the matchingControl\n            return;\n        }\n\n        // set error on matchingControl if validation fails\n        if (control.value !== matchingControl.value) {\n            matchingControl.setErrors({ mustMatch: true });\n        } else {\n            matchingControl.setErrors(null);\n        }\n    };\n  }\n}\n","<div class=\"row height-max-content\">\n    <div class=\"left-menu col-lg-4\">\n      <div class=\"top-menu\">\n        <h2>{{'_SoldOut_create_main_title_' | translate}}</h2>\n        <div class=\"ml-1\">\n          <h3 *ngIf=\"nbSession\">RUPT_{{nbSession}}</h3>\n          <div class=\"container-details-top-menu\">\n            <h4 *ngIf=\"firstStepData.name\" class=\"title\">{{firstStepData.name}}</h4>\n            <div *ngIf=\"firstStepData.subst\" class=\"block-selectedDci\">\n              <div *ngFor=\"let subst of firstStepData.subst\" class=\"selectedDci\" >{{subst.nm_subst}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n  \n      <div class=\"down-menu\">\n        <div *ngFor=\"let step of steps\" [ngClass]=\"{'navigate-btn': step.data === true}\" (click)=\"navigateBeetweenStep(step.step)\">\n          <app-icon-text [colorInactive]=\"'white'\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'28px'\" [active]=\"step.active\" [srcActive]=\"step.srcActive\" [srcInactive]=\"step.srcInactive\"\n            [altText]=\"step.altText | translate\" [label]=\"step.label | translate\">\n          </app-icon-text>\n        </div>\n      </div>\n  \n  \n    </div>\n    <app-navbar class=\"navbar\"></app-navbar>\n  \n    <div class=\"col-lg-8 right-content\">\n      <div class=\"loader-content\" *ngIf=\"step === 0 && loader.showSpinner === true\">\n        <mat-progress-spinner  mode=\"indeterminate\">\n        </mat-progress-spinner>\n      </div>\n      <app-step-one *ngIf=\"step === 1\"\n        [data]=\"firstStepData\" \n        [subst]=\"subst\"\n        (firstFormSended)=\"handleFirstForm($event)\" \n        (nameSended)=\"handleName($event)\" \n        (substSended)=\"handleSubst($event)\" \n        (nextStep)=\"handleStep($event)\">\n      </app-step-one>\n      <app-step-two *ngIf=\"step === 2\"\n        [data]=\"secondStepData\"\n        (nextStep)=\"handleStep($event)\" \n        (secondeFormSended)=\"handleSecondeForm($event)\">\n      </app-step-two>\n      <app-step-three *ngIf=\"step === 3\"\n        [data]=\"thirdStepData\"\n        [granularite]=\"granularite\"\n        (resultDataSended)=\"handleThirdForm($event)\" \n        (nextStep)=\"handleStep($event)\">\n      </app-step-three>\n      <app-step-four-create *ngIf=\"step === 4\" \n        [name]=\"firstStepData.name\"\n        [subst]=\"firstStepData.subst\"\n        [pdct]=\"secondStepData\"\n        [indc]=\"thirdStepData\"\n        [granularite]=\"granularite\"\n        [titleNumber]=\"nbSession\">\n      </app-step-four-create>\n    </div>\n  \n  </div>","import { Component, OnInit } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { first, switchMap } from 'rxjs/operators';\nimport { FirstStep, Granularite, LstSubst, SecondStep, Subst, ThirdStep } from 'src/app/models';\nimport { BreakService, LoaderService } from 'src/app/services';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.component.html',\n  styleUrls: ['./create.component.scss']\n})\nexport class CreateComponent implements OnInit {\n  public step: number;\n  public nbSession: string;\n  public subst: Array<Subst>;\n  public firstStepData: FirstStep;\n  public secondStepData: SecondStep;\n  public thirdStepData: ThirdStep;\n  public steps: Array<any> = [\n    {\n      'step': 1,\n      'data': false,\n      'active': true,\n      'srcActive': 'ansm_icons/Create_etape_1_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_1_inactif.svg',\n      'altText': '_SoldOut_form_step_1_label_',\n      'label': '_SoldOut_form_step_1_label_'\n    },\n    {\n      'step': 2,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_2_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_2_inactif.svg',\n      'altText': '_SoldOut_form_step_2_label_',\n      'label': '_SoldOut_form_step_2_label_'\n    },\n    {\n      'step': 3,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_3_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_3_inactif.svg',\n      'altText': '_SoldOut_form_step_3_label_',\n      'label': '_SoldOut_form_step_3_label_',\n    },\n    {\n      'step': 4,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_4_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_4_inactif.svg',\n      'altText': '_SoldOut_form_step_4_label_',\n      'label': '_SoldOut_form_step_4_label_',\n    }\n  ];\n  public granularite: Array<Granularite> = [\n    {\n      value: 'D',\n      text: '_SoldOut_form_field_granularite_day'\n    },\n    {\n      value: 'W',\n      text: '_SoldOut_form_field_granularite_week'\n    },\n    {\n      value: 'M',\n      text: '_SoldOut_form_field_granularite_mounth'\n    }\n  ];\n  constructor(\n    private readonly _breakService: BreakService,\n    public loader: LoaderService,\n  ) {\n    this.firstStepData = new FirstStep;\n    this.firstStepData.subst = [];\n    this.firstStepData.SelectPdct = [];\n    this.secondStepData = new SecondStep;\n    this.thirdStepData = new ThirdStep;\n    this.step = 0;\n    this.nbSession = '000';\n  }\n\n  ngOnInit() {\n    this._getSubstsAndIndc();\n  }\n  // enregistre dans step le numero de l'etape en cours\n  public handleStep(step: number) {\n    this.step = step;\n    this.steps.find(x => x.active === true).active = false;\n    this.steps.find(x => x.step === step).active = true;\n    this.steps.filter(x => x.step < step).forEach(element => {\n      element.data = true;\n    });\n    this.steps.filter(x => x.step >= step).forEach(element => {\n      element.data = false;\n    });\n  }\n  // retour à la page precédente\n  public navigateBeetweenStep(step: number) {\n    if (!this.steps.find(x => x.step === step).data || step > this.step) {\n      return;\n    } else {\n      this.handleStep(step);\n    }\n  }\n  // recupere et enregistre le nom de la rupture à afficher\n  public handleName(name: string) {\n    this.firstStepData.name = name;\n  }\n  // recupere et enregistre les substances concernées par la rup^ture à afficher\n  public handleSubst(subst: Array<Subst>) {\n    this.firstStepData.subst = subst;\n  }\n  // recupere les réponse de l'étape 1\n  public handleFirstForm(e) {\n    this.secondStepData.listPdct = e.selectedPdct.value;\n  }\n  // recupere les réponse de l'étape 2\n  public handleSecondeForm(lstSubst: Array<LstSubst>) {\n    this.secondStepData.listGroupPdct = lstSubst;\n  }\n  // recupere les réponse de l'étape 3\n  public handleThirdForm(formResult: any) {\n    this.thirdStepData.lstIndc = [];\n    this.thirdStepData.recurrence = formResult.recurrence;\n    formResult.recurrentData.forEach(element => {\n      this.thirdStepData.lstIndc.push(element);\n    });\n    formResult.startingData.forEach(element => {\n      this.thirdStepData.lstIndc.push(element);\n    });\n  }\n  // charge toutes les substances puis tous les indicateurs\n  private _getSubstsAndIndc() {\n    this._breakService.getSubsts()\n    .pipe(\n        first(),\n        switchMap(d => this._getSubs()),\n        switchMap(d => this._breakService.getindc()),\n        switchMap(d => this._getIndcs()),\n    )\n    .subscribe(\n        (resp) => {\n            this.step = 1;\n        }\n    );\n  }\n    // charge tous les indicateurs\n    private _getSubs(): Observable<boolean> {\n      this.subst = this._breakService.getResults();\n      return of(true);\n    }\n  // charge tous les indicateurs\n  private _getIndcs(): Observable<boolean> {\n    this.thirdStepData.listIndcSorted = {\n      startingData: this._breakService.getResults().filter(x => x.cd_indc_faml.includes('IR')),\n      recurrentData: this._breakService.getResults().filter(x => x.cd_indc_faml.includes('IE'))\n    };\n    return of(true);\n  }\n\n\n}\n","\n<div class=\"header\">\n  <h4 class=\"step\">{{'_SoldOut_form_step_4_' | translate}}</h4>\n  <div class=\"icon-container\">\n    <div class=\"icon-image\">\n      <img [src]=\"'../../../../assets/images/ansm_icons/Nom_session.svg'\" alt=\"altText\">\n    </div>\n    <app-highlight-title class=\"highlight-title\" [title]=\"'RUPT_' + titleNumber + ' - ' + name\"\n    [highlight]=\"[name]\"></app-highlight-title>\n  </div>\n  <div class=\"icon-container\">\n    <div class=\"icon-image\">\n      <img [src]=\"'../../../../assets/images/ansm_icons/DCI_actif.svg'\" alt=\"altText\">\n    </div>\n    <div \n    class=\"presentation-title\">\n      <p \n      class=\"subst-name\"\n      *ngFor=\"let s of subst; let i=index\">\n        {{i !== 0 ? '- '+s.nm_subst : s.nm_subst}}\n      </p>\n    </div>\n  </div>\n</div>\n\n<div class=\"form form-padding row\">\n\n  <div class=\"table\">\n    <div class=\"thead\">\n      <div class=\"row\">\n        <div class=\"col-sm-7 p-0 col-icon\"\n        style=\"display: flex;\"\n        [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_medic'}\" (click)=\"orderUtils.setOrderName('nm_medic')\">\n          <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Presentation_actif.svg'\"\n            [srcInactive]=\"'ansm_icons/Presentation_inactif.svg'\"\n            [altText]=\"'_SoldOut_form_field_presentation_' | translate\"\n            [label]=\"'_SoldOut_form_field_presentation_' | translate\">\n          </app-icon-text>\n          <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n        </div>\n        <div class=\"col-5 d-none d-sm-block p-0 col-icon\"\n        [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_hld'}\" (click)=\"orderUtils.setOrderName('nm_hld')\">\n          <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Laboratoire_actif.svg'\"\n            [srcInactive]=\"'ansm_icons/Laboratoire_inactif.svg'\"\n            [altText]=\"'_SoldOut_form_field_lab_' | translate\" [label]=\"'_SoldOut_form_field_lab_' | translate\">\n          </app-icon-text>\n          <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"tbody\" *ngIf=\"pdct\">\n      <div class=\"row\" *ngFor=\"let item of pdct.listPdct | orderBy: orderUtils.getOrder:orderUtils.reverse:'case-insensitive', let i=index\">\n        <div class=\"col-sm-7 p-0\">\n          <label class=\"container pointer-none\">{{item.nm_medic}},<br><span>cip13 : {{item.cd_cip13}}</span><br><span class=\"detail-text\">{{item.ll_prest}}</span>\n            <input type=\"checkbox\" checked>\n            <span class=\"checkmark\"></span>\n          </label>\n        </div>\n        <div class=\"col-sm-5 p-0 labo\">{{item.nm_hld}} <br> ({{item.id_hld}})</div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n      <div class=\"col-lg-6 pl-0 first-table\">\n          <app-icon-text [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [active]=\"true\" [srcActive]=\"'ansm_icons/starting.svg'\"\n          [altText]=\"'_SoldOut_form_field_data_start_' | translate\"\n          [label]=\"'_SoldOut_form_field_data_start_' | translate\">\n          </app-icon-text>\n\n          <div class=\"tbody\">\n              <div *ngIf=\"lstIndc.startingData.length === 0\">\n                {{'_SoldOut_form_field_data_empty_' | translate}}\n              </div>\n              <div class=\"row\" *ngFor=\"let data of lstIndc.startingData\">\n                  <label class=\"container pointer-none\">{{data.sl_indc}}\n                      <input type=\"checkbox\" checked>\n                      <span class=\"checkmark\"></span>\n                  </label>\n              </div>\n          </div>\n      </div>\n      <div class=\"col-lg-6 p-0 seconde-table\">\n          <app-icon-text [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [active]=\"true\" [srcActive]=\"'ansm_icons/recurrent.svg'\"\n          [altText]=\"'_SoldOut_form_field_data_recurrent_' | translate\"\n          [label]=\"'_SoldOut_form_field_data_recurrent_' | translate\">\n          </app-icon-text>\n          <div class=\"info\">({{recurrence.text | translate}})</div>\n          <div class=\"tbody\">\n            <div *ngIf=\"lstIndc.recurrentData.length === 0\">\n              {{'_SoldOut_form_field_data_empty_' | translate}}\n            </div>\n              <div class=\"row\" *ngFor=\"let data of lstIndc.recurrentData\">\n              <label class=\"container pointer-none\">{{data.sl_indc}}\n                  <input type=\"checkbox\" checked>\n                  <span class=\"checkmark\"></span>\n              </label>\n              </div>\n          </div>\n      </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-12 p-0 first-table\">\n        <div class=\"tbody\">\n            <div class=\"row\">\n              <label class=\"container\">{{'_SoldOut_form_field_dashboard_view_' | translate}}\n                <input type=\"checkbox\" checked (change)=\"onCheckboxChange($event, 'visibility')\">\n                <span class=\"checkmark\"></span>\n              </label>\n            </div>\n        </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-12 p-0 first-table\">\n        <div class=\"tbody\">\n            <div class=\"row\">\n              <label class=\"container\">{{'_SoldOut_form_pedding_' | translate}}\n                <input type=\"checkbox\" (change)=\"onCheckboxChange($event, 'pendding')\">\n                <span class=\"checkmark\"></span>\n              </label>\n            </div>\n        </div>\n    </div>\n  </div>\n\n\n  <div class=\"calendar-grnlr\">\n    <app-icon-text [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [active]=\"true\" [srcActive]=\"'ansm_icons/Calendrier_valide.svg'\"\n    [altText]=\"'_DataEntry_Calendar_Grnlr_' | translate\"\n    [label]=\"'_DataEntry_Calendar_Grnlr_' | translate\">\n    </app-icon-text>\n    <mat-form-field class=\"my-calendar\" appearance=\"fill\">\n      <mat-label>Choisir une date</mat-label>\n      <input matInput [matDatepickerFilter]=\"myFilter\" [matDatepicker]=\"picker\" [value]=\"dtPrd\" min=\"2020-01-01\" (dateChange)=\"newDateGrnlr($event)\">\n      <mat-datepicker [dateClass]=\"dateClass\" #picker></mat-datepicker>\n      <div class=\"icon-calendar\" (click)=\"picker.open()\"><img src=\"/assets/images/ansm_icons/Calendrier_date.svg\" [alt]=\"'_Form_field_calendar_' | translate\"></div>\n    </mat-form-field>\n    <small *ngIf=\"dtPrd > today\">{{\"_DataEntry_Calendar_Grnlr_Warning_Next_\" | translate}}</small>\n    <small *ngIf=\"dtPrd < today\">{{\"_DataEntry_Calendar_Grnlr_Warning_Prev_\" | translate}}</small>\n  </div>\n\n\n\n  <footer class=\"w-100\">\n    <div class=\"block-submit\">\n      <div class=\"d-flex\">\n        <input \n        type=\"submit\" class=\"input-valid\" value=\"{{'_SoldOut_form_create_session_' | translate}}\" \n        (click)=\"dialogValidateForm = true; getDatePeriode('validate')\">\n        <div class=\"loader-content-input\" *ngIf=\"loader.showSpinner === true && isSubmitted\">\n          <mat-progress-spinner  mode=\"indeterminate\">\n          </mat-progress-spinner>\n        </div>\n      </div>\n\n      <div\n      class=\"message error-msg\"\n      *ngIf=\"sessionError\"\n      [translate]=\"'_Common_UnkownError_'\"></div>\n    </div>\n    <div\n        class=\"dialog-box\"\n        *ngIf=\"dialogValidateForm\">\n        <label *ngIf=\"datesPeriod\">{{ '_SoldOut_Validate_Information_Dates_' | translate:{ start: datesPeriod.start, end: datesPeriod.end } }}</label>\n        <label [translate]=\"'_DataEntry_ConfirmSubmit_'\"></label>\n        <div class=\"buttons\">\n            <button\n            class=\"button input-valid\"\n            (click)=\"onSubmit(); dialogValidateForm = false\"\n            [translate]=\"'_DataEntry_form_submit_'\"></button>\n            <button\n            class=\"button input-invalid cancel\"\n            (click)=\"dialogValidateForm = false; resetDates()\"\n            [translate]=\"'_DataEntry_form_cancel_'\"></button>\n        </div>\n    </div>\n  </footer>\n\n</div>\n","import { DatePipe } from '@angular/common';\nimport { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MatCalendarCellCssClasses } from '@angular/material/datepicker';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Observable, of } from 'rxjs';\nimport { first, switchMap } from 'rxjs/operators';\nimport { Break, DataEntry, Granularite, LstIndc, Mail, PdctHldSubst, SecondStep, Subst, ThirdStep, User } from 'src/app/models';\nimport { BreakService, ConfigService, DataEntryService, HomeService, LoaderService, MailerService } from 'src/app/services';\nimport { NoUserForLaboComponent } from 'src/app/shared';\nimport { OrderUtils } from 'src/app/utils';\n\n@Component({\n  selector: 'app-step-four-create',\n  templateUrl: './stepFourCreate.component.html',\n  styleUrls: ['./stepFourCreate.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class StepFourCreateComponent implements OnInit {\n  @Input() name: string;\n  @Input() subst: Subst[];\n  @Input() titleNumber: number;\n  @Input() pdct: SecondStep;\n  @Input() indc: ThirdStep;\n  @Input() granularite: Array<Granularite>;\n  public lstIndc: LstIndc;\n  public recurrence: Granularite;\n  public today: Date;\n  public dtPrd: Date;\n  public isSubmitted: boolean;\n  public sessionError: boolean;\n  public visibility: Array<boolean> = [\n    true,\n    false\n  ];\n  public dashboardVisibility: boolean = true;\n  public dashboardPendding: boolean = false;\n  public dialogValidateForm: boolean;\n  public datesPeriod: any;\n\n  constructor(\n    public orderUtils: OrderUtils,\n    public dialog: MatDialog,\n    public loader: LoaderService,\n    private readonly _home: HomeService,\n    private _breakService: BreakService,\n    private _dataEntryService: DataEntryService,\n    private readonly _datePipe: DatePipe,\n    private readonly _mailer: MailerService,\n    private readonly _configService: ConfigService,\n    ) {\n   }\n\n  ngOnInit(): void {\n    this.orderUtils.setOrder = 'nm_medic';\n    this.orderUtils.reverse = false;\n    this._lstIndc();\n    this._recurrence();\n    this._getDtGrnlr();\n  }\n  public dateClass = (d: Date): MatCalendarCellCssClasses => {\n    const date = d.getDate();\n    const day = d.getDay();\n    const cd_grnlr = this.indc.recurrence;\n    // Highlight the valide day of each month.\n    if (cd_grnlr === 'D') {\n      return (day !== 0 && day !== 6) ? 'example-custom-date-class' : '';\n    } else if (cd_grnlr === 'W') {\n      return (day === 1) ? 'example-custom-date-class' : '';\n    } else if (cd_grnlr === 'M') {\n      return (date === 1) ? 'example-custom-date-class' : '';\n    } else {\n      return;\n    }\n  }\n  public myFilter = (d: Date | null): boolean => {\n    const cd_grnlr = this.indc.recurrence;\n    const date = (d || new Date()).getDate();\n    const day = (d || new Date()).getDay();\n    if (cd_grnlr === 'D') {\n      // Prevent Saturday and Sunday from being selected.\n      return day !== 0 && day !== 6;\n    } else if (cd_grnlr === 'W') {\n      // Prevent every day exept monday from being selected.\n      return day === 1;\n    } else if (cd_grnlr === 'M') {\n      // Prevent every day exept first working day of month from being selected.\n      return date === 1;\n    } else {\n      return;\n    }\n  }\n  public resetDates() {\n    delete this.datesPeriod;\n  }\n  public getDatePeriode(s: string) {\n    const cd_grnlr = this.indc.recurrence;\n    let i = 0;\n    this.pdct.listPdct.forEach(pdct => {\n      this.indc.lstIndc.forEach(indc => {\n        i++;\n      });\n    });\n    if (!this.dashboardPendding && i > 0) {\n      this._breakService.getPeriodFromNow(cd_grnlr, this._datePipe.transform(this.dtPrd, 'yyyy-MM-dd'))\n      .subscribe(\n        resp => {\n          this.datesPeriod = resp;\n        },\n        err => {\n          this.datesPeriod = err;\n        });\n    }\n  }\n  public onSubmit() {\n    this.resetDates();\n    this.isSubmitted = true;\n    // creation des info à envoyer et creation de session\n    const resultData = new Break();\n    resultData.cd_grnlr = this.indc.recurrence;\n    resultData.jlst_indc = JSON.stringify(this.indc.lstIndc);\n    resultData.jlst_subst = JSON.stringify(this.pdct.listGroupPdct);\n    resultData.fl_break_actvt = this.dashboardPendding ? 2 : 1;\n    resultData.de_break = new Date(3000, 1, 1);\n    resultData.ds_break = null;\n    resultData.nm_break = this.name;\n    resultData.visibility = this.dashboardVisibility;\n    let s;\n    s = this.dashboardPendding ? 'pendding' : s;\n    this._breakService.getDtGrnlr(this._datePipe.transform(this.dtPrd, 'yyyy-MM-dd'), this.indc.recurrence)\n    .pipe(\n      first(),\n      switchMap(dtGrnlr => this._setNextDate(resultData, dtGrnlr)),\n      switchMap(sessionToCreate => this._breakService.createBreak(sessionToCreate)),\n      switchMap(id => this._breakService.getBreaks(id)),\n      switchMap(d => this._breakService.createBreakHldSubst(this._breakService.getResults()[0], this.pdct.listPdct, s)),\n      switchMap(d => {\n        if (this.dashboardPendding) {\n          return of(true);\n        } else {\n          return this._createDataEntries(this._breakService.getResults()[0]);\n        }\n      }),\n      switchMap(dataEntries => {\n        if (typeof dataEntries === 'boolean' || this.dashboardPendding) {\n          return of(true);\n        } else {\n          return this._dataEntryService.createDataEntry(dataEntries);\n        }\n      }),\n      switchMap(d => this._getUsers()),\n    )\n    .subscribe(\n        (users) => {\n          if (!this.dashboardPendding) {\n            this._sendMail(this._breakService.getResults()[0], users);\n          }\n          this._checkeIfNoUserForLabo(users);\n        },\n        (error) => {\n          this.sessionError = true;\n          setTimeout(() =>\n            this.sessionError = false, 4000\n          );\n        }\n    );\n  }\n\n  public newDateGrnlr(e) {\n      this.dtPrd = e.target.value;\n  }\n  // enregistre les données choisi dans le formulaire\n  public onCheckboxChange(e, type: string) {\n    switch (type) {\n      case 'visibility':\n        this.dashboardVisibility = e.target.checked;\n        break;\n      case 'pendding':\n        this.dashboardPendding = e.target.checked;\n        break;\n    }\n  }\n  private _lstIndc() {\n    this.lstIndc = new LstIndc;\n    this.lstIndc.startingData = [];\n    this.indc.listIndcSorted.startingData.forEach(element => {\n      if (this.indc.lstIndc.find( x => x === element.id_indc)) {\n        this.lstIndc.startingData.push(element);\n      }\n    });\n    this.lstIndc.recurrentData = [];\n    this.indc.listIndcSorted.recurrentData.forEach(element => {\n      if (this.indc.lstIndc.find( x => x === element.id_indc)) {\n        this.lstIndc.recurrentData.push(element);\n      }\n    });\n  }\n  private _recurrence() {\n    this.recurrence = this.granularite.find( x => x.value === this.indc.recurrence);\n  }\n  private _createDataEntries(createdBreak: Break): Observable<Array<DataEntry>> {\n    const dataEntries = [];\n      this.pdct.listPdct.forEach(pdct => {\n        this.indc.lstIndc.forEach(indc => {\n          const resultData = {\n            id_break: createdBreak.id_break,\n            id_hld: pdct.id_hld,\n            cd_cip13: pdct.cd_cip13,\n            id_indc: indc,\n            cd_stat_entry: 'toValidated',\n            id_usr_crt: -1,\n            id_usr_vld: -1,\n            ts_crt: createdBreak.ts_crt,\n            ts_lst_upd: createdBreak.ts_crt,\n            val_indc: -1,\n            ts_vld: 'null',\n            dt_grnlr: createdBreak.ds_break\n          };\n          dataEntries.push(resultData);\n        });\n      });\n      return of(dataEntries);\n  }\n\n  private _getUsers(): Observable<Array<User>> {\n    const set: Set<number> = new Set();\n    this.pdct.listPdct.forEach(pdct => {\n      set.add(pdct.id_hld);\n    });\n    const pdctId = Array.from(set.values());\n    return this._breakService.getUsers(pdctId);\n  }\n\n  private _sendMail(session: Break, users: Array<User>) {\n    const id = this._configService.idTemplateCreatedSession;\n    const indc = [];\n    const pdctToTheMail: Array<PdctHldSubst> = [];\n    this.pdct.listPdct.forEach(pdct => {\n      pdctToTheMail.push(pdct);\n    });\n    this.lstIndc.recurrentData.forEach(element => {\n      indc.push(\n        {\n          'name': element.sl_indc\n        }\n      );\n    });\n    this.lstIndc.startingData.forEach(element => {\n      indc.push(\n        {\n          'name': element.sl_indc\n        });\n    });\n    const body: Array<Mail> = [];\n    if (users.length > 0) {\n      users.forEach(user => {\n        const pdctByUser = pdctToTheMail.filter(x => x.id_hld === user.labo);\n        const produits = [];\n        pdctByUser.forEach((pdct: PdctHldSubst) => {\n          if (!produits.find(x => x.name === pdct.nm_subst)) {\n            produits.push({\n              'name': pdct.nm_subst,\n              'presentation': []\n            });\n          }\n          produits.find(x => x.name === pdct.nm_subst).presentation.push({\n            'name': pdct.nm_medic,\n            'cip13': pdct.cd_cip13.toString()\n          });\n        });\n        body.push(\n              {\n                'email_address': user.email,\n                'template_id': id,\n                'name': `${user.firstName} ${user.lastName}`,\n                'var_session': session.nm_break,\n                'var_username': `${user.firstName} ${user.lastName}`,\n                'var_labo': user.laboName,\n                'var_produits': produits,\n                'var_indicateurs': indc\n              }\n            );\n      });\n    }\n    if (body.length < 1) {\n      return;\n    } else {\n      this._mailer.createMail(body)\n      .subscribe(\n        () => {\n          console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - Mails sended');\n        },\n        () => {\n          console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - Mails not sended');\n        }\n      );\n    }\n  }\n\n  private _checkeIfNoUserForLabo(userByPdct: Array<User>) {\n    const pdct: Array<PdctHldSubst> = [];\n    this.pdct.listPdct.forEach(element => {\n      pdct.push(element);\n    });\n    const noUserForLabo: Array<PdctHldSubst> = [];\n    pdct.forEach(element => {\n      if (!userByPdct.find(x => x.labo === element.id_hld)) {\n        noUserForLabo.push(element);\n      }\n    });\n    if (noUserForLabo.length > 0) {\n      const dialogRef = this.dialog.open(NoUserForLaboComponent, {\n        data: {\n          title: '_SoldOut_dialog_title_step_4_',\n          subtitle: '_SoldOut_dialog_subtitle_step_4_',\n          pdct: noUserForLabo\n        }\n      });\n        dialogRef.afterClosed().subscribe(result => {\n          this._home.sessionCreatedSuccess();\n      });\n    } else {\n      this._home.sessionCreatedSuccess();\n    }\n  }\n  // charge la date de prochaine periode\n  private _getDtGrnlr() {\n    const date = new Date();\n    let dtPrd: Date = new Date();\n    switch (this.indc.recurrence) {\n      case 'D':\n        if (date.getDay() === 5) {\n          dtPrd.setDate(date.getDate() + 3);\n        } else if (date.getDay() === 6) {\n          dtPrd.setDate(date.getDate() + 2);\n        } else {\n          dtPrd.setDate(date.getDate() + 1);\n        }\n        break;\n      case 'W':\n        const i = date.getDay() - 1;\n        if (date.getDay() > 0) {\n          dtPrd.setDate(date.getDate() + (7 - i));\n        } else {\n          dtPrd.setDate(date.getDate() + 1);\n        }\n        break;\n      case 'M':\n        dtPrd.setDate(date.getMonth() + 2);\n        dtPrd = new Date(`${ dtPrd.getUTCFullYear()}-${dtPrd.getMonth() + 1}-01`);\n        break;\n    }\n    dtPrd.setHours(0);\n    dtPrd.setMinutes(0);\n    dtPrd.setSeconds(0);\n    dtPrd.setMilliseconds(0);\n    this.dtPrd = new Date(dtPrd);\n    this.today = new Date(dtPrd);\n  }\n  private _setNextDate(result: Break, dtGrnlr: string): Observable<Break> {\n    result.ds_break = dtGrnlr;\n    return of(result);\n  }\n\n}\n","\n<div class=\"header\">\n  <h4 class=\"step\">{{'_SoldOut_form_step_4_' | translate}}</h4>\n  <div class=\"icon-container\">\n    <div class=\"icon-image\">\n      <img [src]=\"'../../../../assets/images/ansm_icons/Nom_session.svg'\" alt=\"altText\">\n    </div>\n    <app-highlight-title class=\"highlight-title\" [title]=\"'RUPT_' + titleNumber + ' - ' + name\"\n    [highlight]=\"[name]\"></app-highlight-title>\n  </div>\n  <div class=\"icon-container\">\n    <div class=\"icon-image\">\n      <img [src]=\"'../../../../assets/images/ansm_icons/DCI_actif.svg'\" alt=\"altText\">\n    </div>\n    <div \n    class=\"presentation-title\">\n      <p \n      class=\"subst-name\"\n      *ngFor=\"let s of subst; let i=index\">\n        {{i !== 0 ? '- '+s.nm_subst : s.nm_subst}}\n      </p>\n    </div>\n  </div>\n</div>\n\n  <div class=\"form form-padding row\">\n\n    <div class=\"table\">\n      <div class=\"thead\">\n        <div class=\"row\">\n          <div class=\"col-sm-7 p-0 col-order\"\n          style=\"display: flex;\"\n          [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_medic'}\" (click)=\"orderUtils.setOrderName('nm_medic')\">\n            <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Presentation_actif.svg'\"\n              [srcInactive]=\"'ansm_icons/Presentation_inactif.svg'\"\n              [altText]=\"'_SoldOut_form_field_presentation_' | translate\"\n              [label]=\"'_SoldOut_form_field_presentation_' | translate\">\n            </app-icon-text>\n            <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n          </div>\n          <div class=\"col-5 d-none d-sm-block p-0 col-order\"\n          [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nm_hld'}\" (click)=\"orderUtils.setOrderName('nm_hld')\">\n            <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Laboratoire_actif.svg'\"\n              [srcInactive]=\"'ansm_icons/Laboratoire_inactif.svg'\"\n              [altText]=\"'_SoldOut_form_field_lab_' | translate\" [label]=\"'_SoldOut_form_field_lab_' | translate\">\n            </app-icon-text>\n            <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"tbody\" *ngIf=\"pdct\">\n        <div class=\"row\" *ngFor=\"let item of pdct.listPdct | orderBy: orderUtils.getOrder:orderUtils.reverse:'case-insensitive', let i=index\">\n          <div class=\"col-sm-7 p-0\">\n            <label class=\"container pointer-none\">{{item.nm_medic}},<br><span>cip13 : {{item.cd_cip13}}</span><br><span class=\"detail-text\">{{item.ll_prest}}</span>\n              <input type=\"checkbox\" checked>\n              <span class=\"checkmark\"></span>\n            </label>\n          </div>\n          <div class=\"col-sm-5 p-0 labo\" [class.warning]=\"item.nm_hld === null\">{{item.nm_hld ? item.nm_hld : 'Impossible de définir un laboratoire pour ce CIP'}} <br> {{item.id_hld ? '(' + item.id_hld + ')' : ''}}</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-lg-6 pl-0 first-table\">\n            <app-icon-text [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [active]=\"true\" [srcActive]=\"'ansm_icons/starting.svg'\"\n            [altText]=\"'_SoldOut_form_field_data_start_' | translate\"\n            [label]=\"'_SoldOut_form_field_data_start_' | translate\">\n            </app-icon-text>\n\n            <div class=\"tbody\">\n                <div *ngIf=\"lstIndc.startingData.length === 0\">\n                  {{'_SoldOut_form_field_data_empty_' | translate}}\n                </div>\n                <div class=\"row\" *ngFor=\"let data of lstIndc.startingData\">\n                    <label class=\"container pointer-none\">{{data.sl_indc}}\n                        <input type=\"checkbox\" checked>\n                        <span class=\"checkmark\"></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-lg-6 p-0 seconde-table\">\n            <app-icon-text [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [active]=\"true\" [srcActive]=\"'ansm_icons/recurrent.svg'\"\n            [altText]=\"'_SoldOut_form_field_data_recurrent_' | translate\"\n            [label]=\"'_SoldOut_form_field_data_recurrent_' | translate\">\n            </app-icon-text>\n            <div class=\"info\">({{recurrence.text | translate}})</div>\n            <div class=\"tbody\">\n              <div *ngIf=\"lstIndc.recurrentData.length === 0\">\n                {{'_SoldOut_form_field_data_empty_' | translate}}\n              </div>\n                <div class=\"row\" *ngFor=\"let data of lstIndc.recurrentData\">\n                    <label class=\"container pointer-none\">{{data.sl_indc}}\n                        <input type=\"checkbox\" checked>\n                        <span class=\"checkmark\"></span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row\"\n    *ngIf=\"toUpdate && this.newPdct.length > 0\">\n      <div class=\"col-12 p-0\">\n        <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Presentation_actif.svg'\"\n          [srcInactive]=\"'ansm_icons/Presentation_inactif.svg'\"\n          [altText]=\"'_SoldOut_form_field_reference_data_' | translate\"\n          [label]=\"'_SoldOut_form_field_reference_data_' | translate\">\n        </app-icon-text>\n      </div>\n\n      <div *ngIf=\"newIndcStart && newIndcStart.length > 0\" class=\"info\">\n        {{'_SoldOut_form_field_add_starting_data_' | translate}} :\n        <small *ngFor=\"let indc of newIndcStart\"> <br> {{indc.sl_indc}} </small>\n      </div>\n\n      <div class=\"col-12 p-0 first-table\">\n          <div class=\"tbody\">\n              <div class=\"row\"\n              *ngFor=\"let pdct of this.newPdct\">\n                  <label class=\"container\">{{pdct.nm_medic+' ('+pdct.cd_cip13+')'}}\n                    <input type=\"checkbox\" (change)=\"onCheckboxReferenceIndcChange($event, pdct.cd_cip13)\">\n                    <span class=\"checkmark\"></span>\n                  </label>\n              </div>\n          </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-12 p-0 first-table\">\n          <div class=\"tbody\">\n              <div class=\"row\">\n                <label class=\"container\" [class.pointer-none]=\"!toUpdate\">{{'_SoldOut_form_field_dashboard_view_' | translate}}\n                  <input type=\"checkbox\" [checked]=\"break.visibility\" (change)=\"onCheckboxChange($event, 'visibility')\">\n                  <span class=\"checkmark\"></span>\n                </label>\n              </div>\n          </div>\n      </div>\n    </div>\n    <div class=\"row\" *ngIf=\"break.fl_break_actvt === 2\">\n      <div class=\"col-12 p-0 first-table\">\n          <div class=\"tbody\">\n              <div class=\"row\">\n                <label class=\"container\" [class.pointer-none]=\"true\">{{'_SoldOut_form_is_pedding_' | translate}}\n                  <input type=\"checkbox\" [checked]=\"true\">\n                  <span class=\"checkmark\"></span>\n                </label>\n              </div>\n          </div>\n      </div>\n    </div>\n    <div *ngIf=\"break.fl_break_actvt === 2 && toUpdate\" class=\"calendar-grnlr\">\n      <app-icon-text [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [active]=\"true\" [srcActive]=\"'ansm_icons/Calendrier_valide.svg'\"\n      [altText]=\"'_DataEntry_Calendar_Grnlr_' | translate\"\n      [label]=\"'_DataEntry_Calendar_Grnlr_' | translate\">\n      </app-icon-text>\n      <mat-form-field class=\"my-calendar\" appearance=\"fill\">\n        <mat-label>Choisir une date</mat-label>\n        <input matInput [matDatepickerFilter]=\"myFilter\" [matDatepicker]=\"picker\" [value]=\"dtPrd\" min=\"2020-01-01\" (dateChange)=\"newDateGrnlr($event)\">\n        <mat-datepicker [dateClass]=\"dateClass\" #picker></mat-datepicker>\n        <div class=\"icon-calendar\" (click)=\"picker.open()\"><img src=\"/assets/images/ansm_icons/Calendrier_date.svg\" [alt]=\"'_Form_field_calendar_' | translate\"></div>\n      </mat-form-field>\n      <small *ngIf=\"dtPrd > today\">{{\"_DataEntry_Calendar_Grnlr_Warning_Next_\" | translate}}</small>\n      <small *ngIf=\"dtPrd < today\">{{\"_DataEntry_Calendar_Grnlr_Warning_Prev_\" | translate}}</small>\n      <small *ngIf=\"blockValidate\">{{\"_DataEntry_Calendar_Grnlr_Warning_Wrong_Date_\" | translate}}</small>\n    </div>\n\n    <footer class=\"w-100\" *ngIf=\"break.fl_break_actvt !== 0\">\n      <div class=\"block-submit\">\n        <div class=\"d-flex w-100 flex-wrap\">\n          <input *ngIf=\"!toUpdate\" type=\"submit\" class=\"input-valid\" value=\"{{'_SoldOut_update_session_' | translate}}\" (click)=\"onSubmitUpdate()\">\n          <input *ngIf=\"toUpdate\" type=\"submit\" \n          [class.input-disable]=\"blockValidate\"\n          [class.input-valid]=\"!blockValidate\"\n          value=\"{{'_SoldOut_update_validate_session_' | translate}}\" (click)=\"dialogValidateForm = true; getDatePeriode('validate')\">\n          <input *ngIf=\"!toUpdate\" type=\"submit\" class=\"input-valid\" value=\"{{'_SoldOut_closed_session_' | translate}}\" (click)=\"dialogClosedSession = true\">\n          <input *ngIf=\"break.fl_break_actvt === 2 && !toUpdate\" type=\"submit\" class=\"input-valid\" value=\"{{'_SoldOut_actived_session_' | translate}}\" (click)=\"dialogActiveSession = true; getDatePeriode('activate')\">\n          <div class=\"loader-content-input\" *ngIf=\"loader.showSpinner === true\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n          </div>\n        </div>\n        <div\n        class=\"message error-msg\"\n        *ngIf=\"updateError\"\n        [translate]=\"'_Update_Error_'\"></div>\n      </div>\n\n      <div\n      class=\"dialog-box\"\n      *ngIf=\"dialogValidateForm\">\n          <label *ngIf=\"datesPeriod\">{{ '_SoldOut_Validate_Information_Dates_' | translate:{ start: datesPeriod.start, end: datesPeriod.end } }}</label>\n          <label [translate]=\"'_DataEntry_ConfirmSubmit_'\"></label>\n          <div class=\"buttons\">\n              <button\n              class=\"button input-valid\"\n              (click)=\"onSubmitValidate(); dialogValidateForm = false\"\n              [translate]=\"'_DataEntry_form_submit_'\"></button>\n              <button\n              class=\"button input-invalid cancel\"\n              (click)=\"dialogValidateForm = false; resetDates()\"\n              [translate]=\"'_DataEntry_form_cancel_'\"></button>\n          </div>\n      </div>\n      <div\n      class=\"dialog-box\"\n      *ngIf=\"dialogClosedSession\">\n          <label [translate]=\"'_DataEntry_ConfirmSubmit_ClosedSession_'\"></label>\n          <div class=\"buttons\">\n              <button\n              class=\"button input-valid\"\n              (click)=\"onSubmitClosed(); dialogClosedSession = false\"\n              [translate]=\"'_DataEntry_form_submit_'\"></button>\n              <button\n              class=\"button input-invalid cancel\"\n              (click)=\"dialogClosedSession = false\"\n              [translate]=\"'_DataEntry_form_cancel_'\"></button>\n          </div>\n      </div>\n\n      <div\n      class=\"dialog-box\"\n      *ngIf=\"dialogActiveSession\">\n          <label *ngIf=\"datesPeriod\">{{ '_SoldOut_Validate_Information_Dates_' | translate:{ start: datesPeriod.start, end: datesPeriod.end } }}</label>\n          <label [translate]=\"'_DataEntry_ConfirmSubmit_ActivedSession_'\"></label>\n          <div class=\"buttons\">\n              <button\n              class=\"button input-valid\"\n              (click)=\"onSubmitActivate(); dialogActiveSession = false\"\n              [translate]=\"'_DataEntry_form_submit_'\"></button>\n              <button\n              class=\"button input-invalid cancel\"\n              (click)=\"dialogActiveSession = false; resetDates()\"\n              [translate]=\"'_DataEntry_form_cancel_'\"></button>\n          </div>\n      </div>\n    </footer>\n  </div>\n","import { DatePipe } from '@angular/common';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Observable, of } from 'rxjs';\nimport { first, map, switchMap } from 'rxjs/operators';\nimport { Break, DataEntry, Granularite, Indc, LstIndc, Mail, PdctHldSubst, SecondStep, Subst, ThirdStep, User } from 'src/app/models';\nimport { BreakService, ConfigService, DataEntryService, LoaderService, MailerService } from 'src/app/services';\nimport { NoUserForLaboComponent } from 'src/app/shared';\nimport { MatCalendarCellCssClasses } from '@angular/material/datepicker';\nimport { OrderUtils } from 'src/app/utils';\n\n@Component({\n  selector: 'app-step-four-update',\n  templateUrl: './stepFourUpdate.component.html',\n  styleUrls: ['./stepFourUpdate.component.scss']\n})\nexport class StepFourUpdateComponent implements OnInit {\n  @Output() emitToUpdate: EventEmitter<boolean> = new EventEmitter();\n  @Output() updateSuccess: EventEmitter<string> = new EventEmitter();\n  @Input() indcToCompare: Array<number>;\n  @Input() pdctToCompare: Array<PdctHldSubst>;\n  @Input() break: Break;\n  @Input() name: string;\n  @Input() subst: Subst[];\n  @Input() titleNumber: number;\n  @Input() pdct: SecondStep;\n  @Input() indc: ThirdStep;\n  @Input() granularite: Array<Granularite>;\n  @Input() toUpdate: boolean;\n  @Input() dtPrdChoose: string;\n  public dtPrd: Date;\n  public today: Date;\n  public lstIndc: LstIndc;\n  public recurrence: Granularite;\n  public newHld: Array<PdctHldSubst>;\n  public newPdct: Array<PdctHldSubst>;\n  public newIndc: Array<number>;\n  public newIndcStart: Array<Indc>;\n  public dialogValidateForm: boolean;\n  public dialogClosedSession: boolean;\n  public dialogActiveSession: boolean;\n  public updateError: boolean;\n  public indcReference: Array<number>;\n  public datesPeriod: any;\n  public blockValidate = false;\n\n  constructor(\n    public orderUtils: OrderUtils,\n    public dialog: MatDialog,\n    public loader: LoaderService,\n    private _breakService: BreakService,\n    private _dataEntryService: DataEntryService,\n    private readonly _mailer: MailerService,\n    private readonly _datePipe: DatePipe,\n    private readonly _configService: ConfigService,\n    ) {\n   }\n\n  ngOnInit(): void {\n    this.orderUtils.setOrder = 'nm_medic';\n    this.orderUtils.reverse = false;\n    this._lstIndc();\n    this._recurrence();\n    this._getNewPdctAndIndc();\n    this._getDtGrnlr();\n  }\n\n  public onSubmitUpdate() {\n    this.emitToUpdate.emit(true);\n  }\n  public onSubmitActivate() {\n        this.resetDates();\n        // creation des info à envoyer et mise à jours de session et envoi des mails\n        const data = {\n          id_break: this.break.id_break,\n          nb_vers: this.break.nb_vers,\n          cd_grnlr: this.indc.recurrence,\n          jlst_indc: JSON.stringify(this.indc.lstIndc),\n          jlst_subst: JSON.stringify(this.pdct.listGroupPdct),\n          fl_break_actvt: 1,\n          ds_break: this.break.ds_break,\n          nm_break: this.name,\n          visibility: this.break.visibility ? true : false\n        };\n        this._breakService.updateBreak(data, 'active')\n        .pipe(\n          first(),\n          switchMap(d => this._breakService.updateBreakHldSubst(data)),\n          switchMap(d => this._createDataEntries(data)),\n          switchMap(dataEntries => this._sendDataEntry(dataEntries)),\n          switchMap(d => this._getNewPdctIdHld(this.pdctToCompare)),\n          switchMap(results => this._getUsers(results)),\n        )\n        .subscribe(\n          (users) => {\n            this._sendMail(this.break, users);\n            this._checkeIfNoUserForLabo(this.pdctToCompare, users);\n          },\n          (err) => {\n            this.updateError = true;\n            setTimeout(() => this.updateError = undefined, 4000);\n          }\n        );\n  }\n  public resetDates() {\n    delete this.datesPeriod;\n  }\n  public onSubmitValidate() {\n    this.resetDates();\n    // creation des info à envoyer et mise à jours de session\n    const data = {\n      id_break: this.break.id_break,\n      nb_vers: this.break.nb_vers,\n      cd_grnlr: this.indc.recurrence,\n      jlst_indc: JSON.stringify(this.indc.lstIndc),\n      jlst_subst: JSON.stringify(this.pdct.listGroupPdct),\n      fl_break_actvt: this.break.fl_break_actvt,\n      ds_break: this.break.ds_break,\n      nm_break: this.name,\n      visibility: this.break.visibility ? true : false\n    };\n    if (this.break.fl_break_actvt === 2) {\n      this._breakService.getDtGrnlr(this.dtPrdChoose, this.indc.recurrence)\n      .pipe(\n        first(),\n        switchMap(dtGrnlr => this._setNextDate(data, dtGrnlr)),\n        switchMap(resultData => this.updateBreak(resultData, 'replace')),\n        switchMap(resultData => this.deleteBreakHldSubst(resultData)),\n        switchMap(resultData => this._breakService.createBreakHldSubst(resultData, this.pdct.listPdct, 'pendding')),\n        switchMap(d => this._getNewPdctIdHld(this.newPdct.concat(this.newHld))),\n        switchMap(results => this._getUsers(results)),\n      )\n      .subscribe(\n        (users) => {\n          this._checkeIfNoUserForLabo(this.newPdct.concat(this.newHld), users);\n        },\n        (err) => {\n          this.updateError = true;\n          setTimeout(() => this.updateError = undefined, 4000);\n        }\n      );\n    } else {\n      this._breakService.updateBreak(this.break)\n      .pipe(\n        first(),\n        switchMap(d => this._breakService.createBreak(data, 'update')),\n        switchMap(d => this._breakService.createBreakHldSubst(data, this.pdct.listPdct, 'update')),\n        switchMap(d => this._breakService.getDateGrnlrFromNow(data.cd_grnlr)),\n        switchMap(date => this._createDataEntries(data, date)),\n        switchMap(dataEntries => this._sendDataEntry(dataEntries)),\n        switchMap(d => this._getNewPdctIdHld(this.newPdct.concat(this.newHld))),\n        switchMap(results => this._getUsers(results)),\n      )\n      .subscribe(\n        (users) => {\n          this._checkeIfNoUserForLabo(this.newPdct.concat(this.newHld), users);\n        },\n        (err) => {\n          this.updateError = true;\n          setTimeout(() => this.updateError = undefined, 4000);\n        }\n      );\n    }\n  }\n  public onSubmitClosed() {\n    this._breakService.updateBreak(this.break)\n    .pipe(\n      first(),\n      switchMap(d => this._getNewPdctIdHld(this.pdctToCompare)),\n      switchMap(results => this._getUsers(results))\n    )\n    .subscribe (\n      (users) => {\n        if (this.break.fl_break_actvt !== 2) {\n          this._sendMailClosed(this.break, users);\n        }\n        this.updateSuccess.emit('closed');\n      },\n      (err) => {\n        this.updateError = true;\n        setTimeout(() => this.updateError = undefined, 4000);\n      });\n  }\n  // enregistre les données choisi dans le formulaire\n  public onCheckboxChange(e, type: string) {\n    if (!this.toUpdate) {\n      return;\n    }\n    switch (type) {\n      case 'visibility':\n        this.break.visibility = e.target.checked;\n        break;\n      case 'pendding':\n        this.break.fl_break_actvt = e.target.checked ? 2 : 1;\n        break;\n    }\n  }\n\n  public onCheckboxReferenceIndcChange(e: any, cip: number) {\n    if (e.target.checked) {\n      this.indcReference = this.indcReference.filter((x: number) => x !== cip);\n    } else {\n      this.indcReference.push(cip);\n    }\n    const set: Set<number> = new Set(this.indcReference);\n    this.indcReference = Array.from(set.values());\n  }\n  private _sendMail(session: Break, users: Array<User>) {\n    const id = this._configService.idTemplateCreatedSession;\n    const indc = [];\n    const pdctToTheMail: Array<PdctHldSubst> = [];\n    this.pdct.listPdct.forEach(pdct => {\n      pdctToTheMail.push(pdct);\n    });\n    this.lstIndc.recurrentData.forEach(element => {\n      indc.push(\n        {\n          'name': element.sl_indc\n        }\n      );\n    });\n    this.lstIndc.startingData.forEach(element => {\n      indc.push(\n        {\n          'name': element.sl_indc\n        });\n    });\n    const body: Array<Mail> = [];\n    if (users.length > 0) {\n      users.forEach(user => {\n        const pdctByUser = pdctToTheMail.filter(x => x.id_hld === user.labo);\n        const produits = [];\n        pdctByUser.forEach((pdct: PdctHldSubst) => {\n          if (!produits.find(x => x.name === pdct.nm_subst)) {\n            produits.push({\n              'name': pdct.nm_subst,\n              'presentation': []\n            });\n          }\n          produits.find(x => x.name === pdct.nm_subst).presentation.push({\n            'name': pdct.nm_medic,\n            'cip13': pdct.cd_cip13.toString()\n          });\n        });\n        body.push(\n              {\n                'email_address': user.email,\n                'template_id': id,\n                'name': `${user.firstName} ${user.lastName}`,\n                'var_session': session.nm_break,\n                'var_username': `${user.firstName} ${user.lastName}`,\n                'var_labo': user.laboName,\n                'var_produits': produits,\n                'var_indicateurs': indc\n              }\n            );\n      });\n    }\n    if (body.length < 1) {\n      return;\n    } else {\n      this._mailer.createMail(body)\n      .subscribe(\n        () => {\n          console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - Mails sended');\n        },\n        () => {\n          console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - Mails not sended');\n        }\n      );\n    }\n  }\n\n  public getDatePeriode(s: string) {\n    const activeOrValidate = s === 'validate' && this.break.fl_break_actvt === 1 ? true : s === 'activate' ? true : false;\n    let ds_break;\n    ds_break = s === 'activate' ? this.dtPrdChoose : ds_break;\n    const cd_grnlr = this.indc.recurrence;\n    let i = 0;\n    this.pdct.listPdct.forEach(pdct => {\n      if (s === 'validate') {\n        this.lstIndc['recurrentData'].forEach((indc: Indc) => {\n          i++;\n        });\n        this.lstIndc['startingData'].forEach((indc: Indc) => {\n          if (\n            this.newIndc.find((x: number) => x === indc.id_indc)\n            ||\n            (\n              this.indcReference.find((x: number) => x === pdct.cd_cip13)\n              &&\n              !this.newIndc.find((x: number) => x === indc.id_indc)\n            )\n          ) {\n            i++;\n          }\n        });\n      } else {\n        this.indc.lstIndc.forEach(indc => {\n          i++;\n        });\n      }\n    });\n    if (activeOrValidate && i > 0) {\n      this._breakService.getPeriodFromNow(cd_grnlr, ds_break)\n      .subscribe(\n        resp => {\n          this.datesPeriod = resp;\n        },\n        err => {\n          this.datesPeriod = err;\n        });\n    }\n  }\n  public dateClass = (d: Date): MatCalendarCellCssClasses => {\n    const date = d.getDate();\n    const day = d.getDay();\n    const cd_grnlr = this.indc.recurrence;\n    // Highlight the valide day of each month.\n    if (cd_grnlr === 'D') {\n      return (day !== 0 && day !== 6) ? 'example-custom-date-class' : '';\n    } else if (cd_grnlr === 'W') {\n      return (day === 1) ? 'example-custom-date-class' : '';\n    } else if (cd_grnlr === 'M') {\n      return (date === 1) ? 'example-custom-date-class' : '';\n    } else {\n      return;\n    }\n  }\n  public newDateGrnlr(e) {\n    this.blockValidate = false;\n    this.dtPrd = e.target.value;\n    this.dtPrdChoose = this._datePipe.transform(this.dtPrd, 'yyyy-MM-dd');\n  }\n  public myFilter = (d: Date | null): boolean => {\n    const cd_grnlr = this.indc.recurrence;\n    const date = (d || new Date()).getDate();\n    const day = (d || new Date()).getDay();\n    if (cd_grnlr === 'D') {\n      // Prevent Saturday and Sunday from being selected.\n      return day !== 0 && day !== 6;\n    } else if (cd_grnlr === 'W') {\n      // Prevent every day exept monday from being selected.\n      return day === 1;\n    } else if (cd_grnlr === 'M') {\n      // Prevent every day exept first working day of month from being selected.\n      return date === 1;\n    } else {\n      return;\n    }\n  }\n  // charge la date de prochaine periode\n  private _getDtGrnlr() {\n    const date = new Date();\n    let today: Date = new Date();\n    const dtPrd: Date = new Date(this.dtPrdChoose);\n    switch (this.indc.recurrence) {\n      case 'D':\n        if (date.getDay() === 5) {\n          today.setDate(date.getDate() + 3);\n        } else if (date.getDay() === 6) {\n          today.setDate(date.getDate() + 2);\n        } else {\n          today.setDate(date.getDate() + 1);\n        }\n        break;\n      case 'W':\n        const i = date.getDay() - 1;\n        if (date.getDay() > 0) {\n          today.setDate(date.getDate() + (7 - i));\n        } else {\n          today.setDate(date.getDate() + 1);\n        }\n        break;\n      case 'M':\n        today.setDate(date.getMonth() + 2);\n        today = new Date(`${ today.getUTCFullYear()}-${today.getMonth() + 1}-01`);\n        break;\n    }\n    today.setHours(0);\n    today.setMinutes(0);\n    today.setSeconds(0);\n    today.setMilliseconds(0);\n    dtPrd.setHours(0);\n    dtPrd.setMinutes(0);\n    dtPrd.setSeconds(0);\n    dtPrd.setMilliseconds(0);\n    this.dtPrd = new Date(dtPrd);\n    this.today = new Date(today);\n    if (this.indc.recurrence === 'D') {\n      // Prevent Saturday and Sunday from being selected.\n      this.blockValidate = this.dtPrd.getDay() === 0 && this.dtPrd.getDay() === 6;\n    } else if (this.indc.recurrence === 'W') {\n      // Prevent every day exept monday from being selected.\n      this.blockValidate = this.dtPrd.getDay() !== 1;\n    } else if (this.indc.recurrence === 'M') {\n      // Prevent every day exept first working day of month from being selected.\n      this.blockValidate = this.dtPrd.getDate() !== 1;\n    } else {\n      return;\n    }\n  }\n\n  private _sendMailClosed(session: Break, users: Array<User>) {\n    const id = this._configService.idTemplateClosedSession;\n    const pdctToTheMail: Array<PdctHldSubst> = [];\n    this.pdct.listPdct.forEach(pdct => {\n      pdctToTheMail.push(pdct);\n    });\n    const body: Array<Mail> = [];\n    if (users.length > 0) {\n      users.forEach(user => {\n        const pdctByUser = pdctToTheMail.filter(x => x.id_hld === user.labo);\n        const produits = [];\n        pdctByUser.forEach((pdct: PdctHldSubst) => {\n          if (!produits.find(x => x.name === pdct.nm_subst)) {\n            produits.push({\n              'name': pdct.nm_subst,\n              'presentation': []\n            });\n          }\n          produits.find(x => x.name === pdct.nm_subst).presentation.push({\n            'name': pdct.nm_medic,\n            'cip13': pdct.cd_cip13.toString()\n          });\n        });\n        body.push(\n              {\n                'email_address': user.email,\n                'template_id': id,\n                'name': `${user.firstName} ${user.lastName}`,\n                'var_session': session.nm_break,\n                'var_username': `${user.firstName} ${user.lastName}`,\n                'var_labo': user.laboName,\n                'var_produits': produits\n              }\n            );\n      });\n    }\n    if (body.length < 1) {\n      return;\n    } else {\n      this._mailer.createMail(body)\n      .subscribe(\n        () => {\n          console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - Mails sended');\n        },\n        () => {\n          console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - Mails not sended');\n        }\n      );\n    }\n  }\n\n  private _lstIndc() {\n    this.lstIndc = new LstIndc;\n    this.lstIndc.startingData = [];\n    this.indc.listIndcSorted.startingData.forEach(element => {\n      if (this.indc.lstIndc.find( x => x === element.id_indc)) {\n        this.lstIndc.startingData.push(element);\n      }\n    });\n    this.lstIndc.recurrentData = [];\n    this.indc.listIndcSorted.recurrentData.forEach(element => {\n      if (this.indc.lstIndc.find( x => x === element.id_indc)) {\n        this.lstIndc.recurrentData.push(element);\n      }\n    });\n  }\n  private _recurrence() {\n    this.recurrence = this.granularite.find( x => x.value === this.indc.recurrence);\n  }\n  // Récupère les nouveau indc et/ou pdct à ajouter dans les dataEntry\n  private _getNewPdctAndIndc() {\n    const newHld = [];\n    const newPdct = [];\n    const newIndc = [];\n    const newIndcStart = [];\n    this.indcReference = [];\n    this.pdct.listPdct.forEach(element => {\n      const pdct = this.pdctToCompare.find(x => (x.cd_subst === element.cd_subst) && (x.cd_cip13 === element.cd_cip13));\n      if (!pdct) {\n        newPdct.push(element);\n        this.indcReference.push(element.cd_cip13);\n      }\n      if (pdct && pdct.id_hld !== element.id_hld) {\n        newHld.push(element);\n      }\n    });\n    this.indc.lstIndc.forEach(element => {\n      const indcStart: Indc = this.lstIndc['startingData'].find((x: Indc) => x.id_indc === element);\n      if (!this.indcToCompare.find(x => x === element)) {\n        newIndc.push(element);\n      }\n      if (!this.indcToCompare.find(x => x === element) && indcStart) {\n        newIndcStart.push(indcStart);\n      }\n    });\n    this.newHld = newHld;\n    this.newPdct = newPdct;\n    this.newIndc = newIndc;\n    this.newIndcStart = newIndcStart;\n  }\n\n  // renvoi les data entry à créer sans les indicateurs de référence\n  private _createDataEntries(createdBreak: Break, date?): Observable<Array<DataEntry>> {\n    const dataEntries = [];\n      if (date) {\n        this.pdct.listPdct.forEach(pdct => {\n          this.lstIndc['recurrentData'].forEach((indc: Indc) => {\n            const resultData = {\n              id_break: createdBreak.id_break,\n              id_hld: pdct.id_hld,\n              cd_cip13: pdct.cd_cip13,\n              id_indc: indc.id_indc,\n              cd_stat_entry: 'toValidated',\n              id_usr_crt: -1,\n              id_usr_vld: -1,\n              ts_crt: createdBreak.ts_crt,\n              ts_lst_upd: createdBreak.ts_crt,\n              val_indc: -1,\n              ts_vld: 'null',\n              dt_grnlr: date\n            };\n            dataEntries.push(resultData);\n          });\n          this.lstIndc['startingData'].forEach((indc: Indc) => {\n            // On ajoute tout les nouveaux indicateurs à tous les produits\n            // ou\n            // On ajoute tout les anciens indicateurs à tout les nouveaux produits qui sont dans la liste indcReference\n            if (\n              this.newIndc.find((x: number) => x === indc.id_indc)\n              ||\n              (\n                this.indcReference.find((x: number) => x === pdct.cd_cip13)\n                &&\n                !this.newIndc.find((x: number) => x === indc.id_indc)\n              )\n            ) {\n              const resultData = {\n                id_break: createdBreak.id_break,\n                id_hld: pdct.id_hld,\n                cd_cip13: pdct.cd_cip13,\n                id_indc: indc.id_indc,\n                cd_stat_entry: 'toValidated',\n                id_usr_crt: -1,\n                id_usr_vld: -1,\n                ts_crt: createdBreak.ts_crt,\n                ts_lst_upd: createdBreak.ts_crt,\n                val_indc: -1,\n                ts_vld: 'null',\n                dt_grnlr: date\n              };\n              dataEntries.push(resultData);\n            }\n          });\n        });\n      } else {\n        this.pdct.listPdct.forEach(pdct => {\n          this.indc.lstIndc.forEach(indc => {\n            const resultData = {\n              id_break: createdBreak.id_break,\n              id_hld: pdct.id_hld,\n              cd_cip13: pdct.cd_cip13,\n              id_indc: indc,\n              cd_stat_entry: 'toValidated',\n              id_usr_crt: -1,\n              id_usr_vld: -1,\n              ts_crt: createdBreak.ts_crt,\n              ts_lst_upd: createdBreak.ts_crt,\n              val_indc: -1,\n              ts_vld: 'null',\n              dt_grnlr: createdBreak.ds_break\n            };\n            dataEntries.push(resultData);\n          });\n        });\n      }\n    return of(dataEntries);\n  }\n  private _getUsers(results: Array<number>): Observable<Array<User>> {\n    if (results.length > 0) {\n      return this._breakService.getUsers(results);\n    } else {\n      return of([]);\n    }\n  }\n  private _sendDataEntry(dataEntries: Array<any>): Observable<boolean> {\n      return this._dataEntryService.createDataEntry(dataEntries)\n      .pipe(map(\n        (resp) => {\n          return true;\n        },\n        (err) => {\n          return false;\n        }));\n  }\n  private _getNewPdctIdHld(pdct: Array<PdctHldSubst>): Observable<Array<number>> {\n    const set: Set<number> = new Set();\n    pdct.forEach(element => {\n      if (element.id_hld) {set.add(element.id_hld); }\n    });\n    const arrayOfIdHld = Array.from(set.values());\n    return of(arrayOfIdHld);\n  }\n  private _checkeIfNoUserForLabo(pdct: Array<PdctHldSubst>, users: Array<User>) {\n    const noUserForLabo: Array<PdctHldSubst> = [];\n    pdct.forEach(element => {\n      if (!users.find(x => x.labo === element.id_hld)) {\n        noUserForLabo.push(element);\n      }\n    });\n    if (noUserForLabo.length > 0) {\n      const dialogRef = this.dialog.open(NoUserForLaboComponent, {\n        data: {\n          title: '_SoldOut_dialog_title_step_4_',\n          subtitle: '_SoldOut_dialog_subtitle_step_4_',\n          pdct: noUserForLabo\n        }\n      });\n        dialogRef.afterClosed().subscribe(\n          result => {\n            this.updateSuccess.emit('success');\n          });\n    } else {\n      this.updateSuccess.emit('success');\n    }\n  }\n\n  private _setNextDate(result: Break, dtGrnlr: string): Observable<Break> {\n    result.ds_break = dtGrnlr;\n    return of(result);\n  }\n\n  private updateBreak(resultData: Break, s: string): Observable<Break> {\n    return this._breakService.updateBreak(resultData, 'replace')\n    .pipe(map(\n      (resp: any) => {\n          return resultData;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n  private deleteBreakHldSubst(resultData: Break): Observable<Break> {\n    return this._breakService.deleteBreakHldSubst(resultData.id_break)\n    .pipe(map(\n      (resp: boolean) => {\n          return resultData;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n\n}\n","<div class=\"header\">\n    <h4 class=\"step\">{{'_SoldOut_form_step_1_' | translate}}</h4>\n    <app-highlight-title [title]=\"'_SoldOut_title_step_1_' | translate\"\n      [highlight]=\"['_SoldOut_title_highlighted_step_1_' | translate]\" [text]=\"'_SoldOut_text_step_1_'\"></app-highlight-title>\n</div>\n<form class=\"form form-padding\" autocomplete=\"off\" [formGroup]=\"stepOneForm\" (ngSubmit)=\"onClickSubmit()\">\n\n  <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Nom_session.svg'\"\n      [srcInactive]=\"'ansm_icons/Nom_session.svg'\" [altText]=\"'_SoldOut_form_field_session_name_' | translate\"\n      [label]=\"'_SoldOut_form_field_session_name_' | translate\">\n    </app-icon-text>\n    <app-formulaire class=\"col-lg-7 p-0\" [name]=\"data.name\" [type]=\"'text'\" [placeholder]=\"'_SoldOut_form_field_session_name_'\" (dataForm)=\"registerSessionName($event)\"></app-formulaire>\n  </div>\n\n <div class=\"row form-row\">\n    <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"formControls.sessionName.valid\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/DCI_actif.svg'\"\n      [srcInactive]=\"'ansm_icons/DCI_inactif.svg'\" [altText]=\"'_SoldOut_form_field_dci_choice_' | translate\"\n      [label]=\"'_SoldOut_form_field_dci_choice_' | translate\">\n    </app-icon-text>\n    <app-dropdown class=\"col-lg-7 p-0\" [active]=\"formControls.sessionName.valid\" [search]=\"true\" [dropdownToggleLabels]=\"data.subst\" [data]=\"listSubstFound\" [typeOfList]=\"'checkbox'\" [colorDisable]=\"'grey'\" [typeOfData]=\"'dci'\" (dataDeleted)=\"handleOnClickDelete($event)\" (keyUpEvent)=\"handleOnSearch($event)\" (checkEvent)=\"handleOnChecked($event)\"></app-dropdown>\n  </div>\n \n    <div class=\"table\">\n\n      <div class=\"thead\">\n        <div class=\"row form-row\">\n          <div class=\"col-sm-6 p-0 column-title col-order\" \n          [ngClass]=\"{\n            'order-actif': orderUtils.getOrder === 'nm_medic' && formControls.sessionName.valid && formControls.selectedSubst.valid,\n            'order-disable': !formControls.sessionName.valid || !formControls.selectedSubst.valid\n          }\" (click)=\"orderUtils.setOrderName('nm_medic')\">\n            <app-icon-text [colorInactive]=\"'grey'\" [active]=\"formControls.sessionName.valid && formControls.selectedSubst.valid\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Presentation_actif.svg'\"\n              [srcInactive]=\"'ansm_icons/Presentation_inactif.svg'\"\n              [altText]=\"'_SoldOut_form_field_presentation_' | translate\"\n              [label]=\"'_SoldOut_form_field_presentation_' | translate\"\n              [noMargin]=\"true\">\n            </app-icon-text>\n            <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n          </div>\n\n          <div class=\"col-sm-3 p-0 hide column-title col-order\" \n          [ngClass]=\"{\n            'order-actif': orderUtils.getOrder === 'cd_cip13' && formControls.sessionName.valid && formControls.selectedSubst.valid,\n            'order-disable': !formControls.sessionName.valid || !formControls.selectedSubst.valid\n          }\" (click)=\"orderUtils.setOrderName('cd_cip13')\">\n            <app-icon-text [colorInactive]=\"'grey'\" [active]=\"formControls.sessionName.valid && formControls.selectedSubst.valid\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/User_lab_actif.svg'\"\n              [srcInactive]=\"'ansm_icons/User_lab_inactif.svg'\"\n              [altText]=\"'_SoldOut_form_field_code_' | translate\"\n              [label]=\"'_SoldOut_form_field_code_' | translate\"\n              [noMargin]=\"true\">\n            </app-icon-text>\n            <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n          </div>\n\n          <div \n          class=\"col-sm-3 p-0 hide column-title col-order\"\n          [ngClass]=\"{\n            'order-actif': orderUtils.getOrder === 'nm_hld' && formControls.sessionName.valid && formControls.selectedSubst.valid,\n            'order-disable': !formControls.sessionName.valid || !formControls.selectedSubst.valid\n          }\">\n            <app-icon-text \n              [noMargin]=\"true\"\n              (click)=\"orderUtils.setOrderName('nm_hld')\"\n              [colorInactive]=\"'grey'\" \n              [active]=\"formControls.sessionName.valid && formControls.selectedSubst.valid\"\n              [fontSize]=\"'21px'\"\n              [fontLineHeight]=\"'37px'\"\n              [srcActive]=\"'ansm_icons/Laboratoire_actif.svg'\"\n              [srcInactive]=\"'ansm_icons/Laboratoire_inactif.svg'\"\n              [altText]=\"'_SoldOut_form_field_lab_' | translate\" [label]=\"'_SoldOut_form_field_lab_' | translate\">\n            </app-icon-text>\n            <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"thead\">\n        <div class=\"row form-row wrap-class\">\n          <div *ngFor=\"let filtre of searchPdct\"\n          class=\"p-0 column-title\"\n          [className]=\"filtre.col\">\n            <app-formulaire \n            [name]=\"filtre.name\"\n            [inactive]=\"!formControls.sessionName.valid || !formControls.selectedSubst.valid\"\n            class=\"col-12 p-0\" \n            [type]=\"'text'\" \n            [placeholder]=\"filtre.placeholder\" \n            (dataForm)=\"searchBy($event, filtre.search)\"></app-formulaire>\n          </div>\n        </div>\n      </div>\n\n      <div\n      class=\"row checkall_cip\"\n      [class.disabled]=\"!presentationPdct || presentationPdct.length < 1\">          \n        <label *ngIf=\"!checkAll\" class=\"label-container\">\n          {{'_SoldOut_form_check_all_' | translate}}\n        <input class=\"checkbox\" type=\"checkbox\" [checked]=\"checkAll\" [value]=\"checkAll\" (change)=\"onCheckboxPresentationPdctChange($event)\">\n        <span class=\"checkmark\"></span>\n        </label>\n        <label *ngIf=\"checkAll\" class=\"label-container\">\n          {{'_SoldOut_form_check_nothing_' | translate}}\n        <input class=\"checkbox\" type=\"checkbox\" [checked]=\"checkAll\" [value]=\"checkAll\" (change)=\"onCheckboxPresentationPdctChange($event)\">\n        <span class=\"checkmark\"></span>\n        </label>\n      </div>  \n      <div class=\"tbody\" [ngClass]=\"{'table-valid': stepOneForm.valid, 'table-invalid': isSubmitted && formControls.selectedPdct.invalid && formControls.selectedSubst.valid && formControls.sessionName.valid}\">\n        <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true && formControls.selectedSubst.valid\">\n          <mat-progress-spinner  mode=\"indeterminate\">\n          </mat-progress-spinner>\n        </div>\n        <div *ngIf=\"loader.showSpinner === false\">\n          <div class=\"row\" *ngFor=\"let pdct of presentationPdct | orderBy: orderUtils.getOrder:orderUtils.reverse:'case-insensitive'\">\n            <div class=\"col-sm-6 m-0\">\n              <label class=\"label-container\">\n                {{pdct.nm_medic}},<br><span class=\"detail-text\">{{pdct.ll_prest}}</span>\n                <input class=\"checkbox\" [checked]=\"isChecked(pdct.cd_cip13)\" type=\"checkbox\" [value]=\"pdct\" (change)=\"onCheckboxPresentationPdctChange($event, pdct)\">\n                <span class=\"checkmark\"></span>\n              </label>\n            </div>\n            <div \n            class=\"col-sm-3 labo\"\n            [class.none-commercialise]=\"!pdct.commercialise\"\n            >\n              {{pdct.commercialise? '': 'Non Commercialisée'}}  \n              <br *ngIf=\"!pdct.commercialise\">  \n                {{pdct.cd_cip13}} \n              <br> \n              {{pdct.nm_subst}}\n            </div>\n            <select [disabled]=\"!isChecked(pdct.cd_cip13)\" (change)=\"onGrpChange($event, pdct)\" class=\"custom-select col-sm-3\" [id]=\"'select_'+pdct.cd_cip13\">\n              <option *ngFor=\"let grp of pdct.listGrp; let igrp of index\" [value]=\"grp.id\" [selected]=\"idGrpSelected(pdct, grp.id)\">{{grp.hld}} <span style=\"display:block; \">({{grp.type ==='SSN'?'SSN_':''}}{{grp.id}})</span>  </option>\n            </select>\n          </div>\n        </div>\n      </div>\n      <div *ngIf=\"isSubmitted && formControls.sessionName.valid && formControls.selectedSubst.valid && formControls.selectedSubst.invalid\" class=\"error-block\">\n        <div>{{'_Form_error_text_required_' | translate}}</div>\n      </div>\n      \n    </div>\n\n  <input class=\"block-submit\" type=\"submit\" [ngClass]=\"stepOneForm.valid ? 'input-valid' : 'input-invalid'\" value=\"{{'_SoldOut_form_next_step_' | translate}}\">\n</form>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { BreakService, LoaderService } from 'src/app/services';\nimport { OrderUtils } from 'src/app/utils';\nimport { FirstStep, PdctHldSubst, Subst } from '../../../../models';\n\n@Component({\n  selector: 'app-step-one',\n  templateUrl: './stepOne.component.html',\n  styleUrls: ['./stepOne.component.scss']\n})\nexport class StepOneComponent implements OnInit {\n  @Input() subst: Array<Subst>;\n  @Input() data: FirstStep;\n  @Output() nameSended: EventEmitter<string> = new EventEmitter();\n  @Output() substSended: EventEmitter<Array<Subst>> = new EventEmitter();\n  @Output() firstFormSended: EventEmitter<any> = new EventEmitter();\n  @Output() nextStep: EventEmitter<number> = new EventEmitter();\n\n  public listSubstFound: Array<string>;\n  public presentationPdct: Array<PdctHldSubst>;\n  public allPdctWithoutFiltre: Array<PdctHldSubst>;\n  public stepOneForm: FormGroup;\n  public isSubmitted: boolean;\n  public checkAll = false;\n  public searchPdct = [\n    {\n      name: '',\n      search: 'presentation',\n      col: 'col-sm-6',\n      placeholder: '_SoldOut_form_search_presentation_'\n    },\n    {\n      name: '',\n      search: 'cip',\n      col: 'col-sm-3',\n      placeholder: '_SoldOut_form_search_cip_'\n    },\n    {\n      name: '',\n      search: 'hld',\n      col: 'col-sm-3',\n      placeholder: '_SoldOut_form_search_hld_'\n    }\n  ];\n\n  constructor(\n    public orderUtils: OrderUtils,\n    public loader: LoaderService,\n    private formBuilder: FormBuilder,\n    private _breakService: BreakService\n  ) {\n  }\n  ngOnInit() {\n    this.orderUtils.setOrder = 'nm_medic';\n    this.orderUtils.reverse = false;\n    this.stepOneForm = this.formBuilder.group({\n      sessionName: [this.data.name, Validators.required],\n      selectedSubst: [this.data.subst, Validators.required],\n      selectedPdct: [this.data.SelectPdct, Validators.required]\n    });\n    if (this.stepOneForm.valid) {\n      this._updateData();\n    }\n    if (this.subst) {\n      this.listSubstFound = [];\n    }\n    this.subst.forEach(element => {\n      this.listSubstFound.push(element.nm_subst);\n    });\n  }\n  // Methode qui simplifie l'appel du formulaire\n  get formControls() {\n    return this.stepOneForm.controls;\n  }\n\n  // permet de filtrer les produits dans le tableau de la vue\n  public searchBy(e, n) {\n    switch (n) {\n      case this.searchPdct[0].search:\n        this.searchPdct[0].name = e.dataForm;\n        break;\n      case this.searchPdct[1].search:\n        this.searchPdct[1].name = e.dataForm;\n        break;\n      case this.searchPdct[2].search:\n        this.searchPdct[2].name = e.dataForm;\n        break;\n    }\n    const nm_medic = this.searchPdct[0].name;\n    const nm_subst = this.searchPdct[1].name.split(/[\\s;]+/).filter(x => x !== '');\n    const grp_hld = this.searchPdct[2].name;\n    this.presentationPdct = [];\n    this.data.SelectPdct.forEach((element: PdctHldSubst) => {\n      this.presentationPdct.push(element);\n    });\n    const listPdctFound = this.allPdctWithoutFiltre.filter((x: PdctHldSubst) => {\n      const cond_one = nm_medic !== '' ? x.nm_medic.toLowerCase().includes(nm_medic.toLowerCase()) : true;\n      const cond_two = nm_subst.length > 0 ?\n        (\n          nm_subst.find(nm => x.nm_subst.toLowerCase().includes(nm))\n          ||\n          nm_subst.find(nm => x.cd_cip13.toString().includes(nm))\n        ) : true;\n      const cond_three = grp_hld !== '' ?\n        x.listGrp.find(\n          grp =>\n          grp.id.toString().includes(grp_hld)\n          ||\n          grp.hld.toLowerCase().includes(grp_hld.toLowerCase())\n        ) !== undefined ? true : false : true;\n      return cond_one && cond_two && cond_three;\n    });\n    listPdctFound.forEach((element: PdctHldSubst) => {\n      if (!this.presentationPdct.find((x: PdctHldSubst) => x === element)) {\n        this.presentationPdct.push(element);\n      }\n    });\n  }\n  // Envoi le nom de la session au parent pour affichage dans le menu\n  public registerSessionName(name: any) {\n    if (!name.dataForm || name.dataForm.length < 1) {\n      this.formControls.sessionName.setValue('');\n    } else {\n      this.formControls.sessionName.setValue(name.dataForm);\n    }\n    this.nameSended.emit(this.formControls.sessionName.value);\n  }\n  // filtre parmie la liste de toutes les substances pour afficher celles correspondantes à la recherche\n  public handleOnSearch(e) {\n      this.listSubstFound = [];\n    if (!e.target.value) {\n      this.subst.forEach(element => {\n        this.listSubstFound.push(element.nm_subst);\n      });\n      return;\n    } else {\n      const listSubstFound = this.subst.filter(x => x.nm_subst.includes(e.target.value.toUpperCase()));\n      listSubstFound.forEach(element => {\n        if (!this.listSubstFound.find(x => x === element.nm_subst)) {\n          this.listSubstFound.push(element.nm_subst);\n        }\n      });\n    }\n  }\n  public onGrpChange(e: any, pdct: PdctHldSubst) {\n    const data = this.data.SelectPdct.find(x => x.cd_cip13 === pdct.cd_cip13);\n    data.id_hld = Number(e.target.value);\n    data.nm_hld = pdct.listGrp.find(x => x.id === data.id_hld)['hld'];\n  }\n  // Met à jours la séléction des substances\n  public handleOnChecked(e) {\n    if (e.target.checked && !this.data.subst.find(x => x.nm_subst === e.target.value)) {\n      this.data.subst.push(this.subst.find(x => x.nm_subst === e.target.value));\n    } else if (!e.target.checked) {\n      this.data.subst = this.data.subst.filter(x => x.nm_subst !== e.target.value);\n    } else {\n      return;\n    }\n    this._updateData();\n  }\n  // supprime une substance précedemment selectionnées\n  public handleOnClickDelete(e: Subst) {\n    this.data.subst = this.data.subst.filter(x => x.cd_subst !== e.cd_subst);\n    this._updateData();\n  }\n  // Enregistre ou supprimme les produits\n  public onCheckboxPresentationPdctChange(e, pdct?: PdctHldSubst) {\n    if (!pdct) {\n      if (e.target.checked) {\n        for (const product of this.presentationPdct) {\n          !this.data.SelectPdct.find(x => x.cd_cip13 === product.cd_cip13)  && product.commercialise ? this.data.SelectPdct.push(product) : '';\n        }\n        this.checkAll = true;\n      } else {\n        this.data.SelectPdct = new Array();\n        this.checkAll = false;\n      }\n    } else {\n      if (e.target.checked && !this.data.SelectPdct.find(x => x.cd_cip13 === pdct.cd_cip13)) {\n        this.data.SelectPdct.push(pdct);\n      // methode utilisé si pas de doublon\n      // this.data.SelectPdct.push(pdct);\n      } else if (!e.target.checked) {\n        this.data.SelectPdct = this.data.SelectPdct.filter(x => x.cd_cip13 !== pdct.cd_cip13);\n        // methode utilisé si pas de doublon\n        // this.data.SelectPdct = this.data.SelectPdct.filter(x => (x.cd_cip13 !== pdct.cd_cip13) && (x.id_hld !== pdct.id_hld));\n      } else {\n        return;\n      }\n    }\n    this.formControls.selectedPdct.setValue(this.data.SelectPdct);\n  }\n  // cocher automatiquement les produits déjà selectionné\n  public isChecked(idPdct: number) {\n    if (this.data.SelectPdct.find(x => x.cd_cip13 === idPdct)) {\n      return true;\n    }\n    return false;\n  }\n  public idGrpSelected(pdct, idGrp) {\n    const data = this.data.SelectPdct.find(x => x.cd_cip13 === pdct.cd_cip13);\n    if (data) {\n      return data.id_hld === idGrp;\n    } else {\n      return pdct.id_hld === idGrp;\n    }\n\n  }\n  // envoi du formulaire\n  public onClickSubmit() {\n    this.isSubmitted = true;\n    if (this.stepOneForm.invalid) {\n      return;\n    }\n    this.firstFormSended.emit(this.formControls);\n    this.nextStep.emit(2);\n  }\n  // met à jours les info du dropdown et du tableau\n  private _updateData() {\n    // set le formulaire des substances selectionnées\n    this.formControls.selectedSubst.setValue(this.data.subst);\n    // envoi au parent les substances selectionnées\n    this.substSended.emit(this.data.subst);\n    // Récupère un tableau d'id de chaque substance selectionnée\n    if (this.formControls.selectedSubst.valid) {\n      const idSubst = [];\n      this.data.subst.forEach(element => {\n        idSubst.push(element.cd_subst);\n     });\n     this._getPdctHldSubst(idSubst);\n    } else {\n      this.presentationPdct = [];\n      this.allPdctWithoutFiltre = [];\n      this.data.SelectPdct = [];\n      this.formControls.selectedPdct.setValue(this.data.SelectPdct);\n    }\n    // this.presentationPdct = this.orderPipe.transform(this.presentationPdct, 'nm_hld');\n\n  }\n  // charge tous les liens des subst selectionnées pour récupérer le nom des produits et le nom des labo\n  private _getPdctHldSubst(id: Array<number>) {\n    this._breakService.getPdctBreak(id)\n    .subscribe(\n      (resp) => {\n        this.presentationPdct = resp;\n        this.allPdctWithoutFiltre = resp;\n        const idPdct = [];\n        this.presentationPdct.forEach((element: PdctHldSubst) => {\n            idPdct.push(element.cd_cip13);\n        });\n        const set: Set<number> = new Set(idPdct);\n        const newId = Array.from(set.values());\n        this._resetSelectPdct(newId);\n      },\n      (err) => {\n        return;\n      }\n    );\n  }\n  // supprime les produit déjà coché si la substance associé n'existe plus\n  private _resetSelectPdct(id: Array<number>) {\n    this.data.SelectPdct.forEach((element: PdctHldSubst) => {\n      if (!id.find((x: number) => x === element.cd_cip13)) {\n        this.data.SelectPdct = this.data.SelectPdct.filter((x: PdctHldSubst) => x.cd_cip13 !== element.cd_cip13);\n      }\n    });\n    this.data.SelectPdct.forEach((x: PdctHldSubst) => {\n      const presentation = this.presentationPdct.find((y: PdctHldSubst) => y.cd_cip13 === x.cd_cip13);\n      if (x.listGrp.find((y: any) => y.id === x.id_hld)) {\n        presentation.id_hld = x.id_hld;\n        presentation.nm_hld = x.nm_hld;\n      } else {\n        x.id_hld = presentation.id_hld;\n        x.nm_hld = presentation.nm_hld;\n      }\n    });\n    this.formControls.selectedPdct.setValue(this.data.SelectPdct);\n  }\n\n}\n","<div class=\"header\">\n    <h4 class=\"step\">{{'_SoldOut_form_step_3_' | translate}}</h4>\n    <app-highlight-title [title]=\"'_SoldOut_title_step_3_' | translate\"\n    [highlight]=\"['_SoldOut_title_highlighted_step_3_' | translate]\" [text]=\"'_SoldOut_text_step_3_'\"></app-highlight-title>\n</div>\n\n<form class=\"form form-padding row\" [formGroup]=\"stepThreeForm\" (ngSubmit)=\"onClickSubmit()\">\n    <div class=\"row\">\n        <div class=\"col-xl-6 pl-0 first-table table\">\n            <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/starting.svg'\"\n            [altText]=\"'_SoldOut_form_field_data_start_' | translate\"\n            [label]=\"'_SoldOut_form_field_data_start_' | translate\">\n            </app-icon-text>\n            <div class=\"tbody\" [ngClass]=\"{'table-valid': formControls.startingData.valid, 'table-invalid': submitted && this.stepThreeForm.controls['startingData'].errors?.required}\">\n                <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n                    <mat-progress-spinner  mode=\"indeterminate\">\n                    </mat-progress-spinner>\n                </div>\n                <div  *ngIf=\"loader.showSpinner === false\">\n                    <div *ngFor=\"let item of data.listIndcSorted.startingData; let i=index\">\n                    <label class=\"label-container\">{{item.sl_indc}}\n                        <input type=\"checkbox\" [checked]=\"isChecked(item.id_indc)\" [value]=\"item.id_indc\" (change)=\"onCheckboxChange($event, 'startingData')\">\n                        <span class=\"checkmark\"></span>\n                    </label>\n                    </div>\n                </div>\n            </div>\n            <div class=\"error-block\" *ngIf=\"submitted && this.stepThreeForm.controls['startingData'].errors?.required\">\n                {{'_Form_error_text_required_' | translate}}\n            </div>\n        </div>\n        <div class=\"col-xl-6 p-0 seconde-table table\">\n            <div>\n                <app-icon-text [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/recurrent.svg'\"\n                [altText]=\"'_SoldOut_form_field_data_recurrent_' | translate\"\n                [label]=\"'_SoldOut_form_field_data_recurrent_' | translate\">\n                </app-icon-text>\n\n                <div class=\"tbody\" [ngClass]=\"{'table-valid': formControls.recurrentData.valid, 'table-invalid': submitted && this.stepThreeForm.controls['recurrentData'].errors?.required}\">\n                    <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n                        <mat-progress-spinner  mode=\"indeterminate\">\n                        </mat-progress-spinner>\n                    </div>\n                    <div  *ngIf=\"loader.showSpinner === false\">\n                        <div *ngFor=\"let item of data.listIndcSorted.recurrentData; let i=index\">\n                        <label class=\"label-container\">{{item.sl_indc}}\n                            <input type=\"checkbox\" [checked]=\"isChecked(item.id_indc)\" [value]=\"item.id_indc\" (change)=\"onCheckboxChange($event, 'recurrentData')\">\n                            <span class=\"checkmark\"></span>\n                        </label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"error-block\" *ngIf=\"submitted && formControls.recurrentData.errors?.required\">\n                    {{'_Form_error_text_required_' | translate}}\n                </div>\n            </div>\n\n            <div class=\"row form-row\">\n                <app-icon-text class=\"col-12 p-0 mt-2 row-title\" [colorInactive]=\"'grey'\" [active]=\"formControls.recurrentData.valid || formControls.startingData.valid\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Recurrence_actif.svg'\"\n                [srcInactive]=\"'ansm_icons/Recurrence_inactif.svg'\" [altText]=\"'_SoldOut_form_field_granularite_' | translate\"\n                [label]=\"'_SoldOut_form_field_granularite_' | translate\">\n                </app-icon-text>\n                <app-dropdown class=\"col-12 p-0 app-dropdown\" [active]=\"formControls.recurrentData.valid || formControls.startingData.valid\" [search]=\"false\" [dropdownToggleLabel]=\"labelInput\" [data]=\"granularite\" [typeOfList]=\"'default'\" [colorDisable]=\"'grey'\" [typeOfData]=\"'gran'\" (presentData)=\"handleOnChecked($event)\"></app-dropdown>\n\n            </div>\n        </div>\n        <input class=\"block-submit\" type=\"submit\" [ngClass]=\"(formControls.recurrentData.valid || formControls.startingData.valid) && formControls.recurrence.valid? 'input-valid' : 'input-invalid'\" value=\"{{'_SoldOut_form_next_step_' | translate}}\">\n    </div>\n</form>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Granularite, ThirdStep } from 'src/app/models';\nimport { LoaderService } from 'src/app/services';\n\n@Component({\n  selector: 'app-step-three',\n  templateUrl: './stepThree.component.html',\n  styleUrls: ['./stepThree.component.scss']\n})\nexport class StepThreeComponent implements OnInit {\n  @Input() data: ThirdStep;\n  @Input() granularite: Array<Granularite>;\n  @Output() resultDataSended: EventEmitter<any> = new EventEmitter();\n  @Output() nextStep: EventEmitter<number> = new EventEmitter();\n  public submitted: boolean;\n  public stepThreeForm: FormGroup;\n  public labelInput: string;\n\n  constructor(\n    public loader: LoaderService,\n    private readonly _formBuilder: FormBuilder,\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.stepThreeForm = this._formBuilder.group({\n      startingData: this._formBuilder.array([], [Validators.required]),\n      recurrentData: this._formBuilder.array([], [Validators.required]),\n      recurrence: [this.data.recurrence, Validators.required],\n    });\n    if (this.data.lstIndc) {\n      this._updateData();\n    }\n    if (this.data.recurrence) {\n      this.labelInput = this.granularite.find(x => x.value === this.data.recurrence).text;\n    }\n  }\n  get formControls() {\n    return this.stepThreeForm.controls;\n  }\n  // enregistre les données choisi dans le formulaire\n  public onCheckboxChange(e, name: string) {\n    let form: FormArray;\n    switch (name) {\n      case 'startingData':\n      form = this.stepThreeForm.get(name) as FormArray;\n      break;\n      case 'recurrentData':\n      form = this.stepThreeForm.get(name) as FormArray;\n      break;\n    }\n    if (e.target.checked) {\n      form.push(new FormControl(Number(e.target.value)));\n    } else {\n      let i = 0;\n      form.controls.forEach((item: FormControl) => {\n        if (item.value === Number(e.target.value)) {\n          form.removeAt(i);\n          return;\n        }\n        i++;\n      });\n    }\n  }\n  // enregistre la recurrence selectionnée\n  public handleOnChecked(e: any) {\n    this.labelInput = e.text;\n    this.stepThreeForm.controls.recurrence.setValue(e.value);\n  }\n  // coche les donnée déjà validées si retour sur la page\n  public isChecked(id: number): boolean {\n    if (\n      this.stepThreeForm.value.recurrentData.find(x => x === id)\n      ||\n      this.stepThreeForm.value.startingData.find(x => x === id)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  // envoi du formulaire\n  public onClickSubmit() {\n    this.submitted = true;\n    if ((this.formControls.recurrentData.invalid && this.formControls.startingData.invalid) && this.formControls.recurrence.invalid) {\n      return;\n    }\n    this.resultDataSended.emit(this.stepThreeForm.value);\n    this.nextStep.emit(4);\n  }\n  // enregistre les données déjà choisi dans le formulaire en cas de retour sur la page\n  public _updateData() {\n    let form: FormArray;\n    form = this.stepThreeForm.get('startingData') as FormArray;\n    this.data.listIndcSorted.startingData.forEach( element => {\n      if (this.data.lstIndc.find(x => x === element.id_indc)) {\n        form.push(new FormControl(element.id_indc));\n      }\n    });\n    form = this.stepThreeForm.get('recurrentData') as FormArray;\n    this.data.listIndcSorted.recurrentData.forEach( element => {\n      if (this.data.lstIndc.find(x => x === element.id_indc)) {\n        form.push(new FormControl(element.id_indc));\n      }\n    });\n  }\n\n\n}\n","<div class=\"header\">\n    <h4 class=\"step\">{{'_SoldOut_form_step_2_' | translate}}</h4>\n    <app-highlight-title [title]=\"'_SoldOut_title_step_2_' | translate\"\n        [highlight]=\"['_SoldOut_title_highlighted_step_2_' | translate]\" [text]=\"'_SoldOut_text_step_2_'\"></app-highlight-title>\n</div>\n\n<div class=\"form form-padding row drop-container\" cdkDropListGroup *ngIf=\"lstDrop\">\n    <div cdkDropList cdkDropListSortingDisabled\n    [cdkDropListData]=\"lstDrop\" [cdkDropListEnterPredicate]=\"noReturnPredicate\" \n    class=\"col-5 presentation-block\" \n    [ngClass]=\"{'hide': lstDrop.length < 1}\" \n    (cdkDropListDropped)=\"onDrop($event)\"\n    [style.height]=\"getHeight()\">\n        <div class=\"presentation\" *ngFor=\"let pdct of lstDrop\" cdkDragBoundary=\".drop-container\" [cdkDragData]=\"pdct\" cdkDrag>\n            <div class=\"previous-drop-placeholder\" *cdkDragPlaceholder></div>\n            {{pdct.nm_medic}}<br><span class=\"detail-text\">{{pdct.ll_prest}}</span>\n        </div>\n    </div>\n    <div class=\"group-block\" [ngClass]=\"{'col-7': lstDrop.length > 0, 'col-12': lstDrop.length < 1}\">\n        <div [ngClass]=\"['row', orderClass(i)]\" *ngFor=\"let groupe of groupes, let i=index \">\n            <div class=\"col-xl-6 p-0  block-grp-title\">\n                <app-icon-text [afterLabel]='(i + 1).toString()' [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/Groupe.svg'\"\n                [altText]=\"'_SoldOut_form_field_goup_' | translate\"\n                [label]=\"'_SoldOut_form_field_goup_' | translate\">\n                </app-icon-text>\n                <button class=\"btn p-0\" (click)=\"onClickRemoveGroup(i)\"></button>\n            </div>\n            <div class=\"col-xl-6 p-0 d-flex align-items-center\">\n                <input class=\"m-0\" [ngClass]=\"{'input-valid': groupe.name.length > 0, 'input-invalid': ((indexDropNameError === i) || isSubmitted) && groupe.name.length < 1}\" type=\"text\" [value]=\"groupe.name\" placeholder=\"{{'_SoldOut_form_field_goup_name_' | translate}}\" (keyup)=\"onChangeGroupeName($event, i)\">\n            </div>                \n            <div *ngIf=\"((indexDropNameError === i) || isSubmitted) && groupe.name.length < 1\" class=\"error-block\">\n                <div>{{'_Form_error_text_required_' | translate}}</div>\n            </div>\n            <div cdkDropList [cdkDropListData]=\"groupe.presentation\" class=\"col-12 cadre\" [ngClass]=\"{'cadre-valid': groupe.presentation.length > 0, 'cadre-invalid': isSubmitted && groupe.presentation.length < 1 && groupe.name.length > 0}\" (cdkDropListDropped)=\"onDrop($event, i)\">\n                <div class=\"presentation\" [ngClass]=\"{'right-drop-block': lstDrop.length < 1}\" *ngFor=\"let presentation of groupe.presentation\" [cdkDragData]=\"presentation\" cdkDrag cdkDragBoundary=\".drop-container\">\n\n                    {{presentation.nm_medic}}<br><span class=\"detail-text\">{{presentation.ll_prest}}</span>\n                </div>\n            </div>        \n            <div class=\"error-block\" *ngIf=\"indexDropSubstError === i\">{{'_Group_error_different_subst_' | translate}}</div>\n            <div class=\"error-block\" *ngIf=\"isSubmitted && groupe.presentation.length < 1 && groupe.name.length > 0\">{{'_Form_error_text_required_' | translate}}</div>\n        </div>\n        <button class=\"input input-valid p-0\" (click)=\"onClickAddGroup()\">{{'_SoldOut_form_add_group_' | translate}}</button>\n    </div>\n    <input class=\"block-submit\" type=\"submit\" [ngClass]=\"lstDrop.length < 1 && checkedGrpIsValid()? 'input-valid' : 'input-invalid'\" value=\"{{'_SoldOut_form_next_step_' | translate}}\" (click)=\"onClickSubmit()\">\n\n</div>\n\n","import { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { ChangeDetectorRef, Component, EventEmitter, Input, OnInit, Output, AfterContentChecked } from '@angular/core';\nimport { DropGroup, Groupes, LstSubst, PdctHldSubst, SecondStep } from 'src/app/models';\n\n@Component({\n  selector: 'app-step-two',\n  templateUrl: './stepTwo.component.html',\n  styleUrls: ['./stepTwo.component.scss']\n})\nexport class StepTwoComponent implements OnInit, AfterContentChecked {\n  @Input() data: SecondStep;\n  @Output() secondeFormSended: EventEmitter<Array<LstSubst>> = new EventEmitter();\n  @Output() nextStep: EventEmitter<number> = new EventEmitter();\n  public groupes: Array<DropGroup>;\n  public lstDrop: Array<PdctHldSubst>;\n  public indexDropNameError: number;\n  public indexDropSubstError: number;\n  public isSubmitted: boolean;\n// create an Observer instance\n// const resizeObserver = new ResizeObserver(entries => \n//   console.log('Body height changed:', entries[0].target.clientHeight)\n// )\n\n// // start observing a DOM node\n// resizeObserver.observe(document.body)\n\n// // click anywhere to rnadomize height\n// window.addEventListener('click', () =>\n//   document.body.style.height = Math.floor((Math.random() * 5000) + 1) + 'px'\n// )\n  constructor(\n    private cdRef: ChangeDetectorRef\n  ) {\n  }\n\n  ngOnInit(): void {\n    if (this.data.listGroupPdct && this.data.listGroupPdct.length > 0) {\n      this._updateData();\n    } else {\n      this._generateLstDrop();\n    }\n  }\n\n  ngAfterContentChecked() {\n    this.cdRef.detectChanges();\n  }\n  public getHeight() {\n    const element = document.querySelector('.group-block');\n    const height = (element as HTMLElement).offsetHeight;\n    return height ? `${height}px` : '';\n  }\n  public orderClass(index: number) {\n    const order = (index - this.groupes.length) * -1;\n    return `order-${order}`;\n  }\n  // changement du nom du groupe\n  public onChangeGroupeName(event, i: number) {\n    this.groupes[i].name = event.target.value;\n  }\n  // fonction qui décrit l'action à réaliser lors du drop des items\n  public onDrop(event: CdkDragDrop<Array<any>>, i: number) {\n    this.indexDropNameError = null;\n    this.indexDropSubstError = null;\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      // si pas de nom au groupe stop et message d'erreur\n      if (this.groupes[i].name.length < 1) {\n        this.indexDropNameError = i;\n        return;\n      }\n      // TODO algo à déterminer\n      // si l'items n'a pas le même ??? que les autres items stop et message d'erreur\n      // if ( event.container.data.length > 0 &&\n      //   (event.item.data.cd_cis !== this.groupes[i].presentation[0].cd_cis)\n      // ) {\n      //   this.indexDropSubstError = i;\n      //   return;\n      // }\n      transferArrayItem(event.previousContainer.data,\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex);\n    }\n  }\n  // bloque le drop d'un item déjà dans un groupes vers la liste de départ\n  public noReturnPredicate() {\n    return false;\n  }\n  // ajout d'un groupe\n  public onClickAddGroup() {\n    this.isSubmitted = false;\n    const indexLastGrpAdded = this.groupes.length - 1;\n    // si le dernier groupe n'est pas valide stop et message d'erreur\n    if (\n      this.groupes[indexLastGrpAdded] &&\n      (this.groupes[indexLastGrpAdded].name.length < 1 || this.groupes[indexLastGrpAdded].presentation.length < 1)\n    ) {\n      this.isSubmitted = true;\n      return;\n    }\n    this.groupes.push(\n      {\n        name: '',\n        presentation: []\n      }\n    );\n  }\n  // supprime un groupe\n  public onClickRemoveGroup(i: number) {\n    // const temporyLstDrop = this.lstDrop;\n    if (this.groupes[i].presentation.length > 0) {\n      this.groupes[i].presentation.forEach(item => {\n        // if (!temporyLstDrop.find(x => x.cd_cip13 === item.cd_cip13)) {\n          // temporyLstDrop.push(item);\n        // }\n        this.lstDrop.push(item);\n      });\n    }\n    this.groupes.splice(i, 1);\n  }\n  // fonction qui autorise ou non l'utilisation du bouton valider\n  public checkedGrpIsValid(): boolean {\n    if (this.groupes.find(x => x.name.length < 1) && this.groupes.find(x => x.presentation.length < 1)) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  public onClickSubmit() {\n    this.isSubmitted = true;\n    if (this.lstDrop.length > 0 || this.checkedGrpIsValid() === false) {\n      return;\n    }\n    this.secondeFormSended.emit(this._createResponse());\n    this.nextStep.emit(3);\n  }\n  // Creation de la reponse qui sera enregistré dans la creation de session\n  private _createResponse(): Array<LstSubst> {\n    const response: Array<LstSubst> = [];\n    this.groupes.forEach(element => {\n      if (!response.find(x => x.code_subst === element.presentation[0].cd_subst)) {\n        const lstSubst = new LstSubst;\n        lstSubst.code_subst = element.presentation[0].cd_subst;\n        lstSubst.groupes = [];\n        response.push(lstSubst);\n      }\n    });\n    this.groupes.forEach(element => {\n      const groupes = new Groupes;\n      groupes.grp_name = element.name;\n      groupes.code_prdt = [];\n      element.presentation.forEach(pdct => {\n        groupes.code_prdt.push(pdct.cd_cip13);\n      });\n      response.find(x => x.code_subst === element.presentation[0].cd_subst).groupes.push(groupes);\n    });\n    return response;\n  }\n  // genere une liste d'items sous le model {code_subst, pdct} à partir des produit precedemment selectionnées\n  private _generateLstDrop(id?: Array<PdctHldSubst>) {\n    this.lstDrop = [];\n    this.groupes = [];\n    if (id) {\n      this.data.listPdct.forEach( element => {\n        if (!id.find(x => x.cd_cip13 === element.cd_cip13)) {\n          this.lstDrop.push(element);\n        }\n      });\n      this.data.listGroupPdct.forEach(element => {\n        element.groupes.forEach(grp => {\n          const presentation = [];\n          grp.code_prdt.forEach(pdct => {\n            presentation.push(id.find(x => x.cd_cip13 === pdct));\n          });\n          this.groupes.push(\n            {\n              name: grp.grp_name,\n              presentation: presentation,\n            }\n          );\n        });\n      });\n    } else {\n      this.groupes.push(\n        {\n          name: '',\n          presentation: []\n        }\n      );\n      this.data.listPdct.forEach(element => {\n        this.lstDrop.push(element);\n      });\n    }\n  }\n  // modifie les données des groupes et de la liste si besoin lors du retour sur la page\n  private _updateData() {\n    let resetDropList: boolean;\n    this.data.listGroupPdct.forEach((element: LstSubst) => {\n      if (!this.data.listPdct.find((x: PdctHldSubst) => x.cd_subst === element.code_subst)) {\n        resetDropList = true;\n      } else {\n        resetDropList = false;\n      }\n    });\n    // TODO algo permettant de garder les groupes contenant les substances encore présente\n    // si parmis les precedents groupes une substance n'est plus presente dans la liste des produits alors on reinitialise les groupes\n    if (resetDropList === true) {\n      this.data.listGroupPdct = [];\n      this._generateLstDrop();\n      return;\n      // sinon\n    } else {\n      const allIdPdct = [];\n      // si un produit à été supprimé on le supprime de this.data.listGroupPdct\n      this.data.listGroupPdct.forEach(element => {\n        element.groupes.forEach(grp => {\n          const idPdct = [];\n          grp.code_prdt.forEach(pdct => {\n            if (this.data.listPdct.find(x => x.cd_cip13 === pdct)) {\n              idPdct.push(pdct);\n              allIdPdct.push(this.data.listPdct.find(x => x.cd_cip13 === pdct));\n            }\n          });\n          grp.code_prdt = idPdct;\n        });\n      });\n      // si un produit à été ajouté on l'ajoute dans la listDrop\n      this._generateLstDrop(allIdPdct);\n    }\n  }\n\n}\n","<div class=\"row height-max-content\">\n  <div class=\"left-menu col-lg-4\">\n    <div class=\"top-menu\">\n      <h2>{{'_SoldOut_update_main_title_' | translate}}</h2>\n      <div class=\"ml-1\">\n        <h3 *ngIf=\"nbSession\">RUPT_{{nbSession}}</h3>\n        <div class=\"container-details-top-menu\">\n          <h4 *ngIf=\"label\" \n          class=\"title\"\n          [class.pendding]=\"pendding\">{{label}}</h4>\n          <div *ngIf=\"firstStepData.subst\" class=\"block-selectedDci\">\n            <div *ngFor=\"let subst of firstStepData.subst\" class=\"selectedDci\" >{{subst.nm_subst}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"down-menu\"> \n      <div class=\"col-12 p-0\">       \n        <app-dropdown \n        [title]=\"'_Dashboard_dropdown_session_title_' | translate\" \n        [active]=\"true\" \n        [search]=\"true\" \n        [typeOfData]=\"'data-entry-admin'\" \n        [dropdownToggleLabel]=\"label\" \n        [pendding]=\"pendding\"\n        [data]=\"listBreakFilter\" \n        [typeOfList]=\"'default'\"\n        (keyUpEvent)=\"handleOnSearch($event)\"\n        (presentData)=\"handleData($event)\"\n        ></app-dropdown>\n      </div>\n      <div class=\"step\" *ngIf=\"!toUpdate\">\n        <app-icon-text [colorInactive]=\"'white'\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'28px'\" [active]=\"steps[3].active\" [srcActive]=\"steps[3].srcActive\" [srcInactive]=\"steps[3].srcInactive\"\n          [altText]=\"steps[3].altText | translate\" [label]=\"steps[3].label | translate\">\n        </app-icon-text>\n      </div>\n      <div *ngIf=\"toUpdate\">\n        <div class=\"step\" *ngFor=\"let step of steps\" [ngClass]=\"{'navigate-btn': step.data === true}\" (click)=\"navigateBeetweenStep(step.step)\">\n          <app-icon-text [colorInactive]=\"'white'\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'28px'\" [active]=\"step.active\" [srcActive]=\"step.srcActive\" [srcInactive]=\"step.srcInactive\"\n            [altText]=\"step.altText | translate\" [label]=\"step.label | translate\">\n          </app-icon-text>\n        </div>\n      </div>\n    </div>\n\n\n  </div>\n  <app-navbar class=\"navbar\"></app-navbar>\n  <div class=\"col-lg-8 right-content\">\n    <div class=\"empty-state\" *ngIf=\"step === 0\">\n      <div\n      class=\"message success-msg\"\n      *ngIf=\"updateSuccess && updateSuccess === 'success'\"\n      [translate]=\"'_Update_Success_'\"></div>\n      <div\n      class=\"message success-msg\"\n      *ngIf=\"updateSuccess && updateSuccess === 'closed'\"\n      [translate]=\"'_Update_Closed_'\"></div>\n      <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n        <mat-progress-spinner  mode=\"indeterminate\">\n        </mat-progress-spinner>\n      </div>\n      <div *ngIf=\"loader.showSpinner === false\">\n        <img width=\"350\" height=\"100\" class=\"empty-state-img\" src=\"./../../../assets/images/ansm_icons/Empty_state_illu.png\" [alt]=\"'_Dashboard_empty_state_title_' | translate\">\n        <h2 class=\"empty-state-title\">{{'_Dashboard_empty_state_title_' | translate}}</h2>\n        <h3 class=\"empty-state-subtitle\">{{'_Update_empty_state_subtitle_' | translate}}</h3>\n      </div>\n    </div>\n    <app-step-one *ngIf=\"step === 1\"\n      [data]=\"firstStepData\" \n      [subst]=\"subst\"\n      (firstFormSended)=\"handleFirstForm($event)\" \n      (nameSended)=\"handleName($event)\" \n      (substSended)=\"handleSubst($event)\" \n      (nextStep)=\"handleStep($event)\">\n    </app-step-one>\n    <app-step-two *ngIf=\"step === 2\"\n      [data]=\"secondStepData\"\n      (nextStep)=\"handleStep($event)\" \n      (secondeFormSended)=\"handleSecondeForm($event)\">\n    </app-step-two>\n    <app-step-three *ngIf=\"step === 3\"\n      [data]=\"thirdStepData\"\n      [granularite]=\"granularite\"\n      (resultDataSended)=\"handleThirdForm($event)\" \n      (nextStep)=\"handleStep($event)\">\n    </app-step-three>\n    <app-step-four-update *ngIf=\"step === 4\"\n      (emitToUpdate)=\"handleToUpdate($event)\" \n      (updateSuccess)=\"handleUpdate($event)\" \n      [name]=\"firstStepData.name\"\n      [subst]=\"firstStepData.subst\"\n      [pdct]=\"secondStepData\"\n      [indc]=\"thirdStepData\"\n      [granularite]=\"granularite\"\n      [titleNumber]=\"nbSession\"\n      [break]=\"selectedData\"\n      [pdctToCompare]=\"pdctToCompare\"\n      [indcToCompare]=\"indcToCompare\"\n      [toUpdate]=\"toUpdate\"\n      [dtPrdChoose]=\"dtPrdChoose\">\n    </app-step-four-update>\n  </div>\n\n</div>\n\n\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { first, map, switchMap } from 'rxjs/operators';\nimport { Break, FirstStep, Granularite, LstSubst, PdctHldSubst, SecondStep, Subst, ThirdStep } from 'src/app/models';\nimport { BreakService, LoaderService } from 'src/app/services';\n\n@Component({\n    selector: 'app-update',\n    templateUrl: './update.component.html',\n    styleUrls: ['./update.component.scss']\n})\nexport class UpdateComponent implements OnInit {\n  public pendding = false;\n  public pdctToCompare: Array<PdctHldSubst>;\n  public indcToCompare: Array<number>;\n  public selectedData: Break;\n  public step: number;\n  public nbSession: string;\n  public breaks: Array<Break>;\n  public listBreakFilter: Array<Break>;\n  public subst: Array<Subst>;\n  public firstStepData: FirstStep;\n  public secondStepData: SecondStep;\n  public thirdStepData: ThirdStep;\n  public toUpdate: boolean;\n  public updateSuccess: string;\n  public label: string;\n  public dtPrdChoose: string;\n  public steps: Array<any> = [\n    {\n      'step': 1,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_1_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_1_inactif.svg',\n      'altText': '_SoldOut_form_step_1_label_',\n      'label': '_SoldOut_form_step_1_label_'\n    },\n    {\n      'step': 2,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_2_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_2_inactif.svg',\n      'altText': '_SoldOut_form_step_2_label_',\n      'label': '_SoldOut_form_step_2_label_'\n    },\n    {\n      'step': 3,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_3_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_3_inactif.svg',\n      'altText': '_SoldOut_form_step_3_label_',\n      'label': '_SoldOut_form_step_3_label_',\n    },\n    {\n      'step': 4,\n      'data': false,\n      'active': false,\n      'srcActive': 'ansm_icons/Create_etape_4_actif.svg',\n      'srcInactive': 'ansm_icons/Create_etape_4_inactif.svg',\n      'altText': '_SoldOut_form_step_4_label_',\n      'label': '_SoldOut_form_step_4_label_',\n    },\n  ];\n  public granularite: Array<Granularite> = [\n    {\n      value: 'D',\n      text: '_SoldOut_form_field_granularite_day'\n    },\n    {\n      value: 'W',\n      text: '_SoldOut_form_field_granularite_week'\n    },\n    {\n      value: 'M',\n      text: '_SoldOut_form_field_granularite_mounth'\n    }\n  ];\n  constructor(\n    private readonly _breakService: BreakService,\n    public loader: LoaderService,\n  ) {\n    this._resetData()\n    .subscribe();\n  }\n\n  ngOnInit() {\n  }\n  public handleToUpdate(e) {\n    this.toUpdate = e;\n    this.handleStep(1);\n  }\n  public handleUpdate(e) {\n    this._resetData().subscribe(\n      () => {}\n    );\n    this.updateSuccess = e;\n    setTimeout(() => this.updateSuccess = undefined, 4000);\n  }\n  public handleData(e: Break) {\n    this.selectedData = e;\n    this._restoreFirstStep(e);\n  }\n  public handleOnSearch(e) {\n    this.listBreakFilter = [];\n    if (!e.target.value) {\n      this.breaks.forEach(x => {\n        this.listBreakFilter.push(x);\n      });\n      return;\n    } else {\n      const listBreakFilter = this.breaks.filter(x =>\n        x.nm_break.toUpperCase().includes(e.target.value.toUpperCase())\n        ||\n        x.id_break.toString().includes(e.target.value)\n      );\n      listBreakFilter.forEach(element => {\n        if (!this.listBreakFilter.find(x => x.id_break === element.id_break)) {\n          this.listBreakFilter.push(element);\n        }\n      });\n    }\n  }\n  // enregistre dans step le numero de l'etape en cours\n  public handleStep(step: number) {\n    this.step = step;\n    if (this.steps.find(x => x.active === true)) {\n      this.steps.find(x => x.active === true).active = false;\n    }\n    this.steps.find(x => x.step === step).active = true;\n    this.steps.filter(x => x.step < step).forEach(element => {\n      element.data = true;\n    });\n    this.steps.filter(x => x.step >= step).forEach(element => {\n      element.data = false;\n    });\n  }\n  // retour à la page precédente\n  public navigateBeetweenStep(step: number) {\n    if (!this.steps.find(x => x.step === step).data || step > this.step) {\n      return;\n    } else {\n      this.handleStep(step);\n    }\n  }\n  // recupere et enregistre le nom de la rupture à afficher\n  public handleName(name: string) {\n    this.firstStepData.name = name;\n    this.label = name;\n  }\n  // recupere et enregistre les substances concernées par la rup^ture à afficher\n  public handleSubst(subst: Array<Subst>) {\n    this.firstStepData.subst = subst;\n  }\n  // recupere les réponse de l'étape 1\n  public handleFirstForm(e) {\n    this.secondStepData.listPdct = e.selectedPdct.value;\n  }\n  // recupere les réponse de l'étape 2\n  public handleSecondeForm(lstSubst: Array<LstSubst>) {\n    this.secondStepData.listGroupPdct = lstSubst;\n  }\n  // recupere les réponse de l'étape 3\n  public handleThirdForm(formResult: any) {\n    this.thirdStepData.lstIndc = [];\n    this.thirdStepData.recurrence = formResult.recurrence;\n    formResult.recurrentData.forEach(element => {\n      this.thirdStepData.lstIndc.push(element);\n    });\n    formResult.startingData.forEach(element => {\n      this.thirdStepData.lstIndc.push(element);\n    });\n  }\n  // charge toutes les substance\n  private _getBreaks(): Observable<boolean> {\n    return this._breakService.getBreaksPending()\n    .pipe(map(\n      (resp) => {\n        if (typeof resp === 'boolean' && resp === true) {\n          this.breaks = this._breakService.getResults();\n          this.listBreakFilter = this._breakService.getResults();\n        }\n        return resp;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n  // charge toutes les substance\n  private _getSubsts(): Observable<boolean> {\n    return this._breakService.getSubsts()\n    .pipe(map(\n      (resp) => {\n        if (typeof resp === 'boolean' && resp === true) {\n          this.subst = this._breakService.getResults();\n        }\n        return resp;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n  // charge tous les indicateurs\n  private _getIndcs(): Observable<boolean> {\n    return this._breakService.getindc()\n    .pipe(map(\n      (resp) => {\n        if (typeof resp === 'boolean' && resp === true) {\n          this.thirdStepData.listIndcSorted = {\n            startingData: this._breakService.getResults().filter(x => x.cd_indc_faml.includes('IR')),\n            recurrentData: this._breakService.getResults().filter(x => x.cd_indc_faml.includes('IE'))\n          };\n        }\n        return resp;\n      },\n      (err) => {\n        return;\n      }\n    ));\n  }\n  private _resetData(): Observable<boolean> {\n    this.firstStepData = new FirstStep;\n    this.firstStepData.subst = [];\n    this.firstStepData.SelectPdct = [];\n    this.secondStepData = new SecondStep;\n    this.thirdStepData = new ThirdStep;\n    this.step = 0;\n    this.toUpdate = undefined;\n    this.nbSession = undefined;\n    this.label = undefined;\n    this.pendding = false;\n    return this._getBreaks().pipe(\n      first(),\n      switchMap(resp => this._getSubsts()),\n      switchMap(resp => this._getIndcs()),\n    )\n    .pipe(map(\n        (resp) => {\n          return true;\n        },\n        (err) => {\n          return err;\n        }\n    ));\n  }\n  private _restoreFirstStep(data: Break) {\n    this._resetData().pipe(\n    first(),\n    switchMap(resp => this.getDtCalendar(data)),\n    switchMap(resp => this.setAllStepData(data)),\n    )\n    .subscribe(\n      () => {\n        this._restoreSecondeStep();\n      }\n    );\n  }\n\n  private getDtCalendar(data: Break): Observable<boolean> {\n    return this._breakService.getDtCalendar(data.ds_break, data.cd_grnlr)\n    .pipe(map(\n      (resp: string) => {\n          this.dtPrdChoose = resp;\n          return true;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n  private setAllStepData(data: Break): Observable<boolean> {\n    this.pendding = false;\n    this.firstStepData.name = data.nm_break;\n    if (data.fl_break_actvt === 0) {\n      this.label = `⊘ ${data.nm_break}`;\n    } else if (data.fl_break_actvt === 2) {\n      this.label = data.nm_break;\n      this.pendding = true;\n    } else {\n      this.label = data.nm_break;\n    }\n    const subst = [];\n    const idsubst = [];\n    const idPdct = [];\n    JSON.parse(data.jlst_subst.value).forEach(element => {\n      const item = this.subst.find(x => x.cd_subst === element.code_subst);\n      subst.push(item);\n      idsubst.push(item.cd_subst);\n      element.groupes.forEach(groupes => {\n        groupes.code_prdt.forEach(cd_prdc => {\n          idPdct.push(cd_prdc);\n        });\n      });\n    });\n    this.firstStepData.subst = subst;\n    return this._breakService.getPdctBreakUpdate(idsubst, idPdct, data.id_break)\n    .pipe(map(\n      (resp: Array<PdctHldSubst>) => {\n\n          idPdct.forEach((element: number) => {\n            const pdct = resp.find((x: PdctHldSubst) => x.cd_cip13 === element);\n            if (pdct) {\n              this.firstStepData.SelectPdct.push(pdct);\n            }\n          });\n          this._getNbVersion(data.id_break, data.nb_vers);\n          return true;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n\n\n  private _restoreSecondeStep() {\n    this.secondStepData.listGroupPdct = JSON.parse(this.selectedData.jlst_subst.value);\n    this.secondStepData.listPdct = this.firstStepData.SelectPdct;\n    this.pdctToCompare = [];\n    this.firstStepData.SelectPdct.forEach(element => {\n      const compare = new PdctHldSubst;\n      Object.assign(compare, element);\n      this.pdctToCompare.push(compare);\n    });\n    this._restoreThirdStep();\n  }\n  private _restoreThirdStep() {\n    this.thirdStepData.recurrence = this.selectedData.cd_grnlr;\n    this.thirdStepData.lstIndc = JSON.parse(this.selectedData.jlst_indc.value);\n    this.indcToCompare = JSON.parse(this.selectedData.jlst_indc.value);\n    this.handleStep(4);\n  }\n  private _getNbVersion(nb: number, nbvers: number) {\n    if (nb < 10) {\n      this.nbSession = `00${nb.toString()}_${nbvers}`;\n    } else if (nb > 9 && nb < 100) {\n      this.nbSession = `0${nb.toString()}_${nbvers}`;\n    } else {\n      this.nbSession = `${nb.toString()}_${nbvers}`;\n    }\n  }\n\n}\n","<div class=\"row height-max-content\">\n    <div class=\"left-menu p-0 col-lg-1\">\n      <app-navbar class=\"navbar\"></app-navbar>\n    </div>\n  \n  \n    <div class=\"col-lg-11 right-content\">\n      <div class=\"header\">\n        <app-highlight-title [title]=\"'_Home_label_unit_' | translate\"\n          [highlight]=\"['_Unit_title__highlighted_' | translate]\"></app-highlight-title>\n      </div>\n\n      <div class=\"row d-flex flex-wrap mb-5\">\n        <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/DCI_actif.svg'\"\n          [srcInactive]=\"'ansm_icons/DCI_inactif.svg'\" [altText]=\"'_Dashboard_dropdown_session_title_' | translate\"\n          [label]=\"'_Dashboard_dropdown_session_title_' | translate\">\n        </app-icon-text>\n        <app-dropdown\n        class=\"col-lg-7 p-0\"   \n        [active]=\"true\" \n        [search]=\"true\" \n        [typeOfData]=\"'data-entry-admin'\" \n        [dropdownToggleLabel]=\"selectedSession.nm_break\" \n        [data]=\"listBreakFilter\" \n        [typeOfList]=\"'default'\"\n        (keyUpEvent)=\"handleOnSearchSession($event)\"\n        (presentData)=\"handleSession($event)\"\n        ></app-dropdown>\n      </div>\n\n      <div class=\"row d-flex flex-wrap mb-5\">\n        <app-icon-text class=\"col-lg-5 p-0\" [colorInactive]=\"'grey'\" [active]=\"true\" [fontSize]=\"'21px'\" [fontLineHeight]=\"'37px'\" [srcActive]=\"'ansm_icons/DCI_actif.svg'\"\n          [srcInactive]=\"'ansm_icons/DCI_inactif.svg'\" [altText]=\"'_Unit_field_pdct_choice_' | translate\"\n          [label]=\"'_Unit_field_pdct_choice_' | translate\">\n        </app-icon-text>\n        <app-dropdown class=\"col-lg-7 p-0\" \n        [active]=\"true\" \n        [search]=\"true\" \n        [dropdownToggleLabels]=\"selectedPdct\" \n        [data]=\"listPdctFound\" \n        [typeOfList]=\"'checkbox'\" \n        [typeOfData]=\"'unit'\" \n        (keyUpEvent)=\"handleOnSearch($event)\" \n        (checkEvent)=\"handleOnChecked($event)\"></app-dropdown>\n      </div>\n\n      <form class=\"row d-flex flex-wrap mb-5 form\" (ngSubmit)=\"onSubmit()\" [formGroup]=\"form\">\n\n        <div class=\"loader-content\" *ngIf=\"loader.showSpinner === true\">\n            <mat-progress-spinner  mode=\"indeterminate\">\n            </mat-progress-spinner>\n        </div>\n        <div class=\"table-background\" *ngIf=\"loader.showSpinner === false\">\n            <div class=\"empty-state\" *ngIf=\"selectedPdct.length === 0\">\n                <div>\n                  <img width=\"350\" height=\"100\" class=\"empty-state-img\" src=\"./assets/images/ansm_icons/Empty_state_illu.png\" [alt]=\"'_Dashboard_empty_state_title_' | translate\">\n                  <h2 class=\"empty-state-title\">{{'_Unit_empty_state_title_' | translate}}</h2>\n                  <h3 class=\"empty-state-subtitle\">{{'_Unit_empty_state_subtitle_' | translate}}</h3>\n                </div>\n            </div>\n            <div class=\"table-container\" *ngIf=\"selectedPdct.length > 0\">\n                <table>\n                    <caption style=\"visibility:hidden; \">{{'_Home_label_unit_' | translate}}</caption>\n                    <th \n                    scope=\"col\"\n                    class=\"col-order\"\n                    [ngClass]=\"{'order-actif': orderUtils.getOrder === 'nom'}\" (click)=\"orderUtils.setOrderName('nom')\">\n                      <div>\n                        {{'_Dashboard_array_presentation_name_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                      </div>\n                    </th>\n                    <th \n                    scope=\"col\"\n                    class=\"col-order\"\n                    [ngClass]=\"{'order-actif': orderUtils.getOrder === 'presentation'}\" (click)=\"orderUtils.setOrderName('presentation')\">\n                      <div>\n                        {{'_Dashboard_array_presentation_details_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                      </div>\n                    </th>\n                    <th \n                    scope=\"col\"\n                    class=\"col-order\"\n                    [ngClass]=\"{'order-actif': orderUtils.getOrder === 'labo'}\" (click)=\"orderUtils.setOrderName('labo')\">\n                      <div>\n                        {{'_Dashboard_array_presentation_labo_mkt_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                      </div>\n                    </th>\n                    <th \n                    scope=\"col\"\n                    class=\"col-order\"\n                    [ngClass]=\"{'order-actif': orderUtils.getOrder === 'cip'}\" (click)=\"orderUtils.setOrderName('cip')\">\n                      <div>\n                        {{'_Dashboard_array_presentation_code_cip_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                      </div>\n                    </th>\n                    <th \n                    scope=\"col\"\n                    class=\"col-order\"\n                    [ngClass]=\"{'order-actif': orderUtils.getOrder === 'dosage'}\" (click)=\"orderUtils.setOrderName('dosage')\">\n                      <div>\n                        {{'_Unit_array_dose_' | translate}}\n                        <span [ngClass]=\"{'reverse': orderUtils.reverse}\">▼</span>\n                      </div>\n                    </th>\n                    <th scope=\"col\">\n                        {{'_Unit_array_unit_' | translate}}\n                    </th>\n                    <tr \n                    *ngFor=\"let data of selectedPdct | orderBy: orderUtils.getOrder:orderUtils.reverse:'case-insensitive'\"\n                    [class.register]=\"data.unit !== null\">\n                        <td>{{data.nom}}</td>\n                        <td>{{data.presentation}}</td>\n                        <td>{{data.labo}}</td>\n                        <td>{{data.cip}}</td>\n                        <td>{{data.dosage}}</td>\n                        <td>\n                          <input \n                          [formControlName]=\"data.cip\"\n                          [id]=\"data.cip\" \n                          [type]=\"'number'\"\n                          [value]=\"data.unit !== null? data.unit : 1\"\n                          min=\"0\"\n                          step=\".1\"\n                          style=\"min-width: 80px;\"\n                        ></td>\n                    </tr>\n                </table>\n\n                <div class=\"block-submit\">\n                  <div class=\"d-flex\">\n                      <div class=\"block-flex-submit\">\n                          <input type=\"submit\" [disabled]=\"!form.valid || isSubmitted\" [ngClass]=\"form.valid && !isSubmitted? 'input-valid' : 'input-invalid'\" value=\"{{'_DataEntry_form_submit_' | translate}}\">\n                      </div>\n                      <div class=\"loader-content-input\" *ngIf=\"loader.showSpinner === true && isSubmitted\">\n                          <mat-progress-spinner  mode=\"indeterminate\">\n                          </mat-progress-spinner>\n                      </div>\n                  </div>\n                  <div\n                  class=\"message succes-msg\"\n                  *ngIf=\"succes\"\n                  [translate]=\"'_Common_Requet_Sended_'\"></div>\n                  <div\n                  class=\"message error-msg\"\n                  *ngIf=\"error\"\n                  [translate]=\"'_Common_UnkownError_'\"></div>\n                </div>\n              </div>\n          </div>\n\n      </form>\n\n    </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { first, map, switchMap } from 'rxjs/operators';\nimport { Break, PdctUnitModel } from 'src/app/models';\nimport { BreakService, LoaderService, UnitService } from 'src/app/services';\nimport { OrderUtils } from 'src/app/utils';\n\n@Component({\n  selector: 'app-unit',\n  templateUrl: './unit.component.html',\n  styleUrls: ['./unit.component.scss']\n})\nexport class UnitComponent implements OnInit {\n\n  form: FormGroup = new FormGroup({});\n  public isSubmitted: boolean = false;\n  public breaks: Array<Break>;\n  public selectedSession: Break = new Break;\n  public listBreakFilter: Array<Break>;\n  public pdct: PdctUnitModel[] = [];\n  public listPdctFound: PdctUnitModel[] = [];\n  public listPdctFoundBySession: PdctUnitModel[];\n  public selectedPdct: PdctUnitModel[] = [];\n  public succes: boolean;\n  public error: boolean;\n  public supp = new Break;\n\n  constructor(\n    public orderUtils: OrderUtils,\n    private readonly _breakService: BreakService,\n    private readonly _unitService: UnitService,\n    public loader: LoaderService,\n  ) {\n    this.supp.nm_break = 'Afficher tous les produits';\n  }\n\n  ngOnInit(): void {\n    this.orderUtils.setOrder = 'nom';\n    this.orderUtils.reverse = false;\n    this.initVue();\n  }\n\n\n  initVue() {\n    this._getBreaks()\n    .pipe(\n      first(),\n      switchMap((resp: boolean) => this._unitService.getPdcts())\n    )\n    .subscribe(\n        (resp: PdctUnitModel[]) => {\n          this.setPdcts(resp);\n          this.selectedSession = new Break;\n          this.listPdctFoundBySession = undefined;\n        }\n    );\n  }\n\n  initForm() {\n    const group: any = {};\n    this.selectedPdct.forEach((pdct: PdctUnitModel) => {\n      group[pdct.cip] = new FormControl(pdct.unit !== null ? pdct.unit : 1, [Validators.required, Validators.pattern(/^\\d*\\.?\\d$/)]);\n    });\n    this.form = new FormGroup(group);\n  }\n\n  onSubmit() {\n    const formValue = this.form.getRawValue();\n    this.isSubmitted = true;\n    const results = Object.keys(formValue).map(function(cle) {\n        return [Number(cle), Number(formValue[cle])];\n    });\n    this._unitService.updateOrCreateUnit(results)\n    .pipe(\n      first(),\n    )\n    .subscribe(\n        (resp) => {\n          results.forEach((x: Array<number>) => {\n            this.pdct.find((y: PdctUnitModel) => x[0] === y.cip).unit = x[1];\n          });\n          this.isSubmitted = false;\n          this.succes = true;\n          setTimeout(() =>\n          this.succes = false, 4000);\n        },\n        (err) => {\n          this.error = true;\n          setTimeout(() =>\n          this.error = false, 4000);\n        });\n\n  }\n\n  public handleOnSearchSession(e) {\n    if (!e.target.value) {\n      this.listBreakFilter = this.breaks.slice();\n    } else {\n      this.listBreakFilter = this.breaks.filter(x => x.nm_break.toUpperCase().includes(e.target.value.toUpperCase()));\n    }\n    if (!this.listBreakFilter.find(x => x.nm_break === this.supp.nm_break) && this.selectedSession) {\n      this.listBreakFilter.unshift(this.supp);\n    }\n  }\n\n  public handleSession(e: any) {\n    if (e.nm_break === this.supp.nm_break) {\n      this.selectedSession = new Break;\n      this.listPdctFoundBySession = undefined;\n      this.listPdctFound = this.pdct.slice();\n      return;\n    }\n    this.selectedSession = e;\n    const grp = JSON.parse(e['jlst_subst']['value']);\n    const cips = new Array;\n    grp.forEach(element => {\n      element['groupes']\n      .forEach(el => {\n        el['code_prdt']\n        .forEach((cip: number) => {\n          cips.push(cip);\n        });\n      });\n    });\n    this.listPdctFoundBySession = this.pdct.filter((x: PdctUnitModel) =>\n      cips.includes(x.cip)\n    );\n    this.listPdctFound = this.listPdctFoundBySession.slice();\n  }\n\n  public handleOnSearch(e) {\n    const list = this.listPdctFoundBySession ? this.listPdctFoundBySession.slice() : this.pdct.slice();\n    if (!e.target.value) {\n      this.listPdctFound = list;\n      return;\n    } else {\n      this.listPdctFound = list.filter((x: PdctUnitModel) =>\n      x.nom.toUpperCase().includes(e.target.value.toUpperCase())\n      ||\n      x.cip.toString().includes(e.target.value.toUpperCase())\n      );\n    }\n  }\n\n  public handleOnChecked(e) {\n    if (e.checked && !this.selectedPdct.find((x: PdctUnitModel) => x.cip === e.value.cip)) {\n      this.selectedPdct.push(e.value);\n    } else if (!e.checked) {\n      this.selectedPdct = this.selectedPdct.filter((x: PdctUnitModel) => x.cip !== e.value.cip);\n    } else {\n      return;\n    }\n    this.initForm();\n  }\n\n  // charge toutes les substance\n  private _getBreaks(): Observable<boolean> {\n    return this._breakService.getBreaksPending()\n    .pipe(map(\n      (resp) => {\n        if (typeof resp === 'boolean' && resp === true) {\n          this.breaks = this._breakService.getResults();\n          this.listBreakFilter = this._breakService.getResults();\n          if (!this.listBreakFilter.find(x => x.nm_break === this.supp.nm_break)) {\n            this.listBreakFilter.unshift(this.supp);\n          }\n        }\n        return true;\n      },\n      (err) => {\n        return err;\n      }\n    ));\n  }\n\n  private setPdcts(resp: PdctUnitModel[]) {\n    this.pdct = resp;\n    this.listPdctFound = resp;\n  }\n\n}\n","var map = {\n\t\"./config.app.example.json\": \"./src/config/config.app.example.json\",\n\t\"./config.app.json\": \"./src/config/config.app.json\",\n\t\"./mail.conf.json\": \"./src/config/mail.conf.json\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/config sync recursive ^\\\\.\\\\/.*$\";","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","var map = {\n\t\"./en.json\": \"./src/i18n/en.json\",\n\t\"./fr.json\": \"./src/i18n/fr.json\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/i18n sync recursive ^\\\\.\\\\/.*\\\\.json$\";","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport { RecaptchaComponent } from 'ng-recaptcha';\n\nif (environment.production) {\n  enableProdMode();\n}\n// Usefull to avoid this followed error : \"Unhandled Promise rejection: Timeout ; Zone: <root> ; Task: Promise.then ; Value: Timeout undefined\"\n// https://github.com/DethAriel/ng-recaptcha/issues/123\nRecaptchaComponent.prototype.ngOnDestroy = function() {\n  if (this.subscription) {\n    this.subscription.unsubscribe();\n  }\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch((err) => console.log('[LEEM-TECH] - [leem-front] - ' + new Date().toTimeString() + ' - ' + err));\n","/* (ignored) */"]}