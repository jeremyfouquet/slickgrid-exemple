import { mapOperatorType, mapOperatorByFieldType } from './utilities';
import { FieldType, OperatorType, SortDirection } from './../models/index';
import QueryBuilder from './graphqlQueryBuilder';
import * as ɵngcc0 from '@angular/core';
const DEFAULT_ITEMS_PER_PAGE = 25;
const DEFAULT_PAGE_SIZE = 20;
export class GraphqlService {
    constructor() {
        this._currentFilters = [];
        this._currentSorters = [];
        this._datasetIdPropName = 'id';
        this.defaultPaginationOptions = {
            first: DEFAULT_ITEMS_PER_PAGE,
            offset: 0
        };
    }
    /** Getter for the Column Definitions */
    get columnDefinitions() {
        return this._columnDefinitions;
    }
    /** Getter for the Grid Options pulled through the Grid Object */
    get _gridOptions() {
        return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};
    }
    /** Initialization of the service, which acts as a constructor */
    init(serviceOptions, pagination, grid) {
        this._grid = grid;
        this.options = serviceOptions || { datasetName: '', columnDefinitions: [] };
        this.pagination = pagination;
        this._datasetIdPropName = this._gridOptions.datasetIdPropertyName || 'id';
        if (grid && grid.getColumns) {
            this._columnDefinitions = (serviceOptions && serviceOptions.columnDefinitions) || grid.getColumns();
        }
    }
    /**
     * Build the GraphQL query, since the service include/exclude cursor, the output query will be different.
     * @param serviceOptions GraphqlServiceOption
     */
    buildQuery() {
        if (!this.options || !this.options.datasetName || (!this._columnDefinitions && !Array.isArray(this.options.columnDefinitions))) {
            throw new Error('GraphQL Service requires the "datasetName" property to properly build the GraphQL query');
        }
        // get the column definitions and exclude some if they were tagged as excluded
        let columnDefinitions = this._columnDefinitions || this.options.columnDefinitions;
        columnDefinitions = columnDefinitions.filter((column) => !column.excludeFromQuery);
        const queryQb = new QueryBuilder('query');
        const datasetQb = new QueryBuilder(this.options.datasetName);
        const nodesQb = new QueryBuilder('nodes');
        // get all the columnds Ids for the filters to work
        const columnIds = [];
        if (columnDefinitions && Array.isArray(columnDefinitions)) {
            for (const column of columnDefinitions) {
                columnIds.push(column.field);
                // if extra "fields" are passed, also push them to columnIds
                if (column.fields) {
                    columnIds.push(...column.fields);
                }
            }
        }
        // Slickgrid also requires the "id" (or the dataset defined unique ide) field to be part of DataView
        // add it to the GraphQL query if it wasn't already part of the list
        if (columnIds.indexOf(this._datasetIdPropName) === -1) {
            columnIds.unshift(this._datasetIdPropName);
        }
        const columnsQuery = this.buildFilterQuery(columnIds);
        let graphqlNodeFields = [];
        if (this._gridOptions.enablePagination !== false) {
            if (this.options.isWithCursor) {
                // ...pageInfo { hasNextPage, endCursor }, edges { cursor, node { _columns_ } }, totalCount: 100
                const edgesQb = new QueryBuilder('edges');
                const pageInfoQb = new QueryBuilder('pageInfo');
                pageInfoQb.find('hasNextPage', 'hasPreviousPage', 'endCursor', 'startCursor');
                nodesQb.find(columnsQuery);
                edgesQb.find(['cursor']);
                graphqlNodeFields = ['totalCount', nodesQb, pageInfoQb, edgesQb];
            }
            else {
                // ...nodes { _columns_ }, totalCount: 100
                nodesQb.find(columnsQuery);
                graphqlNodeFields = ['totalCount', nodesQb];
            }
            // all properties to be returned by the query
            datasetQb.find(graphqlNodeFields);
        }
        else {
            // include all columns to be returned
            datasetQb.find(columnsQuery);
        }
        // add dataset filters, could be Pagination and SortingFilters and/or FieldFilters
        let datasetFilters = {};
        // only add pagination if it's enabled in the grid options
        if (this._gridOptions.enablePagination !== false) {
            datasetFilters = Object.assign({}, this.options.paginationOptions, { first: ((this.options.paginationOptions && this.options.paginationOptions.first) ? this.options.paginationOptions.first : ((this.pagination && this.pagination.pageSize) ? this.pagination.pageSize : null)) || this.defaultPaginationOptions.first });
            if (!this.options.isWithCursor) {
                datasetFilters.offset = ((this.options.paginationOptions && this.options.paginationOptions.hasOwnProperty('offset')) ? +this.options.paginationOptions['offset'] : 0);
            }
        }
        if (this.options.sortingOptions && Array.isArray(this.options.sortingOptions) && this.options.sortingOptions.length > 0) {
            // orderBy: [{ field:x, direction: 'ASC' }]
            datasetFilters.orderBy = this.options.sortingOptions;
        }
        if (this.options.filteringOptions && Array.isArray(this.options.filteringOptions) && this.options.filteringOptions.length > 0) {
            // filterBy: [{ field: date, operator: '>', value: '2000-10-10' }]
            datasetFilters.filterBy = this.options.filteringOptions;
        }
        if (this.options.addLocaleIntoQuery) {
            // first: 20, ... locale: "en-CA"
            datasetFilters.locale = this._gridOptions && this._gridOptions.i18n && this._gridOptions.i18n.currentLang || this._gridOptions.locale || 'en';
        }
        if (this.options.extraQueryArguments) {
            // first: 20, ... userId: 123
            for (const queryArgument of this.options.extraQueryArguments) {
                datasetFilters[queryArgument.field] = queryArgument.value;
            }
        }
        // with pagination:: query { users(first: 20, offset: 0, orderBy: [], filterBy: []) { totalCount: 100, nodes: { _columns_ }}}
        // without pagination:: query { users(orderBy: [], filterBy: []) { _columns_ }}
        datasetQb.filter(datasetFilters);
        queryQb.find(datasetQb);
        const enumSearchProperties = ['direction:', 'field:', 'operator:'];
        return this.trimDoubleQuotesOnEnumField(queryQb.toString(), enumSearchProperties, this.options.keepArgumentFieldDoubleQuotes || false);
    }
    /**
     * From an input array of strings, we want to build a GraphQL query string.
     * The process has to take the dot notation and parse it into a valid GraphQL query
     * Following this SO answer https://stackoverflow.com/a/47705476/1212166
     *
     * INPUT
     *  ['firstName', 'lastName', 'billing.address.street', 'billing.address.zip']
     * OUTPUT
     * firstName, lastName, billing{address{street, zip}}
     * @param inputArray
     */
    buildFilterQuery(inputArray) {
        const set = (o = {}, a) => {
            const k = a.shift();
            o[k] = a.length ? set(o[k], a) : null;
            return o;
        };
        const output = inputArray.reduce((o, a) => set(o, a.split('.')), {});
        return JSON.stringify(output)
            .replace(/\"|\:|null/g, '')
            .replace(/^\{/, '')
            .replace(/\}$/, '');
    }
    clearFilters() {
        this._currentFilters = [];
        this.updateOptions({ filteringOptions: [] });
    }
    clearSorters() {
        this._currentSorters = [];
        this.updateOptions({ sortingOptions: [] });
    }
    /**
     * Get an initialization of Pagination options
     * @return Pagination Options
     */
    getInitPaginationOptions() {
        const paginationFirst = this.pagination ? this.pagination.pageSize : DEFAULT_ITEMS_PER_PAGE;
        return (this.options && this.options.isWithCursor) ? { first: paginationFirst } : { first: paginationFirst, offset: 0 };
    }
    /** Get the GraphQL dataset name */
    getDatasetName() {
        return this.options.datasetName || '';
    }
    /** Get the Filters that are currently used by the grid */
    getCurrentFilters() {
        return this._currentFilters;
    }
    /** Get the Pagination that is currently used by the grid */
    getCurrentPagination() {
        return this._currentPagination;
    }
    /** Get the Sorters that are currently used by the grid */
    getCurrentSorters() {
        return this._currentSorters;
    }
    /*
     * Reset the pagination options
     */
    resetPaginationOptions() {
        let paginationOptions;
        if (this.options && this.options.isWithCursor) {
            // first, last, after, before
            paginationOptions = {
                after: '',
                before: undefined,
                last: undefined
            };
        }
        else {
            // first, last, offset
            paginationOptions = ((this.options && this.options.paginationOptions) || this.getInitPaginationOptions());
            paginationOptions.offset = 0;
        }
        // save current pagination as Page 1 and page size as "first" set size
        this._currentPagination = {
            pageNumber: 1,
            pageSize: paginationOptions.first || DEFAULT_PAGE_SIZE,
        };
        this.updateOptions({ paginationOptions });
    }
    updateOptions(serviceOptions) {
        this.options = Object.assign({}, this.options, serviceOptions);
    }
    /*
     * FILTERING
     */
    processOnFilterChanged(event, args) {
        const gridOptions = this._gridOptions;
        const backendApi = gridOptions.backendServiceApi;
        if (backendApi === undefined) {
            throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');
        }
        // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)
        this._currentFilters = this.castFilterToColumnFilters(args.columnFilters);
        if (!args || !args.grid) {
            throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');
        }
        // loop through all columns to inspect filters & set the query
        this.updateFilters(args.columnFilters, false);
        this.resetPaginationOptions();
        return this.buildQuery();
    }
    /*
     * PAGINATION
     * With cursor, the query can have 4 arguments (first, after, last, before), for example:
     *   users (first:20, after:"YXJyYXljb25uZWN0aW9uOjM=") {
     *     totalCount
     *     pageInfo {
     *       hasNextPage
     *       hasPreviousPage
     *       endCursor
     *       startCursor
     *     }
     *     edges {
     *       cursor
     *       node {
     *         name
     *         gender
     *       }
     *     }
     *   }
     * Without cursor, the query can have 3 arguments (first, last, offset), for example:
     *   users (first:20, offset: 10) {
     *     totalCount
     *     nodes {
     *       name
     *       gender
     *     }
     *   }
     */
    processOnPaginationChanged(event, args) {
        const pageSize = +(args.pageSize || ((this.pagination) ? this.pagination.pageSize : DEFAULT_PAGE_SIZE));
        this.updatePagination(args.newPage, pageSize);
        // build the GraphQL query which we will use in the WebAPI callback
        return this.buildQuery();
    }
    /*
     * SORTING
     * we will use sorting as per a Facebook suggestion on a Github issue (with some small changes)
     * https://github.com/graphql/graphql-relay-js/issues/20#issuecomment-220494222
     *
     *  users (first: 20, offset: 10, orderBy: [{field: lastName, direction: ASC}, {field: firstName, direction: DESC}]) {
     *    totalCount
     *    nodes {
     *      name
     *      gender
     *    }
     *  }
     */
    // @deprecated note, we should remove "SortChangedArgs" and only use: ColumnSort | MultiColumnSort
    processOnSortChanged(event, args) {
        const sortColumns = (args.multiColumnSort) ? args.sortCols : new Array({ sortCol: args.sortCol, sortAsc: args.sortAsc });
        // loop through all columns to inspect sorters & set the query
        this.updateSorters(sortColumns);
        // build the GraphQL query which we will use in the WebAPI callback
        return this.buildQuery();
    }
    /**
     * loop through all columns to inspect filters & update backend service filteringOptions
     * @param columnFilters
     */
    updateFilters(columnFilters, isUpdatedByPresetOrDynamically) {
        const searchByArray = [];
        let searchValue;
        // on filter preset load, we need to keep current filters
        if (isUpdatedByPresetOrDynamically) {
            this._currentFilters = this.castFilterToColumnFilters(columnFilters);
        }
        for (const columnId in columnFilters) {
            if (columnFilters.hasOwnProperty(columnId)) {
                const columnFilter = columnFilters[columnId];
                // if user defined some "presets", then we need to find the filters from the column definitions instead
                let columnDef;
                if (isUpdatedByPresetOrDynamically && Array.isArray(this._columnDefinitions)) {
                    columnDef = this._columnDefinitions.find((column) => column.id === columnFilter.columnId);
                }
                else {
                    columnDef = columnFilter.columnDef;
                }
                if (!columnDef) {
                    throw new Error('[GraphQL Service]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?');
                }
                const fieldName = (columnDef.filter && columnDef.filter.queryField) || columnDef.queryFieldFilter || columnDef.queryField || columnDef.field || columnDef.name || '';
                let searchTerms = columnFilter && columnFilter.searchTerms || [];
                let fieldSearchValue = (Array.isArray(searchTerms) && searchTerms.length === 1) ? searchTerms[0] : '';
                if (typeof fieldSearchValue === 'undefined') {
                    fieldSearchValue = '';
                }
                if (!fieldName) {
                    throw new Error(`GraphQL filter could not find the field name to query the search, your column definition must include a valid "field" or "name" (optionally you can also use the "queryfield").`);
                }
                fieldSearchValue = '' + fieldSearchValue; // make sure it's a string
                const matches = fieldSearchValue.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/); // group 1: Operator, 2: searchValue, 3: last char is '*' (meaning starts with, ex.: abc*)
                let operator = columnFilter.operator || ((matches) ? matches[1] : '');
                searchValue = (!!matches) ? matches[2] : '';
                const lastValueChar = (!!matches) ? matches[3] : (operator === '*z' ? '*' : '');
                // no need to query if search value is empty
                if (fieldName && searchValue === '' && searchTerms.length === 0) {
                    continue;
                }
                if (Array.isArray(searchTerms) && searchTerms.length === 1 && typeof searchTerms[0] === 'string' && searchTerms[0].indexOf('..') > 0) {
                    searchTerms = searchTerms[0].split('..');
                    if (!operator) {
                        operator = OperatorType.rangeExclusive;
                    }
                }
                if (typeof searchValue === 'string') {
                    // escaping the search value
                    searchValue = searchValue.replace(`'`, `''`); // escape single quotes by doubling them
                    if (operator === '*' || operator === 'a*' || operator === '*z' || lastValueChar === '*') {
                        operator = ((operator === '*' || operator === '*z') ? 'EndsWith' : 'StartsWith');
                    }
                }
                // if we didn't find an Operator but we have a Column Operator inside the Filter (DOM Element), we should use its default Operator
                // multipleSelect is "IN", while singleSelect is "EQ", else don't map any operator
                if (!operator && columnDef.filter) {
                    operator = columnDef.filter.operator;
                }
                // when having more than 1 search term (we need to create a CSV string for GraphQL "IN" or "NOT IN" filter search)
                if (searchTerms && searchTerms.length > 1 && (operator === 'IN' || operator === 'NIN' || operator === 'NOTIN' || operator === 'NOT IN' || operator === 'NOT_IN')) {
                    searchValue = searchTerms.join(',');
                }
                else if (searchTerms && searchTerms.length === 2 && (!operator || operator === OperatorType.rangeExclusive || operator === OperatorType.rangeInclusive)) {
                    if (!operator) {
                        operator = OperatorType.rangeExclusive;
                    }
                    searchByArray.push({ field: fieldName, operator: (operator === OperatorType.rangeInclusive ? 'GE' : 'GT'), value: searchTerms[0] });
                    searchByArray.push({ field: fieldName, operator: (operator === OperatorType.rangeInclusive ? 'LE' : 'LT'), value: searchTerms[1] });
                    continue;
                }
                // if we still don't have an operator find the proper Operator to use by it's field type
                if (!operator) {
                    operator = mapOperatorByFieldType(columnDef.type || FieldType.string);
                }
                // build the search array
                searchByArray.push({ field: fieldName, operator: mapOperatorType(operator), value: searchValue });
            }
        }
        // update the service options with filters for the buildQuery() to work later
        this.updateOptions({ filteringOptions: searchByArray });
    }
    /**
     * Update the pagination component with it's new page number and size
     * @param newPage
     * @param pageSize
     */
    updatePagination(newPage, pageSize) {
        this._currentPagination = {
            pageNumber: newPage,
            pageSize,
        };
        let paginationOptions;
        if (this.options && this.options.isWithCursor) {
            paginationOptions = {
                first: pageSize
            };
        }
        else {
            paginationOptions = {
                first: pageSize,
                offset: (newPage > 1) ? ((newPage - 1) * pageSize) : 0 // recalculate offset but make sure the result is always over 0
            };
        }
        // unless user specifically set "enablePagination" to False, we'll update pagination options in every other cases
        if (this._gridOptions && (this._gridOptions.enablePagination || !this._gridOptions.hasOwnProperty('enablePagination'))) {
            this.updateOptions({ paginationOptions });
        }
    }
    /**
     * loop through all columns to inspect sorters & update backend service sortingOptions
     * @param columnFilters
     */
    updateSorters(sortColumns, presetSorters) {
        let currentSorters = [];
        const graphqlSorters = [];
        if (!sortColumns && presetSorters) {
            // make the presets the current sorters, also make sure that all direction are in uppercase for GraphQL
            currentSorters = presetSorters;
            currentSorters.forEach((sorter) => sorter.direction = sorter.direction.toUpperCase());
            // display the correct sorting icons on the UI, for that it requires (columnId, sortAsc) properties
            const tmpSorterArray = currentSorters.map((sorter) => {
                const columnDef = this._columnDefinitions.find((column) => column.id === sorter.columnId);
                graphqlSorters.push({
                    field: columnDef ? ((columnDef.queryFieldSorter || columnDef.queryField || columnDef.field) + '') : (sorter.columnId + ''),
                    direction: sorter.direction
                });
                // return only the column(s) found in the Column Definitions ELSE null
                if (columnDef) {
                    return {
                        columnId: sorter.columnId,
                        sortAsc: sorter.direction.toUpperCase() === SortDirection.ASC
                    };
                }
                return null;
            });
            // set the sort icons, but also make sure to filter out null values (that happens when columnDef is not found)
            if (Array.isArray(tmpSorterArray)) {
                this._grid.setSortColumns(tmpSorterArray.filter((sorter) => sorter));
            }
        }
        else if (sortColumns && !presetSorters) {
            // build the orderBy array, it could be multisort, example
            // orderBy:[{field: lastName, direction: ASC}, {field: firstName, direction: DESC}]
            if (Array.isArray(sortColumns) && sortColumns.length > 0) {
                for (const column of sortColumns) {
                    if (column && column.sortCol) {
                        currentSorters.push({
                            columnId: column.sortCol.id + '',
                            direction: column.sortAsc ? SortDirection.ASC : SortDirection.DESC
                        });
                        const fieldName = (column.sortCol.queryFieldSorter || column.sortCol.queryField || column.sortCol.field || '') + '';
                        if (fieldName) {
                            graphqlSorters.push({
                                field: fieldName,
                                direction: column.sortAsc ? SortDirection.ASC : SortDirection.DESC
                            });
                        }
                    }
                }
            }
        }
        // keep current Sorters and update the service options with the new sorting
        this._currentSorters = currentSorters;
        this.updateOptions({ sortingOptions: graphqlSorters });
    }
    /**
     * A function which takes an input string and removes double quotes only
     * on certain fields are identified as GraphQL enums (except fields with dot notation)
     * For example let say we identified ("direction:", "sort") as word which are GraphQL enum fields
     * then the result will be:
     * FROM
     * query { users (orderBy:[{field:"firstName", direction:"ASC"} }]) }
     * TO
     * query { users (orderBy:[{field: firstName, direction: ASC}})}
     *
     * EXCEPTIONS (fields with dot notation "." which are inside a "field:")
     * these fields will keep double quotes while everything else will be stripped of double quotes
     * query { users (orderBy:[{field:"billing.street.name", direction: "ASC"} }
     * TO
     * query { users (orderBy:[{field:"billing.street.name", direction: ASC}}
     * @param inputStr input string
     * @param enumSearchWords array of enum words to filter
     * @returns outputStr output string
     */
    trimDoubleQuotesOnEnumField(inputStr, enumSearchWords, keepArgumentFieldDoubleQuotes) {
        const patternWordInQuotes = `\s?((field:\s*)?".*?")`;
        let patternRegex = enumSearchWords.join(patternWordInQuotes + '|');
        patternRegex += patternWordInQuotes; // the last one should also have the pattern but without the pipe "|"
        // example with (field: & direction:):  /field:s?(".*?")|direction:s?(".*?")/
        const reg = new RegExp(patternRegex, 'g');
        return inputStr.replace(reg, (group1, group2, group3) => {
            // remove double quotes except when the string starts with a "field:"
            let removeDoubleQuotes = true;
            if (group1.startsWith('field:') && keepArgumentFieldDoubleQuotes) {
                removeDoubleQuotes = false;
            }
            const rep = removeDoubleQuotes ? group1.replace(/"/g, '') : group1;
            return rep;
        });
    }
    //
    // private functions
    // -------------------
    /**
     * Cast provided filters (could be in multiple formats) into an array of CurrentFilter
     * @param columnFilters
     */
    castFilterToColumnFilters(columnFilters) {
        // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)
        const filtersArray = (typeof columnFilters === 'object') ? Object.keys(columnFilters).map(key => columnFilters[key]) : columnFilters;
        if (!Array.isArray(filtersArray)) {
            return [];
        }
        return filtersArray.map((filter) => {
            const tmpFilter = { columnId: filter.columnId || '' };
            if (filter.operator) {
                tmpFilter.operator = filter.operator;
            }
            if (Array.isArray(filter.searchTerms)) {
                tmpFilter.searchTerms = filter.searchTerms;
            }
            return tmpFilter;
        });
    }
}
GraphqlService.ɵfac = function GraphqlService_Factory(t) { return new (t || GraphqlService)(); };
GraphqlService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: GraphqlService, factory: GraphqlService.ɵfac });

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGhxbC5zZXJ2aWNlLmpzIiwic291cmNlcyI6WyJuZzovYW5ndWxhci1zbGlja2dyaWQvYXBwL21vZHVsZXMvYW5ndWxhci1zbGlja2dyaWQvc2VydmljZXMvZ3JhcGhxbC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdEUsT0FBTyxFQVNMLFNBQVMsRUFVVCxZQUFZLEVBSVosYUFBYSxFQUdkLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxZQUFZLE1BQU0sdUJBQXVCLENBQUM7O0FBRWpELE1BQU0sc0JBQXNCLEdBQUcsRUFBRSxDQUFDO0FBQ2xDLE1BQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDO0FBRTdCLE1BQU0sT0FBTyxjQUFjO0FBQUcsSUFBOUI7QUFBZ0IsUUFDTixvQkFBZSxHQUFvQyxFQUFFLENBQUM7QUFDaEUsUUFDVSxvQkFBZSxHQUFvQixFQUFFLENBQUM7QUFDaEQsUUFFVSx1QkFBa0IsR0FBRyxJQUFJLENBQUM7QUFDcEMsUUFFRSw2QkFBd0IsR0FBNEQ7QUFDdEYsWUFBSSxLQUFLLEVBQUUsc0JBQXNCO0FBQ2pDLFlBQUksTUFBTSxFQUFFLENBQUM7QUFDYixTQUFHLENBQUM7QUFDSixJQWtqQkEsQ0FBQztBQUNELElBbGpCRSx3Q0FBd0M7QUFDMUMsSUFBRSxJQUFJLGlCQUFpQjtBQUN2QixRQUFJLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO0FBQ25DLElBQUUsQ0FBQztBQUNILElBQ0UsaUVBQWlFO0FBQ25FLElBQUUsSUFBWSxZQUFZO0FBQUssUUFDM0IsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ2hGLElBQUUs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QUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQW1qQkEsQUFBQSxBQWpqQkEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUdBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQVVBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUVBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUEyQkEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQVlBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBR0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUlBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFrQkEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFwT3BlcmF0b3JUeXBlLCBtYXBPcGVyYXRvckJ5RmllbGRUeXBlIH0gZnJvbSAnLi91dGlsaXRpZXMnO1xyXG5pbXBvcnQge1xyXG4gIEJhY2tlbmRTZXJ2aWNlLFxyXG4gIENvbHVtbixcclxuICBDb2x1bW5GaWx0ZXIsXHJcbiAgQ29sdW1uRmlsdGVycyxcclxuICBDb2x1bW5Tb3J0LFxyXG4gIEN1cnJlbnRGaWx0ZXIsXHJcbiAgQ3VycmVudFBhZ2luYXRpb24sXHJcbiAgQ3VycmVudFNvcnRlcixcclxuICBGaWVsZFR5cGUsXHJcbiAgRmlsdGVyQ2hhbmdlZEFyZ3MsXHJcbiAgR3JhcGhxbEN1cnNvclBhZ2luYXRpb25PcHRpb24sXHJcbiAgR3JhcGhxbERhdGFzZXRGaWx0ZXIsXHJcbiAgR3JhcGhxbEZpbHRlcmluZ09wdGlvbixcclxuICBHcmFwaHFsUGFnaW5hdGlvbk9wdGlvbixcclxuICBHcmFwaHFsU2VydmljZU9wdGlvbixcclxuICBHcmFwaHFsU29ydGluZ09wdGlvbixcclxuICBHcmlkT3B0aW9uLFxyXG4gIE11bHRpQ29sdW1uU29ydCxcclxuICBPcGVyYXRvclR5cGUsXHJcbiAgUGFnaW5hdGlvbixcclxuICBQYWdpbmF0aW9uQ2hhbmdlZEFyZ3MsXHJcbiAgU29ydENoYW5nZWRBcmdzLFxyXG4gIFNvcnREaXJlY3Rpb24sXHJcbiAgU29ydERpcmVjdGlvblN0cmluZyxcclxuICBPcGVyYXRvclN0cmluZ1xyXG59IGZyb20gJy4vLi4vbW9kZWxzL2luZGV4JztcclxuaW1wb3J0IFF1ZXJ5QnVpbGRlciBmcm9tICcuL2dyYXBocWxRdWVyeUJ1aWxkZXInO1xyXG5cclxuY29uc3QgREVGQVVMVF9JVEVNU19QRVJfUEFHRSA9IDI1O1xyXG5jb25zdCBERUZBVUxUX1BBR0VfU0laRSA9IDIwO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdyYXBocWxTZXJ2aWNlIGltcGxlbWVudHMgQmFja2VuZFNlcnZpY2Uge1xyXG4gIHByaXZhdGUgX2N1cnJlbnRGaWx0ZXJzOiBDb2x1bW5GaWx0ZXJzIHwgQ3VycmVudEZpbHRlcltdID0gW107XHJcbiAgcHJpdmF0ZSBfY3VycmVudFBhZ2luYXRpb246IEN1cnJlbnRQYWdpbmF0aW9uO1xyXG4gIHByaXZhdGUgX2N1cnJlbnRTb3J0ZXJzOiBDdXJyZW50U29ydGVyW10gPSBbXTtcclxuICBwcml2YXRlIF9jb2x1bW5EZWZpbml0aW9uczogQ29sdW1uW107XHJcbiAgcHJpdmF0ZSBfZ3JpZDogYW55O1xyXG4gIHByaXZhdGUgX2RhdGFzZXRJZFByb3BOYW1lID0gJ2lkJztcclxuICBvcHRpb25zOiBHcmFwaHFsU2VydmljZU9wdGlvbjtcclxuICBwYWdpbmF0aW9uOiBQYWdpbmF0aW9uIHwgdW5kZWZpbmVkO1xyXG4gIGRlZmF1bHRQYWdpbmF0aW9uT3B0aW9uczogR3JhcGhxbFBhZ2luYXRpb25PcHRpb24gfCBHcmFwaHFsQ3Vyc29yUGFnaW5hdGlvbk9wdGlvbiA9IHtcclxuICAgIGZpcnN0OiBERUZBVUxUX0lURU1TX1BFUl9QQUdFLFxyXG4gICAgb2Zmc2V0OiAwXHJcbiAgfTtcclxuXHJcbiAgLyoqIEdldHRlciBmb3IgdGhlIENvbHVtbiBEZWZpbml0aW9ucyAqL1xyXG4gIGdldCBjb2x1bW5EZWZpbml0aW9ucygpIHtcclxuICAgIHJldHVybiB0aGlzLl9jb2x1bW5EZWZpbml0aW9ucztcclxuICB9XHJcblxyXG4gIC8qKiBHZXR0ZXIgZm9yIHRoZSBHcmlkIE9wdGlvbnMgcHVsbGVkIHRocm91Z2ggdGhlIEdyaWQgT2JqZWN0ICovXHJcbiAgcHJpdmF0ZSBnZXQgX2dyaWRPcHRpb25zKCk6IEdyaWRPcHRpb24ge1xyXG4gICAgcmV0dXJuICh0aGlzLl9ncmlkICYmIHRoaXMuX2dyaWQuZ2V0T3B0aW9ucykgPyB0aGlzLl9ncmlkLmdldE9wdGlvbnMoKSA6IHt9O1xyXG4gIH1cclxuXHJcbiAgLyoqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBzZXJ2aWNlLCB3aGljaCBhY3RzIGFzIGEgY29uc3RydWN0b3IgKi9cclxuICBpbml0KHNlcnZpY2VPcHRpb25zPzogR3JhcGhxbFNlcnZpY2VPcHRpb24sIHBhZ2luYXRpb24/OiBQYWdpbmF0aW9uLCBncmlkPzogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLl9ncmlkID0gZ3JpZDtcclxuICAgIHRoaXMub3B0aW9ucyA9IHNlcnZpY2VPcHRpb25zIHx8IHsgZGF0YXNldE5hbWU6ICcnLCBjb2x1bW5EZWZpbml0aW9uczogW10gfTtcclxuICAgIHRoaXMucGFnaW5hdGlvbiA9IHBhZ2luYXRpb247XHJcbiAgICB0aGlzLl9kYXRhc2V0SWRQcm9wTmFtZSA9IHRoaXMuX2dyaWRPcHRpb25zLmRhdGFzZXRJZFByb3BlcnR5TmFtZSB8fCAnaWQnO1xyXG5cclxuICAgIGlmIChncmlkICYmIGdyaWQuZ2V0Q29sdW1ucykge1xyXG4gICAgICB0aGlzLl9jb2x1bW5EZWZpbml0aW9ucyA9IChzZXJ2aWNlT3B0aW9ucyAmJiBzZXJ2aWNlT3B0aW9ucy5jb2x1bW5EZWZpbml0aW9ucykgfHwgZ3JpZC5nZXRDb2x1bW5zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCdWlsZCB0aGUgR3JhcGhRTCBxdWVyeSwgc2luY2UgdGhlIHNlcnZpY2UgaW5jbHVkZS9leGNsdWRlIGN1cnNvciwgdGhlIG91dHB1dCBxdWVyeSB3aWxsIGJlIGRpZmZlcmVudC5cclxuICAgKiBAcGFyYW0gc2VydmljZU9wdGlvbnMgR3JhcGhxbFNlcnZpY2VPcHRpb25cclxuICAgKi9cclxuICBidWlsZFF1ZXJ5KCkge1xyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMgfHwgIXRoaXMub3B0aW9ucy5kYXRhc2V0TmFtZSB8fCAoIXRoaXMuX2NvbHVtbkRlZmluaXRpb25zICYmICFBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jb2x1bW5EZWZpbml0aW9ucykpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignR3JhcGhRTCBTZXJ2aWNlIHJlcXVpcmVzIHRoZSBcImRhdGFzZXROYW1lXCIgcHJvcGVydHkgdG8gcHJvcGVybHkgYnVpbGQgdGhlIEdyYXBoUUwgcXVlcnknKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXQgdGhlIGNvbHVtbiBkZWZpbml0aW9ucyBhbmQgZXhjbHVkZSBzb21lIGlmIHRoZXkgd2VyZSB0YWdnZWQgYXMgZXhjbHVkZWRcclxuICAgIGxldCBjb2x1bW5EZWZpbml0aW9ucyA9IHRoaXMuX2NvbHVtbkRlZmluaXRpb25zIHx8IHRoaXMub3B0aW9ucy5jb2x1bW5EZWZpbml0aW9ucztcclxuICAgIGNvbHVtbkRlZmluaXRpb25zID0gY29sdW1uRGVmaW5pdGlvbnMuZmlsdGVyKChjb2x1bW46IENvbHVtbikgPT4gIWNvbHVtbi5leGNsdWRlRnJvbVF1ZXJ5KTtcclxuXHJcbiAgICBjb25zdCBxdWVyeVFiID0gbmV3IFF1ZXJ5QnVpbGRlcigncXVlcnknKTtcclxuICAgIGNvbnN0IGRhdGFzZXRRYiA9IG5ldyBRdWVyeUJ1aWxkZXIodGhpcy5vcHRpb25zLmRhdGFzZXROYW1lKTtcclxuICAgIGNvbnN0IG5vZGVzUWIgPSBuZXcgUXVlcnlCdWlsZGVyKCdub2RlcycpO1xyXG5cclxuICAgIC8vIGdldCBhbGwgdGhlIGNvbHVtbmRzIElkcyBmb3IgdGhlIGZpbHRlcnMgdG8gd29ya1xyXG4gICAgY29uc3QgY29sdW1uSWRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgaWYgKGNvbHVtbkRlZmluaXRpb25zICYmIEFycmF5LmlzQXJyYXkoY29sdW1uRGVmaW5pdGlvbnMpKSB7XHJcbiAgICAgIGZvciAoY29uc3QgY29sdW1uIG9mIGNvbHVtbkRlZmluaXRpb25zKSB7XHJcbiAgICAgICAgY29sdW1uSWRzLnB1c2goY29sdW1uLmZpZWxkKTtcclxuXHJcbiAgICAgICAgLy8gaWYgZXh0cmEgXCJmaWVsZHNcIiBhcmUgcGFzc2VkLCBhbHNvIHB1c2ggdGhlbSB0byBjb2x1bW5JZHNcclxuICAgICAgICBpZiAoY29sdW1uLmZpZWxkcykge1xyXG4gICAgICAgICAgY29sdW1uSWRzLnB1c2goLi4uY29sdW1uLmZpZWxkcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2xpY2tncmlkIGFsc28gcmVxdWlyZXMgdGhlIFwiaWRcIiAob3IgdGhlIGRhdGFzZXQgZGVmaW5lZCB1bmlxdWUgaWRlKSBmaWVsZCB0byBiZSBwYXJ0IG9mIERhdGFWaWV3XHJcbiAgICAvLyBhZGQgaXQgdG8gdGhlIEdyYXBoUUwgcXVlcnkgaWYgaXQgd2Fzbid0IGFscmVhZHkgcGFydCBvZiB0aGUgbGlzdFxyXG4gICAgaWYgKGNvbHVtbklkcy5pbmRleE9mKHRoaXMuX2RhdGFzZXRJZFByb3BOYW1lKSA9PT0gLTEpIHtcclxuICAgICAgY29sdW1uSWRzLnVuc2hpZnQodGhpcy5fZGF0YXNldElkUHJvcE5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbHVtbnNRdWVyeSA9IHRoaXMuYnVpbGRGaWx0ZXJRdWVyeShjb2x1bW5JZHMpO1xyXG4gICAgbGV0IGdyYXBocWxOb2RlRmllbGRzID0gW107XHJcblxyXG4gICAgaWYgKHRoaXMuX2dyaWRPcHRpb25zLmVuYWJsZVBhZ2luYXRpb24gIT09IGZhbHNlKSB7XHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNXaXRoQ3Vyc29yKSB7XHJcbiAgICAgICAgLy8gLi4ucGFnZUluZm8geyBoYXNOZXh0UGFnZSwgZW5kQ3Vyc29yIH0sIGVkZ2VzIHsgY3Vyc29yLCBub2RlIHsgX2NvbHVtbnNfIH0gfSwgdG90YWxDb3VudDogMTAwXHJcbiAgICAgICAgY29uc3QgZWRnZXNRYiA9IG5ldyBRdWVyeUJ1aWxkZXIoJ2VkZ2VzJyk7XHJcbiAgICAgICAgY29uc3QgcGFnZUluZm9RYiA9IG5ldyBRdWVyeUJ1aWxkZXIoJ3BhZ2VJbmZvJyk7XHJcbiAgICAgICAgcGFnZUluZm9RYi5maW5kKCdoYXNOZXh0UGFnZScsICdoYXNQcmV2aW91c1BhZ2UnLCAnZW5kQ3Vyc29yJywgJ3N0YXJ0Q3Vyc29yJyk7XHJcbiAgICAgICAgbm9kZXNRYi5maW5kKGNvbHVtbnNRdWVyeSk7XHJcbiAgICAgICAgZWRnZXNRYi5maW5kKFsnY3Vyc29yJ10pO1xyXG4gICAgICAgIGdyYXBocWxOb2RlRmllbGRzID0gWyd0b3RhbENvdW50Jywgbm9kZXNRYiwgcGFnZUluZm9RYiwgZWRnZXNRYl07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gLi4ubm9kZXMgeyBfY29sdW1uc18gfSwgdG90YWxDb3VudDogMTAwXHJcbiAgICAgICAgbm9kZXNRYi5maW5kKGNvbHVtbnNRdWVyeSk7XHJcbiAgICAgICAgZ3JhcGhxbE5vZGVGaWVsZHMgPSBbJ3RvdGFsQ291bnQnLCBub2Rlc1FiXTtcclxuICAgICAgfVxyXG4gICAgICAvLyBhbGwgcHJvcGVydGllcyB0byBiZSByZXR1cm5lZCBieSB0aGUgcXVlcnlcclxuICAgICAgZGF0YXNldFFiLmZpbmQoZ3JhcGhxbE5vZGVGaWVsZHMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gaW5jbHVkZSBhbGwgY29sdW1ucyB0byBiZSByZXR1cm5lZFxyXG4gICAgICBkYXRhc2V0UWIuZmluZChjb2x1bW5zUXVlcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZCBkYXRhc2V0IGZpbHRlcnMsIGNvdWxkIGJlIFBhZ2luYXRpb24gYW5kIFNvcnRpbmdGaWx0ZXJzIGFuZC9vciBGaWVsZEZpbHRlcnNcclxuICAgIGxldCBkYXRhc2V0RmlsdGVyczogR3JhcGhxbERhdGFzZXRGaWx0ZXIgPSB7fTtcclxuXHJcbiAgICAvLyBvbmx5IGFkZCBwYWdpbmF0aW9uIGlmIGl0J3MgZW5hYmxlZCBpbiB0aGUgZ3JpZCBvcHRpb25zXHJcbiAgICBpZiAodGhpcy5fZ3JpZE9wdGlvbnMuZW5hYmxlUGFnaW5hdGlvbiAhPT0gZmFsc2UpIHtcclxuICAgICAgZGF0YXNldEZpbHRlcnMgPSB7XHJcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zLFxyXG4gICAgICAgIGZpcnN0OiAoKHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucGFnaW5hdGlvbk9wdGlvbnMuZmlyc3QpID8gdGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zLmZpcnN0IDogKCh0aGlzLnBhZ2luYXRpb24gJiYgdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplKSA/IHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA6IG51bGwpKSB8fCB0aGlzLmRlZmF1bHRQYWdpbmF0aW9uT3B0aW9ucy5maXJzdFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNXaXRoQ3Vyc29yKSB7XHJcbiAgICAgICAgZGF0YXNldEZpbHRlcnMub2Zmc2V0ID0gKCh0aGlzLm9wdGlvbnMucGFnaW5hdGlvbk9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zLmhhc093blByb3BlcnR5KCdvZmZzZXQnKSkgPyArdGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zWydvZmZzZXQnXSA6IDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zb3J0aW5nT3B0aW9ucyAmJiBBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5zb3J0aW5nT3B0aW9ucykgJiYgdGhpcy5vcHRpb25zLnNvcnRpbmdPcHRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gb3JkZXJCeTogW3sgZmllbGQ6eCwgZGlyZWN0aW9uOiAnQVNDJyB9XVxyXG4gICAgICBkYXRhc2V0RmlsdGVycy5vcmRlckJ5ID0gdGhpcy5vcHRpb25zLnNvcnRpbmdPcHRpb25zO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5maWx0ZXJpbmdPcHRpb25zICYmIEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmZpbHRlcmluZ09wdGlvbnMpICYmIHRoaXMub3B0aW9ucy5maWx0ZXJpbmdPcHRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gZmlsdGVyQnk6IFt7IGZpZWxkOiBkYXRlLCBvcGVyYXRvcjogJz4nLCB2YWx1ZTogJzIwMDAtMTAtMTAnIH1dXHJcbiAgICAgIGRhdGFzZXRGaWx0ZXJzLmZpbHRlckJ5ID0gdGhpcy5vcHRpb25zLmZpbHRlcmluZ09wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmFkZExvY2FsZUludG9RdWVyeSkge1xyXG4gICAgICAvLyBmaXJzdDogMjAsIC4uLiBsb2NhbGU6IFwiZW4tQ0FcIlxyXG4gICAgICBkYXRhc2V0RmlsdGVycy5sb2NhbGUgPSB0aGlzLl9ncmlkT3B0aW9ucyAmJiB0aGlzLl9ncmlkT3B0aW9ucy5pMThuICYmIHRoaXMuX2dyaWRPcHRpb25zLmkxOG4uY3VycmVudExhbmcgfHwgdGhpcy5fZ3JpZE9wdGlvbnMubG9jYWxlIHx8ICdlbic7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmV4dHJhUXVlcnlBcmd1bWVudHMpIHtcclxuICAgICAgLy8gZmlyc3Q6IDIwLCAuLi4gdXNlcklkOiAxMjNcclxuICAgICAgZm9yIChjb25zdCBxdWVyeUFyZ3VtZW50IG9mIHRoaXMub3B0aW9ucy5leHRyYVF1ZXJ5QXJndW1lbnRzKSB7XHJcbiAgICAgICAgZGF0YXNldEZpbHRlcnNbcXVlcnlBcmd1bWVudC5maWVsZF0gPSBxdWVyeUFyZ3VtZW50LnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gd2l0aCBwYWdpbmF0aW9uOjogcXVlcnkgeyB1c2VycyhmaXJzdDogMjAsIG9mZnNldDogMCwgb3JkZXJCeTogW10sIGZpbHRlckJ5OiBbXSkgeyB0b3RhbENvdW50OiAxMDAsIG5vZGVzOiB7IF9jb2x1bW5zXyB9fX1cclxuICAgIC8vIHdpdGhvdXQgcGFnaW5hdGlvbjo6IHF1ZXJ5IHsgdXNlcnMob3JkZXJCeTogW10sIGZpbHRlckJ5OiBbXSkgeyBfY29sdW1uc18gfX1cclxuICAgIGRhdGFzZXRRYi5maWx0ZXIoZGF0YXNldEZpbHRlcnMpO1xyXG4gICAgcXVlcnlRYi5maW5kKGRhdGFzZXRRYik7XHJcblxyXG4gICAgY29uc3QgZW51bVNlYXJjaFByb3BlcnRpZXMgPSBbJ2RpcmVjdGlvbjonLCAnZmllbGQ6JywgJ29wZXJhdG9yOiddO1xyXG4gICAgcmV0dXJuIHRoaXMudHJpbURvdWJsZVF1b3Rlc09uRW51bUZpZWxkKHF1ZXJ5UWIudG9TdHJpbmcoKSwgZW51bVNlYXJjaFByb3BlcnRpZXMsIHRoaXMub3B0aW9ucy5rZWVwQXJndW1lbnRGaWVsZERvdWJsZVF1b3RlcyB8fCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGcm9tIGFuIGlucHV0IGFycmF5IG9mIHN0cmluZ3MsIHdlIHdhbnQgdG8gYnVpbGQgYSBHcmFwaFFMIHF1ZXJ5IHN0cmluZy5cclxuICAgKiBUaGUgcHJvY2VzcyBoYXMgdG8gdGFrZSB0aGUgZG90IG5vdGF0aW9uIGFuZCBwYXJzZSBpdCBpbnRvIGEgdmFsaWQgR3JhcGhRTCBxdWVyeVxyXG4gICAqIEZvbGxvd2luZyB0aGlzIFNPIGFuc3dlciBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDc3MDU0NzYvMTIxMjE2NlxyXG4gICAqXHJcbiAgICogSU5QVVRcclxuICAgKiAgWydmaXJzdE5hbWUnLCAnbGFzdE5hbWUnLCAnYmlsbGluZy5hZGRyZXNzLnN0cmVldCcsICdiaWxsaW5nLmFkZHJlc3MuemlwJ11cclxuICAgKiBPVVRQVVRcclxuICAgKiBmaXJzdE5hbWUsIGxhc3ROYW1lLCBiaWxsaW5ne2FkZHJlc3N7c3RyZWV0LCB6aXB9fVxyXG4gICAqIEBwYXJhbSBpbnB1dEFycmF5XHJcbiAgICovXHJcbiAgYnVpbGRGaWx0ZXJRdWVyeShpbnB1dEFycmF5OiBzdHJpbmdbXSkge1xyXG5cclxuICAgIGNvbnN0IHNldCA9IChvOiBhbnkgPSB7fSwgYTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IGsgPSBhLnNoaWZ0KCk7XHJcbiAgICAgIG9ba10gPSBhLmxlbmd0aCA/IHNldChvW2tdLCBhKSA6IG51bGw7XHJcbiAgICAgIHJldHVybiBvO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBvdXRwdXQgPSBpbnB1dEFycmF5LnJlZHVjZSgobzogYW55LCBhOiBzdHJpbmcpID0+IHNldChvLCBhLnNwbGl0KCcuJykpLCB7fSk7XHJcblxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG91dHB1dClcclxuICAgICAgLnJlcGxhY2UoL1xcXCJ8XFw6fG51bGwvZywgJycpXHJcbiAgICAgIC5yZXBsYWNlKC9eXFx7LywgJycpXHJcbiAgICAgIC5yZXBsYWNlKC9cXH0kLywgJycpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXJGaWx0ZXJzKCkge1xyXG4gICAgdGhpcy5fY3VycmVudEZpbHRlcnMgPSBbXTtcclxuICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7IGZpbHRlcmluZ09wdGlvbnM6IFtdIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xlYXJTb3J0ZXJzKCkge1xyXG4gICAgdGhpcy5fY3VycmVudFNvcnRlcnMgPSBbXTtcclxuICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7IHNvcnRpbmdPcHRpb25zOiBbXSB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhbiBpbml0aWFsaXphdGlvbiBvZiBQYWdpbmF0aW9uIG9wdGlvbnNcclxuICAgKiBAcmV0dXJuIFBhZ2luYXRpb24gT3B0aW9uc1xyXG4gICAqL1xyXG4gIGdldEluaXRQYWdpbmF0aW9uT3B0aW9ucygpOiBHcmFwaHFsRGF0YXNldEZpbHRlciB7XHJcbiAgICBjb25zdCBwYWdpbmF0aW9uRmlyc3QgPSB0aGlzLnBhZ2luYXRpb24gPyB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUgOiBERUZBVUxUX0lURU1TX1BFUl9QQUdFO1xyXG4gICAgcmV0dXJuICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmlzV2l0aEN1cnNvcikgPyB7IGZpcnN0OiBwYWdpbmF0aW9uRmlyc3QgfSA6IHsgZmlyc3Q6IHBhZ2luYXRpb25GaXJzdCwgb2Zmc2V0OiAwIH07XHJcbiAgfVxyXG5cclxuICAvKiogR2V0IHRoZSBHcmFwaFFMIGRhdGFzZXQgbmFtZSAqL1xyXG4gIGdldERhdGFzZXROYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmRhdGFzZXROYW1lIHx8ICcnO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldCB0aGUgRmlsdGVycyB0aGF0IGFyZSBjdXJyZW50bHkgdXNlZCBieSB0aGUgZ3JpZCAqL1xyXG4gIGdldEN1cnJlbnRGaWx0ZXJzKCk6IENvbHVtbkZpbHRlcnMgfCBDdXJyZW50RmlsdGVyW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRGaWx0ZXJzO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldCB0aGUgUGFnaW5hdGlvbiB0aGF0IGlzIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBncmlkICovXHJcbiAgZ2V0Q3VycmVudFBhZ2luYXRpb24oKTogQ3VycmVudFBhZ2luYXRpb24ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRQYWdpbmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldCB0aGUgU29ydGVycyB0aGF0IGFyZSBjdXJyZW50bHkgdXNlZCBieSB0aGUgZ3JpZCAqL1xyXG4gIGdldEN1cnJlbnRTb3J0ZXJzKCk6IEN1cnJlbnRTb3J0ZXJbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudFNvcnRlcnM7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqIFJlc2V0IHRoZSBwYWdpbmF0aW9uIG9wdGlvbnNcclxuICAgKi9cclxuICByZXNldFBhZ2luYXRpb25PcHRpb25zKCkge1xyXG4gICAgbGV0IHBhZ2luYXRpb25PcHRpb25zOiBHcmFwaHFsUGFnaW5hdGlvbk9wdGlvbiB8IEdyYXBocWxDdXJzb3JQYWdpbmF0aW9uT3B0aW9uO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmlzV2l0aEN1cnNvcikge1xyXG4gICAgICAvLyBmaXJzdCwgbGFzdCwgYWZ0ZXIsIGJlZm9yZVxyXG4gICAgICBwYWdpbmF0aW9uT3B0aW9ucyA9IHtcclxuICAgICAgICBhZnRlcjogJycsXHJcbiAgICAgICAgYmVmb3JlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgbGFzdDogdW5kZWZpbmVkXHJcbiAgICAgIH0gYXMgR3JhcGhxbEN1cnNvclBhZ2luYXRpb25PcHRpb247XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBmaXJzdCwgbGFzdCwgb2Zmc2V0XHJcbiAgICAgIHBhZ2luYXRpb25PcHRpb25zID0gKCh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zKSB8fCB0aGlzLmdldEluaXRQYWdpbmF0aW9uT3B0aW9ucygpKSBhcyBHcmFwaHFsUGFnaW5hdGlvbk9wdGlvbjtcclxuICAgICAgKHBhZ2luYXRpb25PcHRpb25zIGFzIEdyYXBocWxQYWdpbmF0aW9uT3B0aW9uKS5vZmZzZXQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNhdmUgY3VycmVudCBwYWdpbmF0aW9uIGFzIFBhZ2UgMSBhbmQgcGFnZSBzaXplIGFzIFwiZmlyc3RcIiBzZXQgc2l6ZVxyXG4gICAgdGhpcy5fY3VycmVudFBhZ2luYXRpb24gPSB7XHJcbiAgICAgIHBhZ2VOdW1iZXI6IDEsXHJcbiAgICAgIHBhZ2VTaXplOiBwYWdpbmF0aW9uT3B0aW9ucy5maXJzdCB8fCBERUZBVUxUX1BBR0VfU0laRSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy51cGRhdGVPcHRpb25zKHsgcGFnaW5hdGlvbk9wdGlvbnMgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVPcHRpb25zKHNlcnZpY2VPcHRpb25zPzogUGFydGlhbDxHcmFwaHFsU2VydmljZU9wdGlvbj4pIHtcclxuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4udGhpcy5vcHRpb25zLCAuLi5zZXJ2aWNlT3B0aW9ucyB9O1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBGSUxURVJJTkdcclxuICAgKi9cclxuICBwcm9jZXNzT25GaWx0ZXJDaGFuZ2VkKGV2ZW50OiBFdmVudCwgYXJnczogRmlsdGVyQ2hhbmdlZEFyZ3MpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZ3JpZE9wdGlvbnM6IEdyaWRPcHRpb24gPSB0aGlzLl9ncmlkT3B0aW9ucztcclxuICAgIGNvbnN0IGJhY2tlbmRBcGkgPSBncmlkT3B0aW9ucy5iYWNrZW5kU2VydmljZUFwaTtcclxuXHJcbiAgICBpZiAoYmFja2VuZEFwaSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gdGhlIEdyYXBocWxTZXJ2aWNlLCBcImJhY2tlbmRTZXJ2aWNlQXBpXCIgaXMgbm90IGluaXRpYWxpemVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8ga2VlcCBjdXJyZW50IGZpbHRlcnMgJiBhbHdheXMgc2F2ZSBpdCBhcyBhbiBhcnJheSAoY29sdW1uRmlsdGVycyBjYW4gYmUgYW4gb2JqZWN0IHdoZW4gaXQgaXMgZGVhbHQgYnkgU2xpY2tHcmlkIEZpbHRlcilcclxuICAgIHRoaXMuX2N1cnJlbnRGaWx0ZXJzID0gdGhpcy5jYXN0RmlsdGVyVG9Db2x1bW5GaWx0ZXJzKGFyZ3MuY29sdW1uRmlsdGVycyk7XHJcblxyXG4gICAgaWYgKCFhcmdzIHx8ICFhcmdzLmdyaWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIHRyeWluZyBjcmVhdGUgdGhlIEdyYXBoUUwgQmFja2VuZCBTZXJ2aWNlLCBpdCBzZWVtcyB0aGF0IFwiYXJnc1wiIGlzIG5vdCBwb3B1bGF0ZWQgY29ycmVjdGx5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBjb2x1bW5zIHRvIGluc3BlY3QgZmlsdGVycyAmIHNldCB0aGUgcXVlcnlcclxuICAgIHRoaXMudXBkYXRlRmlsdGVycyhhcmdzLmNvbHVtbkZpbHRlcnMsIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLnJlc2V0UGFnaW5hdGlvbk9wdGlvbnMoKTtcclxuICAgIHJldHVybiB0aGlzLmJ1aWxkUXVlcnkoKTtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgICogUEFHSU5BVElPTlxyXG4gICAqIFdpdGggY3Vyc29yLCB0aGUgcXVlcnkgY2FuIGhhdmUgNCBhcmd1bWVudHMgKGZpcnN0LCBhZnRlciwgbGFzdCwgYmVmb3JlKSwgZm9yIGV4YW1wbGU6XHJcbiAgICogICB1c2VycyAoZmlyc3Q6MjAsIGFmdGVyOlwiWVhKeVlYbGpiMjV1WldOMGFXOXVPak09XCIpIHtcclxuICAgKiAgICAgdG90YWxDb3VudFxyXG4gICAqICAgICBwYWdlSW5mbyB7XHJcbiAgICogICAgICAgaGFzTmV4dFBhZ2VcclxuICAgKiAgICAgICBoYXNQcmV2aW91c1BhZ2VcclxuICAgKiAgICAgICBlbmRDdXJzb3JcclxuICAgKiAgICAgICBzdGFydEN1cnNvclxyXG4gICAqICAgICB9XHJcbiAgICogICAgIGVkZ2VzIHtcclxuICAgKiAgICAgICBjdXJzb3JcclxuICAgKiAgICAgICBub2RlIHtcclxuICAgKiAgICAgICAgIG5hbWVcclxuICAgKiAgICAgICAgIGdlbmRlclxyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIFdpdGhvdXQgY3Vyc29yLCB0aGUgcXVlcnkgY2FuIGhhdmUgMyBhcmd1bWVudHMgKGZpcnN0LCBsYXN0LCBvZmZzZXQpLCBmb3IgZXhhbXBsZTpcclxuICAgKiAgIHVzZXJzIChmaXJzdDoyMCwgb2Zmc2V0OiAxMCkge1xyXG4gICAqICAgICB0b3RhbENvdW50XHJcbiAgICogICAgIG5vZGVzIHtcclxuICAgKiAgICAgICBuYW1lXHJcbiAgICogICAgICAgZ2VuZGVyXHJcbiAgICogICAgIH1cclxuICAgKiAgIH1cclxuICAgKi9cclxuICBwcm9jZXNzT25QYWdpbmF0aW9uQ2hhbmdlZChldmVudDogRXZlbnQsIGFyZ3M6IFBhZ2luYXRpb25DaGFuZ2VkQXJncyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBwYWdlU2l6ZSA9ICsoYXJncy5wYWdlU2l6ZSB8fCAoKHRoaXMucGFnaW5hdGlvbikgPyB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUgOiBERUZBVUxUX1BBR0VfU0laRSkpO1xyXG4gICAgdGhpcy51cGRhdGVQYWdpbmF0aW9uKGFyZ3MubmV3UGFnZSwgcGFnZVNpemUpO1xyXG5cclxuICAgIC8vIGJ1aWxkIHRoZSBHcmFwaFFMIHF1ZXJ5IHdoaWNoIHdlIHdpbGwgdXNlIGluIHRoZSBXZWJBUEkgY2FsbGJhY2tcclxuICAgIHJldHVybiB0aGlzLmJ1aWxkUXVlcnkoKTtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgICogU09SVElOR1xyXG4gICAqIHdlIHdpbGwgdXNlIHNvcnRpbmcgYXMgcGVyIGEgRmFjZWJvb2sgc3VnZ2VzdGlvbiBvbiBhIEdpdGh1YiBpc3N1ZSAod2l0aCBzb21lIHNtYWxsIGNoYW5nZXMpXHJcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2dyYXBocWwvZ3JhcGhxbC1yZWxheS1qcy9pc3N1ZXMvMjAjaXNzdWVjb21tZW50LTIyMDQ5NDIyMlxyXG4gICAqXHJcbiAgICogIHVzZXJzIChmaXJzdDogMjAsIG9mZnNldDogMTAsIG9yZGVyQnk6IFt7ZmllbGQ6IGxhc3ROYW1lLCBkaXJlY3Rpb246IEFTQ30sIHtmaWVsZDogZmlyc3ROYW1lLCBkaXJlY3Rpb246IERFU0N9XSkge1xyXG4gICAqICAgIHRvdGFsQ291bnRcclxuICAgKiAgICBub2RlcyB7XHJcbiAgICogICAgICBuYW1lXHJcbiAgICogICAgICBnZW5kZXJcclxuICAgKiAgICB9XHJcbiAgICogIH1cclxuICAgKi9cclxuICAvLyBAZGVwcmVjYXRlZCBub3RlLCB3ZSBzaG91bGQgcmVtb3ZlIFwiU29ydENoYW5nZWRBcmdzXCIgYW5kIG9ubHkgdXNlOiBDb2x1bW5Tb3J0IHwgTXVsdGlDb2x1bW5Tb3J0XHJcbiAgcHJvY2Vzc09uU29ydENoYW5nZWQoZXZlbnQ6IEV2ZW50LCBhcmdzOiBTb3J0Q2hhbmdlZEFyZ3MgfCBDb2x1bW5Tb3J0IHwgTXVsdGlDb2x1bW5Tb3J0KTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHNvcnRDb2x1bW5zID0gKGFyZ3MubXVsdGlDb2x1bW5Tb3J0KSA/IChhcmdzIGFzIE11bHRpQ29sdW1uU29ydCkuc29ydENvbHMgOiBuZXcgQXJyYXkoeyBzb3J0Q29sOiAoYXJncyBhcyBDb2x1bW5Tb3J0KS5zb3J0Q29sLCBzb3J0QXNjOiAoYXJncyBhcyBDb2x1bW5Tb3J0KS5zb3J0QXNjIH0pO1xyXG5cclxuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgY29sdW1ucyB0byBpbnNwZWN0IHNvcnRlcnMgJiBzZXQgdGhlIHF1ZXJ5XHJcbiAgICB0aGlzLnVwZGF0ZVNvcnRlcnMoc29ydENvbHVtbnMpO1xyXG5cclxuICAgIC8vIGJ1aWxkIHRoZSBHcmFwaFFMIHF1ZXJ5IHdoaWNoIHdlIHdpbGwgdXNlIGluIHRoZSBXZWJBUEkgY2FsbGJhY2tcclxuICAgIHJldHVybiB0aGlzLmJ1aWxkUXVlcnkoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGxvb3AgdGhyb3VnaCBhbGwgY29sdW1ucyB0byBpbnNwZWN0IGZpbHRlcnMgJiB1cGRhdGUgYmFja2VuZCBzZXJ2aWNlIGZpbHRlcmluZ09wdGlvbnNcclxuICAgKiBAcGFyYW0gY29sdW1uRmlsdGVyc1xyXG4gICAqL1xyXG4gIHVwZGF0ZUZpbHRlcnMoY29sdW1uRmlsdGVyczogQ29sdW1uRmlsdGVycyB8IEN1cnJlbnRGaWx0ZXJbXSwgaXNVcGRhdGVkQnlQcmVzZXRPckR5bmFtaWNhbGx5OiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBzZWFyY2hCeUFycmF5OiBHcmFwaHFsRmlsdGVyaW5nT3B0aW9uW10gPSBbXTtcclxuICAgIGxldCBzZWFyY2hWYWx1ZTogc3RyaW5nIHwgc3RyaW5nW107XHJcblxyXG4gICAgLy8gb24gZmlsdGVyIHByZXNldCBsb2FkLCB3ZSBuZWVkIHRvIGtlZXAgY3VycmVudCBmaWx0ZXJzXHJcbiAgICBpZiAoaXNVcGRhdGVkQnlQcmVzZXRPckR5bmFtaWNhbGx5KSB7XHJcbiAgICAgIHRoaXMuX2N1cnJlbnRGaWx0ZXJzID0gdGhpcy5jYXN0RmlsdGVyVG9Db2x1bW5GaWx0ZXJzKGNvbHVtbkZpbHRlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgY29sdW1uSWQgaW4gY29sdW1uRmlsdGVycykge1xyXG4gICAgICBpZiAoY29sdW1uRmlsdGVycy5oYXNPd25Qcm9wZXJ0eShjb2x1bW5JZCkpIHtcclxuICAgICAgICBjb25zdCBjb2x1bW5GaWx0ZXIgPSBjb2x1bW5GaWx0ZXJzW2NvbHVtbklkXTtcclxuXHJcbiAgICAgICAgLy8gaWYgdXNlciBkZWZpbmVkIHNvbWUgXCJwcmVzZXRzXCIsIHRoZW4gd2UgbmVlZCB0byBmaW5kIHRoZSBmaWx0ZXJzIGZyb20gdGhlIGNvbHVtbiBkZWZpbml0aW9ucyBpbnN0ZWFkXHJcbiAgICAgICAgbGV0IGNvbHVtbkRlZjogQ29sdW1uIHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChpc1VwZGF0ZWRCeVByZXNldE9yRHluYW1pY2FsbHkgJiYgQXJyYXkuaXNBcnJheSh0aGlzLl9jb2x1bW5EZWZpbml0aW9ucykpIHtcclxuICAgICAgICAgIGNvbHVtbkRlZiA9IHRoaXMuX2NvbHVtbkRlZmluaXRpb25zLmZpbmQoKGNvbHVtbjogQ29sdW1uKSA9PiBjb2x1bW4uaWQgPT09IGNvbHVtbkZpbHRlci5jb2x1bW5JZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbHVtbkRlZiA9IGNvbHVtbkZpbHRlci5jb2x1bW5EZWY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghY29sdW1uRGVmKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tHcmFwaFFMIFNlcnZpY2VdOiBTb21ldGhpbmcgd2VudCB3cm9uZyBpbiB0cnlpbmcgdG8gZ2V0IHRoZSBjb2x1bW4gZGVmaW5pdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGZpbHRlciAob3IgcHJlc2V0IGZpbHRlcnMpLiBEaWQgeW91IG1ha2UgYSB0eXBvIG9uIHRoZSBmaWx0ZXIgY29sdW1uSWQ/Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSAoY29sdW1uRGVmLmZpbHRlciAmJiBjb2x1bW5EZWYuZmlsdGVyLnF1ZXJ5RmllbGQpIHx8IGNvbHVtbkRlZi5xdWVyeUZpZWxkRmlsdGVyIHx8IGNvbHVtbkRlZi5xdWVyeUZpZWxkIHx8IGNvbHVtbkRlZi5maWVsZCB8fCBjb2x1bW5EZWYubmFtZSB8fCAnJztcclxuICAgICAgICBsZXQgc2VhcmNoVGVybXMgPSBjb2x1bW5GaWx0ZXIgJiYgY29sdW1uRmlsdGVyLnNlYXJjaFRlcm1zIHx8IFtdO1xyXG4gICAgICAgIGxldCBmaWVsZFNlYXJjaFZhbHVlID0gKEFycmF5LmlzQXJyYXkoc2VhcmNoVGVybXMpICYmIHNlYXJjaFRlcm1zLmxlbmd0aCA9PT0gMSkgPyBzZWFyY2hUZXJtc1swXSA6ICcnO1xyXG4gICAgICAgIGlmICh0eXBlb2YgZmllbGRTZWFyY2hWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIGZpZWxkU2VhcmNoVmFsdWUgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZmllbGROYW1lKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEdyYXBoUUwgZmlsdGVyIGNvdWxkIG5vdCBmaW5kIHRoZSBmaWVsZCBuYW1lIHRvIHF1ZXJ5IHRoZSBzZWFyY2gsIHlvdXIgY29sdW1uIGRlZmluaXRpb24gbXVzdCBpbmNsdWRlIGEgdmFsaWQgXCJmaWVsZFwiIG9yIFwibmFtZVwiIChvcHRpb25hbGx5IHlvdSBjYW4gYWxzbyB1c2UgdGhlIFwicXVlcnlmaWVsZFwiKS5gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZpZWxkU2VhcmNoVmFsdWUgPSAnJyArIGZpZWxkU2VhcmNoVmFsdWU7IC8vIG1ha2Ugc3VyZSBpdCdzIGEgc3RyaW5nXHJcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGZpZWxkU2VhcmNoVmFsdWUubWF0Y2goL14oWzw+IT1cXCpdezAsMn0pKC4qW148PiE9XFwqXSkoW1xcKl0/KSQvKTsgLy8gZ3JvdXAgMTogT3BlcmF0b3IsIDI6IHNlYXJjaFZhbHVlLCAzOiBsYXN0IGNoYXIgaXMgJyonIChtZWFuaW5nIHN0YXJ0cyB3aXRoLCBleC46IGFiYyopXHJcbiAgICAgICAgbGV0IG9wZXJhdG9yID0gY29sdW1uRmlsdGVyLm9wZXJhdG9yIHx8ICgobWF0Y2hlcykgPyBtYXRjaGVzWzFdIDogJycpO1xyXG4gICAgICAgIHNlYXJjaFZhbHVlID0gKCEhbWF0Y2hlcykgPyBtYXRjaGVzWzJdIDogJyc7XHJcbiAgICAgICAgY29uc3QgbGFzdFZhbHVlQ2hhciA9ICghIW1hdGNoZXMpID8gbWF0Y2hlc1szXSA6IChvcGVyYXRvciA9PT0gJyp6JyA/ICcqJyA6ICcnKTtcclxuXHJcbiAgICAgICAgLy8gbm8gbmVlZCB0byBxdWVyeSBpZiBzZWFyY2ggdmFsdWUgaXMgZW1wdHlcclxuICAgICAgICBpZiAoZmllbGROYW1lICYmIHNlYXJjaFZhbHVlID09PSAnJyAmJiBzZWFyY2hUZXJtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VhcmNoVGVybXMpICYmIHNlYXJjaFRlcm1zLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2Ygc2VhcmNoVGVybXNbMF0gPT09ICdzdHJpbmcnICYmIHNlYXJjaFRlcm1zWzBdLmluZGV4T2YoJy4uJykgPiAwKSB7XHJcbiAgICAgICAgICBzZWFyY2hUZXJtcyA9IHNlYXJjaFRlcm1zWzBdLnNwbGl0KCcuLicpO1xyXG4gICAgICAgICAgaWYgKCFvcGVyYXRvcikge1xyXG4gICAgICAgICAgICBvcGVyYXRvciA9IE9wZXJhdG9yVHlwZS5yYW5nZUV4Y2x1c2l2ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VhcmNoVmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAvLyBlc2NhcGluZyB0aGUgc2VhcmNoIHZhbHVlXHJcbiAgICAgICAgICBzZWFyY2hWYWx1ZSA9IHNlYXJjaFZhbHVlLnJlcGxhY2UoYCdgLCBgJydgKTsgLy8gZXNjYXBlIHNpbmdsZSBxdW90ZXMgYnkgZG91YmxpbmcgdGhlbVxyXG4gICAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnKicgfHwgb3BlcmF0b3IgPT09ICdhKicgfHwgb3BlcmF0b3IgPT09ICcqeicgfHwgbGFzdFZhbHVlQ2hhciA9PT0gJyonKSB7XHJcbiAgICAgICAgICAgIG9wZXJhdG9yID0gKChvcGVyYXRvciA9PT0gJyonIHx8IG9wZXJhdG9yID09PSAnKnonKSA/ICdFbmRzV2l0aCcgOiAnU3RhcnRzV2l0aCcpIGFzIE9wZXJhdG9yU3RyaW5nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYW4gT3BlcmF0b3IgYnV0IHdlIGhhdmUgYSBDb2x1bW4gT3BlcmF0b3IgaW5zaWRlIHRoZSBGaWx0ZXIgKERPTSBFbGVtZW50KSwgd2Ugc2hvdWxkIHVzZSBpdHMgZGVmYXVsdCBPcGVyYXRvclxyXG4gICAgICAgIC8vIG11bHRpcGxlU2VsZWN0IGlzIFwiSU5cIiwgd2hpbGUgc2luZ2xlU2VsZWN0IGlzIFwiRVFcIiwgZWxzZSBkb24ndCBtYXAgYW55IG9wZXJhdG9yXHJcbiAgICAgICAgaWYgKCFvcGVyYXRvciAmJiBjb2x1bW5EZWYuZmlsdGVyKSB7XHJcbiAgICAgICAgICBvcGVyYXRvciA9IGNvbHVtbkRlZi5maWx0ZXIub3BlcmF0b3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB3aGVuIGhhdmluZyBtb3JlIHRoYW4gMSBzZWFyY2ggdGVybSAod2UgbmVlZCB0byBjcmVhdGUgYSBDU1Ygc3RyaW5nIGZvciBHcmFwaFFMIFwiSU5cIiBvciBcIk5PVCBJTlwiIGZpbHRlciBzZWFyY2gpXHJcbiAgICAgICAgaWYgKHNlYXJjaFRlcm1zICYmIHNlYXJjaFRlcm1zLmxlbmd0aCA+IDEgJiYgKG9wZXJhdG9yID09PSAnSU4nIHx8IG9wZXJhdG9yID09PSAnTklOJyB8fCBvcGVyYXRvciA9PT0gJ05PVElOJyB8fCBvcGVyYXRvciA9PT0gJ05PVCBJTicgfHwgb3BlcmF0b3IgPT09ICdOT1RfSU4nKSkge1xyXG4gICAgICAgICAgc2VhcmNoVmFsdWUgPSBzZWFyY2hUZXJtcy5qb2luKCcsJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWFyY2hUZXJtcyAmJiBzZWFyY2hUZXJtcy5sZW5ndGggPT09IDIgJiYgKCFvcGVyYXRvciB8fCBvcGVyYXRvciA9PT0gT3BlcmF0b3JUeXBlLnJhbmdlRXhjbHVzaXZlIHx8IG9wZXJhdG9yID09PSBPcGVyYXRvclR5cGUucmFuZ2VJbmNsdXNpdmUpKSB7XHJcbiAgICAgICAgICBpZiAoIW9wZXJhdG9yKSB7XHJcbiAgICAgICAgICAgIG9wZXJhdG9yID0gT3BlcmF0b3JUeXBlLnJhbmdlRXhjbHVzaXZlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2VhcmNoQnlBcnJheS5wdXNoKHsgZmllbGQ6IGZpZWxkTmFtZSwgb3BlcmF0b3I6IChvcGVyYXRvciA9PT0gT3BlcmF0b3JUeXBlLnJhbmdlSW5jbHVzaXZlID8gJ0dFJyA6ICdHVCcpLCB2YWx1ZTogc2VhcmNoVGVybXNbMF0gfSk7XHJcbiAgICAgICAgICBzZWFyY2hCeUFycmF5LnB1c2goeyBmaWVsZDogZmllbGROYW1lLCBvcGVyYXRvcjogKG9wZXJhdG9yID09PSBPcGVyYXRvclR5cGUucmFuZ2VJbmNsdXNpdmUgPyAnTEUnIDogJ0xUJyksIHZhbHVlOiBzZWFyY2hUZXJtc1sxXSB9KTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaWYgd2Ugc3RpbGwgZG9uJ3QgaGF2ZSBhbiBvcGVyYXRvciBmaW5kIHRoZSBwcm9wZXIgT3BlcmF0b3IgdG8gdXNlIGJ5IGl0J3MgZmllbGQgdHlwZVxyXG4gICAgICAgIGlmICghb3BlcmF0b3IpIHtcclxuICAgICAgICAgIG9wZXJhdG9yID0gbWFwT3BlcmF0b3JCeUZpZWxkVHlwZShjb2x1bW5EZWYudHlwZSB8fCBGaWVsZFR5cGUuc3RyaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGJ1aWxkIHRoZSBzZWFyY2ggYXJyYXlcclxuICAgICAgICBzZWFyY2hCeUFycmF5LnB1c2goeyBmaWVsZDogZmllbGROYW1lLCBvcGVyYXRvcjogbWFwT3BlcmF0b3JUeXBlKG9wZXJhdG9yKSwgdmFsdWU6IHNlYXJjaFZhbHVlIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoZSBzZXJ2aWNlIG9wdGlvbnMgd2l0aCBmaWx0ZXJzIGZvciB0aGUgYnVpbGRRdWVyeSgpIHRvIHdvcmsgbGF0ZXJcclxuICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7IGZpbHRlcmluZ09wdGlvbnM6IHNlYXJjaEJ5QXJyYXkgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHBhZ2luYXRpb24gY29tcG9uZW50IHdpdGggaXQncyBuZXcgcGFnZSBudW1iZXIgYW5kIHNpemVcclxuICAgKiBAcGFyYW0gbmV3UGFnZVxyXG4gICAqIEBwYXJhbSBwYWdlU2l6ZVxyXG4gICAqL1xyXG4gIHVwZGF0ZVBhZ2luYXRpb24obmV3UGFnZTogbnVtYmVyLCBwYWdlU2l6ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9jdXJyZW50UGFnaW5hdGlvbiA9IHtcclxuICAgICAgcGFnZU51bWJlcjogbmV3UGFnZSxcclxuICAgICAgcGFnZVNpemUsXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCBwYWdpbmF0aW9uT3B0aW9ucztcclxuICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmlzV2l0aEN1cnNvcikge1xyXG4gICAgICBwYWdpbmF0aW9uT3B0aW9ucyA9IHtcclxuICAgICAgICBmaXJzdDogcGFnZVNpemVcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHBhZ2luYXRpb25PcHRpb25zID0ge1xyXG4gICAgICAgIGZpcnN0OiBwYWdlU2l6ZSxcclxuICAgICAgICBvZmZzZXQ6IChuZXdQYWdlID4gMSkgPyAoKG5ld1BhZ2UgLSAxKSAqIHBhZ2VTaXplKSA6IDAgLy8gcmVjYWxjdWxhdGUgb2Zmc2V0IGJ1dCBtYWtlIHN1cmUgdGhlIHJlc3VsdCBpcyBhbHdheXMgb3ZlciAwXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdW5sZXNzIHVzZXIgc3BlY2lmaWNhbGx5IHNldCBcImVuYWJsZVBhZ2luYXRpb25cIiB0byBGYWxzZSwgd2UnbGwgdXBkYXRlIHBhZ2luYXRpb24gb3B0aW9ucyBpbiBldmVyeSBvdGhlciBjYXNlc1xyXG4gICAgaWYgKHRoaXMuX2dyaWRPcHRpb25zICYmICh0aGlzLl9ncmlkT3B0aW9ucy5lbmFibGVQYWdpbmF0aW9uIHx8ICF0aGlzLl9ncmlkT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZW5hYmxlUGFnaW5hdGlvbicpKSkge1xyXG4gICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoeyBwYWdpbmF0aW9uT3B0aW9ucyB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGxvb3AgdGhyb3VnaCBhbGwgY29sdW1ucyB0byBpbnNwZWN0IHNvcnRlcnMgJiB1cGRhdGUgYmFja2VuZCBzZXJ2aWNlIHNvcnRpbmdPcHRpb25zXHJcbiAgICogQHBhcmFtIGNvbHVtbkZpbHRlcnNcclxuICAgKi9cclxuICB1cGRhdGVTb3J0ZXJzKHNvcnRDb2x1bW5zPzogQ29sdW1uU29ydFtdLCBwcmVzZXRTb3J0ZXJzPzogQ3VycmVudFNvcnRlcltdKSB7XHJcbiAgICBsZXQgY3VycmVudFNvcnRlcnM6IEN1cnJlbnRTb3J0ZXJbXSA9IFtdO1xyXG4gICAgY29uc3QgZ3JhcGhxbFNvcnRlcnM6IEdyYXBocWxTb3J0aW5nT3B0aW9uW10gPSBbXTtcclxuXHJcbiAgICBpZiAoIXNvcnRDb2x1bW5zICYmIHByZXNldFNvcnRlcnMpIHtcclxuICAgICAgLy8gbWFrZSB0aGUgcHJlc2V0cyB0aGUgY3VycmVudCBzb3J0ZXJzLCBhbHNvIG1ha2Ugc3VyZSB0aGF0IGFsbCBkaXJlY3Rpb24gYXJlIGluIHVwcGVyY2FzZSBmb3IgR3JhcGhRTFxyXG4gICAgICBjdXJyZW50U29ydGVycyA9IHByZXNldFNvcnRlcnM7XHJcbiAgICAgIGN1cnJlbnRTb3J0ZXJzLmZvckVhY2goKHNvcnRlcikgPT4gc29ydGVyLmRpcmVjdGlvbiA9IHNvcnRlci5kaXJlY3Rpb24udG9VcHBlckNhc2UoKSBhcyBTb3J0RGlyZWN0aW9uU3RyaW5nKTtcclxuXHJcbiAgICAgIC8vIGRpc3BsYXkgdGhlIGNvcnJlY3Qgc29ydGluZyBpY29ucyBvbiB0aGUgVUksIGZvciB0aGF0IGl0IHJlcXVpcmVzIChjb2x1bW5JZCwgc29ydEFzYykgcHJvcGVydGllc1xyXG4gICAgICBjb25zdCB0bXBTb3J0ZXJBcnJheSA9IGN1cnJlbnRTb3J0ZXJzLm1hcCgoc29ydGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29sdW1uRGVmID0gdGhpcy5fY29sdW1uRGVmaW5pdGlvbnMuZmluZCgoY29sdW1uOiBDb2x1bW4pID0+IGNvbHVtbi5pZCA9PT0gc29ydGVyLmNvbHVtbklkKTtcclxuXHJcbiAgICAgICAgZ3JhcGhxbFNvcnRlcnMucHVzaCh7XHJcbiAgICAgICAgICBmaWVsZDogY29sdW1uRGVmID8gKChjb2x1bW5EZWYucXVlcnlGaWVsZFNvcnRlciB8fCBjb2x1bW5EZWYucXVlcnlGaWVsZCB8fCBjb2x1bW5EZWYuZmllbGQpICsgJycpIDogKHNvcnRlci5jb2x1bW5JZCArICcnKSxcclxuICAgICAgICAgIGRpcmVjdGlvbjogc29ydGVyLmRpcmVjdGlvblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyByZXR1cm4gb25seSB0aGUgY29sdW1uKHMpIGZvdW5kIGluIHRoZSBDb2x1bW4gRGVmaW5pdGlvbnMgRUxTRSBudWxsXHJcbiAgICAgICAgaWYgKGNvbHVtbkRlZikge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29sdW1uSWQ6IHNvcnRlci5jb2x1bW5JZCxcclxuICAgICAgICAgICAgc29ydEFzYzogc29ydGVyLmRpcmVjdGlvbi50b1VwcGVyQ2FzZSgpID09PSBTb3J0RGlyZWN0aW9uLkFTQ1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gc2V0IHRoZSBzb3J0IGljb25zLCBidXQgYWxzbyBtYWtlIHN1cmUgdG8gZmlsdGVyIG91dCBudWxsIHZhbHVlcyAodGhhdCBoYXBwZW5zIHdoZW4gY29sdW1uRGVmIGlzIG5vdCBmb3VuZClcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodG1wU29ydGVyQXJyYXkpKSB7XHJcbiAgICAgICAgdGhpcy5fZ3JpZC5zZXRTb3J0Q29sdW1ucyh0bXBTb3J0ZXJBcnJheS5maWx0ZXIoKHNvcnRlcikgPT4gc29ydGVyKSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoc29ydENvbHVtbnMgJiYgIXByZXNldFNvcnRlcnMpIHtcclxuICAgICAgLy8gYnVpbGQgdGhlIG9yZGVyQnkgYXJyYXksIGl0IGNvdWxkIGJlIG11bHRpc29ydCwgZXhhbXBsZVxyXG4gICAgICAvLyBvcmRlckJ5Olt7ZmllbGQ6IGxhc3ROYW1lLCBkaXJlY3Rpb246IEFTQ30sIHtmaWVsZDogZmlyc3ROYW1lLCBkaXJlY3Rpb246IERFU0N9XVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3J0Q29sdW1ucykgJiYgc29ydENvbHVtbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY29sdW1uIG9mIHNvcnRDb2x1bW5zKSB7XHJcbiAgICAgICAgICBpZiAoY29sdW1uICYmIGNvbHVtbi5zb3J0Q29sKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTb3J0ZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgIGNvbHVtbklkOiBjb2x1bW4uc29ydENvbC5pZCArICcnLFxyXG4gICAgICAgICAgICAgIGRpcmVjdGlvbjogY29sdW1uLnNvcnRBc2MgPyBTb3J0RGlyZWN0aW9uLkFTQyA6IFNvcnREaXJlY3Rpb24uREVTQ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IChjb2x1bW4uc29ydENvbC5xdWVyeUZpZWxkU29ydGVyIHx8IGNvbHVtbi5zb3J0Q29sLnF1ZXJ5RmllbGQgfHwgY29sdW1uLnNvcnRDb2wuZmllbGQgfHwgJycpICsgJyc7XHJcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWUpIHtcclxuICAgICAgICAgICAgICBncmFwaHFsU29ydGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGZpZWxkOiBmaWVsZE5hbWUsXHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGNvbHVtbi5zb3J0QXNjID8gU29ydERpcmVjdGlvbi5BU0MgOiBTb3J0RGlyZWN0aW9uLkRFU0NcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGtlZXAgY3VycmVudCBTb3J0ZXJzIGFuZCB1cGRhdGUgdGhlIHNlcnZpY2Ugb3B0aW9ucyB3aXRoIHRoZSBuZXcgc29ydGluZ1xyXG4gICAgdGhpcy5fY3VycmVudFNvcnRlcnMgPSBjdXJyZW50U29ydGVycztcclxuICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7IHNvcnRpbmdPcHRpb25zOiBncmFwaHFsU29ydGVycyB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYW4gaW5wdXQgc3RyaW5nIGFuZCByZW1vdmVzIGRvdWJsZSBxdW90ZXMgb25seVxyXG4gICAqIG9uIGNlcnRhaW4gZmllbGRzIGFyZSBpZGVudGlmaWVkIGFzIEdyYXBoUUwgZW51bXMgKGV4Y2VwdCBmaWVsZHMgd2l0aCBkb3Qgbm90YXRpb24pXHJcbiAgICogRm9yIGV4YW1wbGUgbGV0IHNheSB3ZSBpZGVudGlmaWVkIChcImRpcmVjdGlvbjpcIiwgXCJzb3J0XCIpIGFzIHdvcmQgd2hpY2ggYXJlIEdyYXBoUUwgZW51bSBmaWVsZHNcclxuICAgKiB0aGVuIHRoZSByZXN1bHQgd2lsbCBiZTpcclxuICAgKiBGUk9NXHJcbiAgICogcXVlcnkgeyB1c2VycyAob3JkZXJCeTpbe2ZpZWxkOlwiZmlyc3ROYW1lXCIsIGRpcmVjdGlvbjpcIkFTQ1wifSB9XSkgfVxyXG4gICAqIFRPXHJcbiAgICogcXVlcnkgeyB1c2VycyAob3JkZXJCeTpbe2ZpZWxkOiBmaXJzdE5hbWUsIGRpcmVjdGlvbjogQVNDfX0pfVxyXG4gICAqXHJcbiAgICogRVhDRVBUSU9OUyAoZmllbGRzIHdpdGggZG90IG5vdGF0aW9uIFwiLlwiIHdoaWNoIGFyZSBpbnNpZGUgYSBcImZpZWxkOlwiKVxyXG4gICAqIHRoZXNlIGZpZWxkcyB3aWxsIGtlZXAgZG91YmxlIHF1b3RlcyB3aGlsZSBldmVyeXRoaW5nIGVsc2Ugd2lsbCBiZSBzdHJpcHBlZCBvZiBkb3VibGUgcXVvdGVzXHJcbiAgICogcXVlcnkgeyB1c2VycyAob3JkZXJCeTpbe2ZpZWxkOlwiYmlsbGluZy5zdHJlZXQubmFtZVwiLCBkaXJlY3Rpb246IFwiQVNDXCJ9IH1cclxuICAgKiBUT1xyXG4gICAqIHF1ZXJ5IHsgdXNlcnMgKG9yZGVyQnk6W3tmaWVsZDpcImJpbGxpbmcuc3RyZWV0Lm5hbWVcIiwgZGlyZWN0aW9uOiBBU0N9fVxyXG4gICAqIEBwYXJhbSBpbnB1dFN0ciBpbnB1dCBzdHJpbmdcclxuICAgKiBAcGFyYW0gZW51bVNlYXJjaFdvcmRzIGFycmF5IG9mIGVudW0gd29yZHMgdG8gZmlsdGVyXHJcbiAgICogQHJldHVybnMgb3V0cHV0U3RyIG91dHB1dCBzdHJpbmdcclxuICAgKi9cclxuICB0cmltRG91YmxlUXVvdGVzT25FbnVtRmllbGQoaW5wdXRTdHI6IHN0cmluZywgZW51bVNlYXJjaFdvcmRzOiBzdHJpbmdbXSwga2VlcEFyZ3VtZW50RmllbGREb3VibGVRdW90ZXM6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IHBhdHRlcm5Xb3JkSW5RdW90ZXMgPSBgXFxzPygoZmllbGQ6XFxzKik/XCIuKj9cIilgO1xyXG4gICAgbGV0IHBhdHRlcm5SZWdleCA9IGVudW1TZWFyY2hXb3Jkcy5qb2luKHBhdHRlcm5Xb3JkSW5RdW90ZXMgKyAnfCcpO1xyXG4gICAgcGF0dGVyblJlZ2V4ICs9IHBhdHRlcm5Xb3JkSW5RdW90ZXM7IC8vIHRoZSBsYXN0IG9uZSBzaG91bGQgYWxzbyBoYXZlIHRoZSBwYXR0ZXJuIGJ1dCB3aXRob3V0IHRoZSBwaXBlIFwifFwiXHJcbiAgICAvLyBleGFtcGxlIHdpdGggKGZpZWxkOiAmIGRpcmVjdGlvbjopOiAgL2ZpZWxkOnM/KFwiLio/XCIpfGRpcmVjdGlvbjpzPyhcIi4qP1wiKS9cclxuICAgIGNvbnN0IHJlZyA9IG5ldyBSZWdFeHAocGF0dGVyblJlZ2V4LCAnZycpO1xyXG5cclxuICAgIHJldHVybiBpbnB1dFN0ci5yZXBsYWNlKHJlZywgKGdyb3VwMSwgZ3JvdXAyLCBncm91cDMpID0+IHtcclxuICAgICAgLy8gcmVtb3ZlIGRvdWJsZSBxdW90ZXMgZXhjZXB0IHdoZW4gdGhlIHN0cmluZyBzdGFydHMgd2l0aCBhIFwiZmllbGQ6XCJcclxuICAgICAgbGV0IHJlbW92ZURvdWJsZVF1b3RlcyA9IHRydWU7XHJcbiAgICAgIGlmIChncm91cDEuc3RhcnRzV2l0aCgnZmllbGQ6JykgJiYga2VlcEFyZ3VtZW50RmllbGREb3VibGVRdW90ZXMpIHtcclxuICAgICAgICByZW1vdmVEb3VibGVRdW90ZXMgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCByZXAgPSByZW1vdmVEb3VibGVRdW90ZXMgPyBncm91cDEucmVwbGFjZSgvXCIvZywgJycpIDogZ3JvdXAxO1xyXG4gICAgICByZXR1cm4gcmVwO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL1xyXG4gIC8vIHByaXZhdGUgZnVuY3Rpb25zXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8qKlxyXG4gICAqIENhc3QgcHJvdmlkZWQgZmlsdGVycyAoY291bGQgYmUgaW4gbXVsdGlwbGUgZm9ybWF0cykgaW50byBhbiBhcnJheSBvZiBDdXJyZW50RmlsdGVyXHJcbiAgICogQHBhcmFtIGNvbHVtbkZpbHRlcnNcclxuICAgKi9cclxuICBwcml2YXRlIGNhc3RGaWx0ZXJUb0NvbHVtbkZpbHRlcnMoY29sdW1uRmlsdGVyczogQ29sdW1uRmlsdGVycyB8IEN1cnJlbnRGaWx0ZXJbXSk6IEN1cnJlbnRGaWx0ZXJbXSB7XHJcbiAgICAvLyBrZWVwIGN1cnJlbnQgZmlsdGVycyAmIGFsd2F5cyBzYXZlIGl0IGFzIGFuIGFycmF5IChjb2x1bW5GaWx0ZXJzIGNhbiBiZSBhbiBvYmplY3Qgd2hlbiBpdCBpcyBkZWFsdCBieSBTbGlja0dyaWQgRmlsdGVyKVxyXG4gICAgY29uc3QgZmlsdGVyc0FycmF5OiBDb2x1bW5GaWx0ZXJbXSA9ICh0eXBlb2YgY29sdW1uRmlsdGVycyA9PT0gJ29iamVjdCcpID8gT2JqZWN0LmtleXMoY29sdW1uRmlsdGVycykubWFwKGtleSA9PiBjb2x1bW5GaWx0ZXJzW2tleV0pIDogY29sdW1uRmlsdGVycztcclxuXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsdGVyc0FycmF5KSkge1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZpbHRlcnNBcnJheS5tYXAoKGZpbHRlcikgPT4ge1xyXG4gICAgICBjb25zdCB0bXBGaWx0ZXI6IEN1cnJlbnRGaWx0ZXIgPSB7IGNvbHVtbklkOiBmaWx0ZXIuY29sdW1uSWQgfHwgJycgfTtcclxuICAgICAgaWYgKGZpbHRlci5vcGVyYXRvcikge1xyXG4gICAgICAgIHRtcEZpbHRlci5vcGVyYXRvciA9IGZpbHRlci5vcGVyYXRvcjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIuc2VhcmNoVGVybXMpKSB7XHJcbiAgICAgICAgdG1wRmlsdGVyLnNlYXJjaFRlcm1zID0gZmlsdGVyLnNlYXJjaFRlcm1zO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0bXBGaWx0ZXI7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl19