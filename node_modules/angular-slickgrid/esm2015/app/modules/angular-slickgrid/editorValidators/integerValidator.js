import { Constants } from '../constants';
export function integerValidator(inputValue, options) {
    let intNumber = !isNaN(inputValue) ? parseInt(inputValue, 10) : null;
    if (intNumber !== null && isNaN(intNumber)) {
        intNumber = null;
    }
    const errorMsg = options.errorMessage;
    const isRequired = options.required;
    const minValue = options.minValue;
    const maxValue = options.maxValue;
    const operatorConditionalType = options.operatorConditionalType || 'inclusive';
    const mapValidation = {
        '{{minValue}}': minValue,
        '{{maxValue}}': maxValue
    };
    let isValid = true;
    let outputMsg = '';
    if (options.validator) {
        return options.validator(inputValue, options.editorArgs);
    }
    else if (isRequired && inputValue === '') {
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_REQUIRED_FIELD;
    }
    else if (inputValue !== '' && ((isNaN(inputValue) || !/^[+-]?\d+$/.test(inputValue)))) {
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_EDITOR_VALID_INTEGER;
    }
    else if (minValue !== undefined && maxValue !== undefined && intNumber !== null && ((operatorConditionalType === 'exclusive' && (intNumber <= minValue || intNumber >= maxValue)) || (operatorConditionalType === 'inclusive' && (intNumber < minValue || intNumber > maxValue)))) {
        // MIN & MAX Values provided (between)
        // when decimal value is bigger than 0, we only accept the decimal values as that value set
        // for example if we set decimalPlaces to 2, we will only accept numbers between 0 and 2 decimals
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_EDITOR_INTEGER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi, (matched) => mapValidation[matched]);
    }
    else if (minValue !== undefined && intNumber !== null && ((operatorConditionalType === 'exclusive' && intNumber <= minValue) || (operatorConditionalType === 'inclusive' && intNumber !== null && intNumber < minValue))) {
        // MIN VALUE ONLY
        // when decimal value has to be higher then provided minValue
        isValid = false;
        const defaultErrorMsg = operatorConditionalType === 'inclusive' ? Constants.VALIDATION_EDITOR_INTEGER_MIN_INCLUSIVE : Constants.VALIDATION_EDITOR_INTEGER_MIN;
        outputMsg = errorMsg || defaultErrorMsg.replace(/{{minValue}}/gi, (matched) => mapValidation[matched]);
    }
    else if (maxValue !== undefined && intNumber !== null && ((operatorConditionalType === 'exclusive' && intNumber >= maxValue) || (operatorConditionalType === 'inclusive' && intNumber !== null && intNumber > maxValue))) {
        // MAX VALUE ONLY
        // when decimal value has to be lower then provided maxValue
        isValid = false;
        const defaultErrorMsg = operatorConditionalType === 'inclusive' ? Constants.VALIDATION_EDITOR_INTEGER_MAX_INCLUSIVE : Constants.VALIDATION_EDITOR_INTEGER_MAX;
        outputMsg = errorMsg || defaultErrorMsg.replace(/{{maxValue}}/gi, (matched) => mapValidation[matched]);
    }
    return { valid: isValid, msg: outputMsg };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWdlclZhbGlkYXRvci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItc2xpY2tncmlkLyIsInNvdXJjZXMiOlsiYXBwL21vZHVsZXMvYW5ndWxhci1zbGlja2dyaWQvZWRpdG9yVmFsaWRhdG9ycy9pbnRlZ2VyVmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFjekMsTUFBTSxVQUFVLGdCQUFnQixDQUFDLFVBQWUsRUFBRSxPQUFnQztJQUNoRixJQUFJLFNBQVMsR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUMvRSxJQUFJLFNBQVMsS0FBSyxJQUFJLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFO1FBQzFDLFNBQVMsR0FBRyxJQUFJLENBQUM7S0FDbEI7SUFDRCxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBQ3RDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDcEMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUNsQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO0lBQ2xDLE1BQU0sdUJBQXVCLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixJQUFJLFdBQVcsQ0FBQztJQUMvRSxNQUFNLGFBQWEsR0FBRztRQUNwQixjQUFjLEVBQUUsUUFBUTtRQUN4QixjQUFjLEVBQUUsUUFBUTtLQUN6QixDQUFDO0lBQ0YsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO0lBQ25CLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUVuQixJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7UUFDckIsT0FBTyxPQUFPLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxP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ImltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IEVkaXRvclZhbGlkYXRvck91dHB1dCB9IGZyb20gJy4uL21vZGVscy9lZGl0b3JWYWxpZGF0b3JPdXRwdXQuaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRWRpdG9yVmFsaWRhdG9yIH0gZnJvbSAnLi4vbW9kZWxzL2VkaXRvclZhbGlkYXRvci5pbnRlcmZhY2UnO1xyXG5cclxuaW50ZXJmYWNlIEludGVnZXJWYWxpZGF0b3JPcHRpb25zIHtcclxuICBlZGl0b3JBcmdzOiBhbnk7XHJcbiAgZXJyb3JNZXNzYWdlPzogc3RyaW5nO1xyXG4gIG1pblZhbHVlPzogc3RyaW5nIHwgbnVtYmVyO1xyXG4gIG1heFZhbHVlPzogc3RyaW5nIHwgbnVtYmVyO1xyXG4gIG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlPzogJ2luY2x1c2l2ZScgfCAnZXhjbHVzaXZlJztcclxuICByZXF1aXJlZD86IGJvb2xlYW47XHJcbiAgdmFsaWRhdG9yPzogRWRpdG9yVmFsaWRhdG9yO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW50ZWdlclZhbGlkYXRvcihpbnB1dFZhbHVlOiBhbnksIG9wdGlvbnM6IEludGVnZXJWYWxpZGF0b3JPcHRpb25zKTogRWRpdG9yVmFsaWRhdG9yT3V0cHV0IHtcclxuICBsZXQgaW50TnVtYmVyID0gIWlzTmFOKGlucHV0VmFsdWUgYXMgbnVtYmVyKSA/IHBhcnNlSW50KGlucHV0VmFsdWUsIDEwKSA6IG51bGw7XHJcbiAgaWYgKGludE51bWJlciAhPT0gbnVsbCAmJiBpc05hTihpbnROdW1iZXIpKSB7XHJcbiAgICBpbnROdW1iZXIgPSBudWxsO1xyXG4gIH1cclxuICBjb25zdCBlcnJvck1zZyA9IG9wdGlvbnMuZXJyb3JNZXNzYWdlO1xyXG4gIGNvbnN0IGlzUmVxdWlyZWQgPSBvcHRpb25zLnJlcXVpcmVkO1xyXG4gIGNvbnN0IG1pblZhbHVlID0gb3B0aW9ucy5taW5WYWx1ZTtcclxuICBjb25zdCBtYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7XHJcbiAgY29uc3Qgb3BlcmF0b3JDb25kaXRpb25hbFR5cGUgPSBvcHRpb25zLm9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlIHx8ICdpbmNsdXNpdmUnO1xyXG4gIGNvbnN0IG1hcFZhbGlkYXRpb24gPSB7XHJcbiAgICAne3ttaW5WYWx1ZX19JzogbWluVmFsdWUsXHJcbiAgICAne3ttYXhWYWx1ZX19JzogbWF4VmFsdWVcclxuICB9O1xyXG4gIGxldCBpc1ZhbGlkID0gdHJ1ZTtcclxuICBsZXQgb3V0cHV0TXNnID0gJyc7XHJcblxyXG4gIGlmIChvcHRpb25zLnZhbGlkYXRvcikge1xyXG4gICAgcmV0dXJuIG9wdGlvbnMudmFsaWRhdG9yKGlucHV0VmFsdWUsIG9wdGlvbnMuZWRpdG9yQXJncyk7XHJcbiAgfSBlbHNlIGlmIChpc1JlcXVpcmVkICYmIGlucHV0VmFsdWUgPT09ICcnKSB7XHJcbiAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICBvdXRwdXRNc2cgPSBlcnJvck1zZyB8fCBDb25zdGFudHMuVkFMSURBVElPTl9SRVFVSVJFRF9GSUVMRDtcclxuICB9IGVsc2UgaWYgKGlucHV0VmFsdWUgIT09ICcnICYmICgoaXNOYU4oaW5wdXRWYWx1ZSBhcyBudW1iZXIpIHx8ICEvXlsrLV0/XFxkKyQvLnRlc3QoaW5wdXRWYWx1ZSkpKSkge1xyXG4gICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgb3V0cHV0TXNnID0gZXJyb3JNc2cgfHwgQ29uc3RhbnRzLlZBTElEQVRJT05fRURJVE9SX1ZBTElEX0lOVEVHRVI7XHJcbiAgfSBlbHNlIGlmIChtaW5WYWx1ZSAhPT0gdW5kZWZpbmVkICYmIG1heFZhbHVlICE9PSB1bmRlZmluZWQgJiYgaW50TnVtYmVyICE9PSBudWxsICYmICgob3BlcmF0b3JDb25kaXRpb25hbFR5cGUgPT09ICdleGNsdXNpdmUnICYmIChpbnROdW1iZXIgPD0gbWluVmFsdWUgfHwgaW50TnVtYmVyID49IG1heFZhbHVlKSkgfHwgKG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnaW5jbHVzaXZlJyAmJiAoaW50TnVtYmVyIDwgbWluVmFsdWUgfHwgaW50TnVtYmVyID4gbWF4VmFsdWUpKSkpIHtcclxuICAgIC8vIE1JTiAmIE1BWCBWYWx1ZXMgcHJvdmlkZWQgKGJldHdlZW4pXHJcbiAgICAvLyB3aGVuIGRlY2ltYWwgdmFsdWUgaXMgYmlnZ2VyIHRoYW4gMCwgd2Ugb25seSBhY2NlcHQgdGhlIGRlY2ltYWwgdmFsdWVzIGFzIHRoYXQgdmFsdWUgc2V0XHJcbiAgICAvLyBmb3IgZXhhbXBsZSBpZiB3ZSBzZXQgZGVjaW1hbFBsYWNlcyB0byAyLCB3ZSB3aWxsIG9ubHkgYWNjZXB0IG51bWJlcnMgYmV0d2VlbiAwIGFuZCAyIGRlY2ltYWxzXHJcbiAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICBvdXRwdXRNc2cgPSBlcnJvck1zZyB8fCBDb25zdGFudHMuVkFMSURBVElPTl9FRElUT1JfSU5URUdFUl9CRVRXRUVOLnJlcGxhY2UoL3t7bWluVmFsdWV9fXx7e21heFZhbHVlfX0vZ2ksIChtYXRjaGVkKSA9PiBtYXBWYWxpZGF0aW9uW21hdGNoZWRdKTtcclxuICB9IGVsc2UgaWYgKG1pblZhbHVlICE9PSB1bmRlZmluZWQgJiYgaW50TnVtYmVyICE9PSBudWxsICYmICgob3BlcmF0b3JDb25kaXRpb25hbFR5cGUgPT09ICdleGNsdXNpdmUnICYmIGludE51bWJlciA8PSBtaW5WYWx1ZSkgfHwgKG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnaW5jbHVzaXZlJyAmJiBpbnROdW1iZXIgIT09IG51bGwgJiYgaW50TnVtYmVyIDwgbWluVmFsdWUpKSkge1xyXG4gICAgLy8gTUlOIFZBTFVFIE9OTFlcclxuICAgIC8vIHdoZW4gZGVjaW1hbCB2YWx1ZSBoYXMgdG8gYmUgaGlnaGVyIHRoZW4gcHJvdmlkZWQgbWluVmFsdWVcclxuICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGRlZmF1bHRFcnJvck1zZyA9IG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnaW5jbHVzaXZlJyA/IENvbnN0YW50cy5WQUxJREFUSU9OX0VESVRPUl9JTlRFR0VSX01JTl9JTkNMVVNJVkUgOiBDb25zdGFudHMuVkFMSURBVElPTl9FRElUT1JfSU5URUdFUl9NSU47XHJcbiAgICBvdXRwdXRNc2cgPSBlcnJvck1zZyB8fCBkZWZhdWx0RXJyb3JNc2cucmVwbGFjZSgve3ttaW5WYWx1ZX19L2dpLCAobWF0Y2hlZCkgPT4gbWFwVmFsaWRhdGlvblttYXRjaGVkXSk7XHJcbiAgfSBlbHNlIGlmIChtYXhWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGludE51bWJlciAhPT0gbnVsbCAmJiAoKG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnZXhjbHVzaXZlJyAmJiBpbnROdW1iZXIgPj0gbWF4VmFsdWUpIHx8IChvcGVyYXRvckNvbmRpdGlvbmFsVHlwZSA9PT0gJ2luY2x1c2l2ZScgJiYgaW50TnVtYmVyICE9PSBudWxsICYmIGludE51bWJlciA+IG1heFZhbHVlKSkpIHtcclxuICAgIC8vIE1BWCBWQUxVRSBPTkxZXHJcbiAgICAvLyB3aGVuIGRlY2ltYWwgdmFsdWUgaGFzIHRvIGJlIGxvd2VyIHRoZW4gcHJvdmlkZWQgbWF4VmFsdWVcclxuICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGRlZmF1bHRFcnJvck1zZyA9IG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnaW5jbHVzaXZlJyA/IENvbnN0YW50cy5WQUxJREFUSU9OX0VESVRPUl9JTlRFR0VSX01BWF9JTkNMVVNJVkUgOiBDb25zdGFudHMuVkFMSURBVElPTl9FRElUT1JfSU5URUdFUl9NQVg7XHJcbiAgICBvdXRwdXRNc2cgPSBlcnJvck1zZyB8fCBkZWZhdWx0RXJyb3JNc2cucmVwbGFjZSgve3ttYXhWYWx1ZX19L2dpLCAobWF0Y2hlZCkgPT4gbWFwVmFsaWRhdGlvblttYXRjaGVkXSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyB2YWxpZDogaXNWYWxpZCwgbXNnOiBvdXRwdXRNc2cgfTtcclxufVxyXG4iXX0=