import * as tslib_1 from "tslib";
import { mapOperatorType, mapOperatorByFieldType } from './utilities';
import { FieldType, OperatorType, SortDirection } from './../models/index';
import QueryBuilder from './graphqlQueryBuilder';
import * as Éµngcc0 from '@angular/core';
var DEFAULT_ITEMS_PER_PAGE = 25;
var DEFAULT_PAGE_SIZE = 20;
var GraphqlService = /** @class */ (function () {
    function GraphqlService() {
        this._currentFilters = [];
        this._currentSorters = [];
        this._datasetIdPropName = 'id';
        this.defaultPaginationOptions = {
            first: DEFAULT_ITEMS_PER_PAGE,
            offset: 0
        };
    }
    Object.defineProperty(GraphqlService.prototype, "columnDefinitions", {
        /** Getter for the Column Definitions */
        get: function () {
            return this._columnDefinitions;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GraphqlService.prototype, "_gridOptions", {
        /** Getter for the Grid Options pulled through the Grid Object */
        get: function () {
            return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};
        },
        enumerable: true,
        configurable: true
    });
    /** Initialization of the service, which acts as a constructor */
    GraphqlService.prototype.init = function (serviceOptions, pagination, grid) {
        this._grid = grid;
        this.options = serviceOptions || { datasetName: '', columnDefinitions: [] };
        this.pagination = pagination;
        this._datasetIdPropName = this._gridOptions.datasetIdPropertyName || 'id';
        if (grid && grid.getColumns) {
            this._columnDefinitions = (serviceOptions && serviceOptions.columnDefinitions) || grid.getColumns();
        }
    };
    /**
     * Build the GraphQL query, since the service include/exclude cursor, the output query will be different.
     * @param serviceOptions GraphqlServiceOption
     */
    GraphqlService.prototype.buildQuery = function () {
        var e_1, _a, e_2, _b;
        if (!this.options || !this.options.datasetName || (!this._columnDefinitions && !Array.isArray(this.options.columnDefinitions))) {
            throw new Error('GraphQL Service requires the "datasetName" property to properly build the GraphQL query');
        }
        // get the column definitions and exclude some if they were tagged as excluded
        var columnDefinitions = this._columnDefinitions || this.options.columnDefinitions;
        columnDefinitions = columnDefinitions.filter(function (column) { return !column.excludeFromQuery; });
        var queryQb = new QueryBuilder('query');
        var datasetQb = new QueryBuilder(this.options.datasetName);
        var nodesQb = new QueryBuilder('nodes');
        // get all the columnds Ids for the filters to work
        var columnIds = [];
        if (columnDefinitions && Array.isArray(columnDefinitions)) {
            try {
                for (var columnDefinitions_1 = tslib_1.__values(columnDefinitions), columnDefinitions_1_1 = columnDefinitions_1.next(); !columnDefinitions_1_1.done; columnDefinitions_1_1 = columnDefinitions_1.next()) {
                    var column = columnDefinitions_1_1.value;
                    columnIds.push(column.field);
                    // if extra "fields" are passed, also push them to columnIds
                    if (column.fields) {
                        columnIds.push.apply(columnIds, tslib_1.__spread(column.fields));
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (columnDefinitions_1_1 && !columnDefinitions_1_1.done && (_a = columnDefinitions_1.return)) _a.call(columnDefinitions_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        // Slickgrid also requires the "id" (or the dataset defined unique ide) field to be part of DataView
        // add it to the GraphQL query if it wasn't already part of the list
        if (columnIds.indexOf(this._datasetIdPropName) === -1) {
            columnIds.unshift(this._datasetIdPropName);
        }
        var columnsQuery = this.buildFilterQuery(columnIds);
        var graphqlNodeFields = [];
        if (this._gridOptions.enablePagination !== false) {
            if (this.options.isWithCursor) {
                // ...pageInfo { hasNextPage, endCursor }, edges { cursor, node { _columns_ } }, totalCount: 100
                var edgesQb = new QueryBuilder('edges');
                var pageInfoQb = new QueryBuilder('pageInfo');
                pageInfoQb.find('hasNextPage', 'hasPreviousPage', 'endCursor', 'startCursor');
                nodesQb.find(columnsQuery);
                edgesQb.find(['cursor']);
                graphqlNodeFields = ['totalCount', nodesQb, pageInfoQb, edgesQb];
            }
            else {
                // ...nodes { _columns_ }, totalCount: 100
                nodesQb.find(columnsQuery);
                graphqlNodeFields = ['totalCount', nodesQb];
            }
            // all properties to be returned by the query
            datasetQb.find(graphqlNodeFields);
        }
        else {
            // include all columns to be returned
            datasetQb.find(columnsQuery);
        }
        // add dataset filters, could be Pagination and SortingFilters and/or FieldFilters
        var datasetFilters = {};
        // only add pagination if it's enabled in the grid options
        if (this._gridOptions.enablePagination !== false) {
            datasetFilters = tslib_1.__assign({}, this.options.paginationOptions, { first: ((this.options.paginationOptions && this.options.paginationOptions.first) ? this.options.paginationOptions.first : ((this.pagination && this.pagination.pageSize) ? this.pagination.pageSize : null)) || this.defaultPaginationOptions.first });
            if (!this.options.isWithCursor) {
                datasetFilters.offset = ((this.options.paginationOptions && this.options.paginationOptions.hasOwnProperty('offset')) ? +this.options.paginationOptions['offset'] : 0);
            }
        }
        if (this.options.sortingOptions && Array.isArray(this.options.sortingOptions) && this.options.sortingOptions.length > 0) {
            // orderBy: [{ field:x, direction: 'ASC' }]
            datasetFilters.orderBy = this.options.sortingOptions;
        }
        if (this.options.filteringOptions && Array.isArray(this.options.filteringOptions) && this.options.filteringOptions.length > 0) {
            // filterBy: [{ field: date, operator: '>', value: '2000-10-10' }]
            datasetFilters.filterBy = this.options.filteringOptions;
        }
        if (this.options.addLocaleIntoQuery) {
            // first: 20, ... locale: "en-CA"
            datasetFilters.locale = this._gridOptions && this._gridOptions.i18n && this._gridOptions.i18n.currentLang || this._gridOptions.locale || 'en';
        }
        if (this.options.extraQueryArguments) {
            try {
                // first: 20, ... userId: 123
                for (var _c = tslib_1.__values(this.options.extraQueryArguments), _d = _c.next(); !_d.done; _d = _c.next()) {
                    var queryArgument = _d.value;
                    datasetFilters[queryArgument.field] = queryArgument.value;
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_d && !_d.done && (_b = _c.return)) _b.call(_c);
                }
                finally { if (e_2) throw e_2.error; }
            }
        }
        // with pagination:: query { users(first: 20, offset: 0, orderBy: [], filterBy: []) { totalCount: 100, nodes: { _columns_ }}}
        // without pagination:: query { users(orderBy: [], filterBy: []) { _columns_ }}
        datasetQb.filter(datasetFilters);
        queryQb.find(datasetQb);
        var enumSearchProperties = ['direction:', 'field:', 'operator:'];
        return this.trimDoubleQuotesOnEnumField(queryQb.toString(), enumSearchProperties, this.options.keepArgumentFieldDoubleQuotes || false);
    };
    /**
     * From an input array of strings, we want to build a GraphQL query string.
     * The process has to take the dot notation and parse it into a valid GraphQL query
     * Following this SO answer https://stackoverflow.com/a/47705476/1212166
     *
     * INPUT
     *  ['firstName', 'lastName', 'billing.address.street', 'billing.address.zip']
     * OUTPUT
     * firstName, lastName, billing{address{street, zip}}
     * @param inputArray
     */
    GraphqlService.prototype.buildFilterQuery = function (inputArray) {
        var set = function (o, a) {
            if (o === void 0) { o = {}; }
            var k = a.shift();
            o[k] = a.length ? set(o[k], a) : null;
            return o;
        };
        var output = inputArray.reduce(function (o, a) { return set(o, a.split('.')); }, {});
        return JSON.stringify(output)
            .replace(/\"|\:|null/g, '')
            .replace(/^\{/, '')
            .replace(/\}$/, '');
    };
    GraphqlService.prototype.clearFilters = function () {
        this._currentFilters = [];
        this.updateOptions({ filteringOptions: [] });
    };
    GraphqlService.prototype.clearSorters = function () {
        this._currentSorters = [];
        this.updateOptions({ sortingOptions: [] });
    };
    /**
     * Get an initialization of Pagination options
     * @return Pagination Options
     */
    GraphqlService.prototype.getInitPaginationOptions = function () {
        var paginationFirst = this.pagination ? this.pagination.pageSize : DEFAULT_ITEMS_PER_PAGE;
        return (this.options && this.options.isWithCursor) ? { first: paginationFirst } : { first: paginationFirst, offset: 0 };
    };
    /** Get the GraphQL dataset name */
    GraphqlService.prototype.getDatasetName = function () {
        return this.options.datasetName || '';
    };
    /** Get the Filters that are currently used by the grid */
    GraphqlService.prototype.getCurrentFilters = function () {
        return this._currentFilters;
    };
    /** Get the Pagination that is currently used by the grid */
    GraphqlService.prototype.getCurrentPagination = function () {
        return this._currentPagination;
    };
    /** Get the Sorters that are currently used by the grid */
    GraphqlService.prototype.getCurrentSorters = function () {
        return this._currentSorters;
    };
    /*
     * Reset the pagination options
     */
    GraphqlService.prototype.resetPaginationOptions = function () {
        var paginationOptions;
        if (this.options && this.options.isWithCursor) {
            // first, last, after, before
            paginationOptions = {
                after: '',
                before: undefined,
                last: undefined
            };
        }
        else {
            // first, last, offset
            paginationOptions = ((this.options && this.options.paginationOptions) || this.getInitPaginationOptions());
            paginationOptions.offset = 0;
        }
        // save current pagination as Page 1 and page size as "first" set size
        this._currentPagination = {
            pageNumber: 1,
            pageSize: paginationOptions.first || DEFAULT_PAGE_SIZE,
        };
        this.updateOptions({ paginationOptions: paginationOptions });
    };
    GraphqlService.prototype.updateOptions = function (serviceOptions) {
        this.options = tslib_1.__assign({}, this.options, serviceOptions);
    };
    /*
     * FILTERING
     */
    GraphqlService.prototype.processOnFilterChanged = function (event, args) {
        var gridOptions = this._gridOptions;
        var backendApi = gridOptions.backendServiceApi;
        if (backendApi === undefined) {
            throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');
        }
        // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)
        this._currentFilters = this.castFilterToColumnFilters(args.columnFilters);
        if (!args || !args.grid) {
            throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');
        }
        // loop through all columns to inspect filters & set the query
        this.updateFilters(args.columnFilters, false);
        this.resetPaginationOptions();
        return this.buildQuery();
    };
    /*
     * PAGINATION
     * With cursor, the query can have 4 arguments (first, after, last, before), for example:
     *   users (first:20, after:"YXJyYXljb25uZWN0aW9uOjM=") {
     *     totalCount
     *     pageInfo {
     *       hasNextPage
     *       hasPreviousPage
     *       endCursor
     *       startCursor
     *     }
     *     edges {
     *       cursor
     *       node {
     *         name
     *         gender
     *       }
     *     }
     *   }
     * Without cursor, the query can have 3 arguments (first, last, offset), for example:
     *   users (first:20, offset: 10) {
     *     totalCount
     *     nodes {
     *       name
     *       gender
     *     }
     *   }
     */
    GraphqlService.prototype.processOnPaginationChanged = function (event, args) {
        var pageSize = +(args.pageSize || ((this.pagination) ? this.pagination.pageSize : DEFAULT_PAGE_SIZE));
        this.updatePagination(args.newPage, pageSize);
        // build the GraphQL query which we will use in the WebAPI callback
        return this.buildQuery();
    };
    /*
     * SORTING
     * we will use sorting as per a Facebook suggestion on a Github issue (with some small changes)
     * https://github.com/graphql/graphql-relay-js/issues/20#issuecomment-220494222
     *
     *  users (first: 20, offset: 10, orderBy: [{field: lastName, direction: ASC}, {field: firstName, direction: DESC}]) {
     *    totalCount
     *    nodes {
     *      name
     *      gender
     *    }
     *  }
     */
    // @deprecated note, we should remove "SortChangedArgs" and only use: ColumnSort | MultiColumnSort
    GraphqlService.prototype.processOnSortChanged = function (event, args) {
        var sortColumns = (args.multiColumnSort) ? args.sortCols : new Array({ sortCol: args.sortCol, sortAsc: args.sortAsc });
        // loop through all columns to inspect sorters & set the query
        this.updateSorters(sortColumns);
        // build the GraphQL query which we will use in the WebAPI callback
        return this.buildQuery();
    };
    /**
     * loop through all columns to inspect filters & update backend service filteringOptions
     * @param columnFilters
     */
    GraphqlService.prototype.updateFilters = function (columnFilters, isUpdatedByPresetOrDynamically) {
        var searchByArray = [];
        var searchValue;
        // on filter preset load, we need to keep current filters
        if (isUpdatedByPresetOrDynamically) {
            this._currentFilters = this.castFilterToColumnFilters(columnFilters);
        }
        var _loop_1 = function (columnId) {
            if (columnFilters.hasOwnProperty(columnId)) {
                var columnFilter_1 = columnFilters[columnId];
                // if user defined some "presets", then we need to find the filters from the column definitions instead
                var columnDef = void 0;
                if (isUpdatedByPresetOrDynamically && Array.isArray(this_1._columnDefinitions)) {
                    columnDef = this_1._columnDefinitions.find(function (column) { return column.id === columnFilter_1.columnId; });
                }
                else {
                    columnDef = columnFilter_1.columnDef;
                }
                if (!columnDef) {
                    throw new Error('[GraphQL Service]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?');
                }
                var fieldName = (columnDef.filter && columnDef.filter.queryField) || columnDef.queryFieldFilter || columnDef.queryField || columnDef.field || columnDef.name || '';
                var searchTerms = columnFilter_1 && columnFilter_1.searchTerms || [];
                var fieldSearchValue = (Array.isArray(searchTerms) && searchTerms.length === 1) ? searchTerms[0] : '';
                if (typeof fieldSearchValue === 'undefined') {
                    fieldSearchValue = '';
                }
                if (!fieldName) {
                    throw new Error("GraphQL filter could not find the field name to query the search, your column definition must include a valid \"field\" or \"name\" (optionally you can also use the \"queryfield\").");
                }
                fieldSearchValue = '' + fieldSearchValue; // make sure it's a string
                var matches = fieldSearchValue.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/); // group 1: Operator, 2: searchValue, 3: last char is '*' (meaning starts with, ex.: abc*)
                var operator = columnFilter_1.operator || ((matches) ? matches[1] : '');
                searchValue = (!!matches) ? matches[2] : '';
                var lastValueChar = (!!matches) ? matches[3] : (operator === '*z' ? '*' : '');
                // no need to query if search value is empty
                if (fieldName && searchValue === '' && searchTerms.length === 0) {
                    return "continue";
                }
                if (Array.isArray(searchTerms) && searchTerms.length === 1 && typeof searchTerms[0] === 'string' && searchTerms[0].indexOf('..') > 0) {
                    searchTerms = searchTerms[0].split('..');
                    if (!operator) {
                        operator = OperatorType.rangeExclusive;
                    }
                }
                if (typeof searchValue === 'string') {
                    // escaping the search value
                    searchValue = searchValue.replace("'", "''"); // escape single quotes by doubling them
                    if (operator === '*' || operator === 'a*' || operator === '*z' || lastValueChar === '*') {
                        operator = ((operator === '*' || operator === '*z') ? 'EndsWith' : 'StartsWith');
                    }
                }
                // if we didn't find an Operator but we have a Column Operator inside the Filter (DOM Element), we should use its default Operator
                // multipleSelect is "IN", while singleSelect is "EQ", else don't map any operator
                if (!operator && columnDef.filter) {
                    operator = columnDef.filter.operator;
                }
                // when having more than 1 search term (we need to create a CSV string for GraphQL "IN" or "NOT IN" filter search)
                if (searchTerms && searchTerms.length > 1 && (operator === 'IN' || operator === 'NIN' || operator === 'NOTIN' || operator === 'NOT IN' || operator === 'NOT_IN')) {
                    searchValue = searchTerms.join(',');
                }
                else if (searchTerms && searchTerms.length === 2 && (!operator || operator === OperatorType.rangeExclusive || operator === OperatorType.rangeInclusive)) {
                    if (!operator) {
                        operator = OperatorType.rangeExclusive;
                    }
                    searchByArray.push({ field: fieldName, operator: (operator === OperatorType.rangeInclusive ? 'GE' : 'GT'), value: searchTerms[0] });
                    searchByArray.push({ field: fieldName, operator: (operator === OperatorType.rangeInclusive ? 'LE' : 'LT'), value: searchTerms[1] });
                    return "continue";
                }
                // if we still don't have an operator find the proper Operator to use by it's field type
                if (!operator) {
                    operator = mapOperatorByFieldType(columnDef.type || FieldType.string);
                }
                // build the search array
                searchByArray.push({ field: fieldName, operator: mapOperatorType(operator), value: searchValue });
            }
        };
        var this_1 = this;
        for (var columnId in columnFilters) {
            _loop_1(columnId);
        }
        // update the service options with filters for the buildQuery() to work later
        this.updateOptions({ filteringOptions: searchByArray });
    };
    /**
     * Update the pagination component with it's new page number and size
     * @param newPage
     * @param pageSize
     */
    GraphqlService.prototype.updatePagination = function (newPage, pageSize) {
        this._currentPagination = {
            pageNumber: newPage,
            pageSize: pageSize,
        };
        var paginationOptions;
        if (this.options && this.options.isWithCursor) {
            paginationOptions = {
                first: pageSize
            };
        }
        else {
            paginationOptions = {
                first: pageSize,
                offset: (newPage > 1) ? ((newPage - 1) * pageSize) : 0 // recalculate offset but make sure the result is always over 0
            };
        }
        // unless user specifically set "enablePagination" to False, we'll update pagination options in every other cases
        if (this._gridOptions && (this._gridOptions.enablePagination || !this._gridOptions.hasOwnProperty('enablePagination'))) {
            this.updateOptions({ paginationOptions: paginationOptions });
        }
    };
    /**
     * loop through all columns to inspect sorters & update backend service sortingOptions
     * @param columnFilters
     */
    GraphqlService.prototype.updateSorters = function (sortColumns, presetSorters) {
        var e_3, _a;
        var _this = this;
        var currentSorters = [];
        var graphqlSorters = [];
        if (!sortColumns && presetSorters) {
            // make the presets the current sorters, also make sure that all direction are in uppercase for GraphQL
            currentSorters = presetSorters;
            currentSorters.forEach(function (sorter) { return sorter.direction = sorter.direction.toUpperCase(); });
            // display the correct sorting icons on the UI, for that it requires (columnId, sortAsc) properties
            var tmpSorterArray = currentSorters.map(function (sorter) {
                var columnDef = _this._columnDefinitions.find(function (column) { return column.id === sorter.columnId; });
                graphqlSorters.push({
                    field: columnDef ? ((columnDef.queryFieldSorter || columnDef.queryField || columnDef.field) + '') : (sorter.columnId + ''),
                    direction: sorter.direction
                });
                // return only the column(s) found in the Column Definitions ELSE null
                if (columnDef) {
                    return {
                        columnId: sorter.columnId,
                        sortAsc: sorter.direction.toUpperCase() === SortDirection.ASC
                    };
                }
                return null;
            });
            // set the sort icons, but also make sure to filter out null values (that happens when columnDef is not found)
            if (Array.isArray(tmpSorterArray)) {
                this._grid.setSortColumns(tmpSorterArray.filter(function (sorter) { return sorter; }));
            }
        }
        else if (sortColumns && !presetSorters) {
            // build the orderBy array, it could be multisort, example
            // orderBy:[{field: lastName, direction: ASC}, {field: firstName, direction: DESC}]
            if (Array.isArray(sortColumns) && sortColumns.length > 0) {
                try {
                    for (var sortColumns_1 = tslib_1.__values(sortColumns), sortColumns_1_1 = sortColumns_1.next(); !sortColumns_1_1.done; sortColumns_1_1 = sortColumns_1.next()) {
                        var column = sortColumns_1_1.value;
                        if (column && column.sortCol) {
                            currentSorters.push({
                                columnId: column.sortCol.id + '',
                                direction: column.sortAsc ? SortDirection.ASC : SortDirection.DESC
                            });
                            var fieldName = (column.sortCol.queryFieldSorter || column.sortCol.queryField || column.sortCol.field || '') + '';
                            if (fieldName) {
                                graphqlSorters.push({
                                    field: fieldName,
                                    direction: column.sortAsc ? SortDirection.ASC : SortDirection.DESC
                                });
                            }
                        }
                    }
                }
                catch (e_3_1) { e_3 = { error: e_3_1 }; }
                finally {
                    try {
                        if (sortColumns_1_1 && !sortColumns_1_1.done && (_a = sortColumns_1.return)) _a.call(sortColumns_1);
                    }
                    finally { if (e_3) throw e_3.error; }
                }
            }
        }
        // keep current Sorters and update the service options with the new sorting
        this._currentSorters = currentSorters;
        this.updateOptions({ sortingOptions: graphqlSorters });
    };
    /**
     * A function which takes an input string and removes double quotes only
     * on certain fields are identified as GraphQL enums (except fields with dot notation)
     * For example let say we identified ("direction:", "sort") as word which are GraphQL enum fields
     * then the result will be:
     * FROM
     * query { users (orderBy:[{field:"firstName", direction:"ASC"} }]) }
     * TO
     * query { users (orderBy:[{field: firstName, direction: ASC}})}
     *
     * EXCEPTIONS (fields with dot notation "." which are inside a "field:")
     * these fields will keep double quotes while everything else will be stripped of double quotes
     * query { users (orderBy:[{field:"billing.street.name", direction: "ASC"} }
     * TO
     * query { users (orderBy:[{field:"billing.street.name", direction: ASC}}
     * @param inputStr input string
     * @param enumSearchWords array of enum words to filter
     * @returns outputStr output string
     */
    GraphqlService.prototype.trimDoubleQuotesOnEnumField = function (inputStr, enumSearchWords, keepArgumentFieldDoubleQuotes) {
        var patternWordInQuotes = "s?((field:s*)?\".*?\")";
        var patternRegex = enumSearchWords.join(patternWordInQuotes + '|');
        patternRegex += patternWordInQuotes; // the last one should also have the pattern but without the pipe "|"
        // example with (field: & direction:):  /field:s?(".*?")|direction:s?(".*?")/
        var reg = new RegExp(patternRegex, 'g');
        return inputStr.replace(reg, function (group1, group2, group3) {
            // remove double quotes except when the string starts with a "field:"
            var removeDoubleQuotes = true;
            if (group1.startsWith('field:') && keepArgumentFieldDoubleQuotes) {
                removeDoubleQuotes = false;
            }
            var rep = removeDoubleQuotes ? group1.replace(/"/g, '') : group1;
            return rep;
        });
    };
    //
    // private functions
    // -------------------
    /**
     * Cast provided filters (could be in multiple formats) into an array of CurrentFilter
     * @param columnFilters
     */
    GraphqlService.prototype.castFilterToColumnFilters = function (columnFilters) {
        // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)
        var filtersArray = (typeof columnFilters === 'object') ? Object.keys(columnFilters).map(function (key) { return columnFilters[key]; }) : columnFilters;
        if (!Array.isArray(filtersArray)) {
            return [];
        }
        return filtersArray.map(function (filter) {
            var tmpFilter = { columnId: filter.columnId || '' };
            if (filter.operator) {
                tmpFilter.operator = filter.operator;
            }
            if (Array.isArray(filter.searchTerms)) {
                tmpFilter.searchTerms = filter.searchTerms;
            }
            return tmpFilter;
        });
    };
GraphqlService.Éµfac = function GraphqlService_Factory(t) { return new (t || GraphqlService)(); };
GraphqlService.Éµprov = Éµngcc0.ÉµÉµdefineInjectable({ token: GraphqlService, factory: function (t) { return GraphqlService.Éµfac(t); } });

    return GraphqlService;
}());
export { GraphqlService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGhxbC5zZXJ2aWNlLmpzIiwic291cmNlcyI6WyJuZzovYW5ndWxhci1zbGlja2dyaWQvYXBwL21vZHVsZXMvYW5ndWxhci1zbGlja2dyaWQvc2VydmljZXMvZ3JhcGhxbC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLHNCQUFzQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3RFLE9BQU8sRUFTTCxTQUFTLEVBVVQsWUFBWSxFQUlaLGFBQWEsRUFHZCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sWUFBWSxNQUFNLHVCQUF1QixDQUFDOztBQUVqRCxJQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUNsQyxJQUFNLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztBQUU3QjtBQUFrRCxJQUFsRDtBQUE0QixRQUNsQixvQkFBZSxHQUFvQyxFQUFFLENBQUM7QUFDaEUsUUFDVSxvQkFBZSxHQUFvQixFQUFFLENBQUM7QUFDaEQsUUFFVSx1QkFBa0IsR0FBRyxJQUFJLENBQUM7QUFDcEMsUUFFRSw2QkFBd0IsR0FBNEQ7QUFDdEYsWUFBSSxLQUFLLEVBQUUsc0JBQXNCO0FBQ2pDLFlBQUksTUFBTSxFQUFFLENBQUM7QUFDYixTQUFHLENBQUM7QUFDSixJQWtqQkEsQ0FBQztBQUNELElBampCRSxzQkFBSSw2Q0FBaUI7QUFBSSxRQUR6Qix3Q0FBd0M7QUFDMUMsYUFBRTtBQUFjLFlBQ1osT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7QUFDbkMsUUFBRSxDQUFDO0FBRUg7QUFBMEI7QUFBMkIsT0FGbEQ7QUFDSCxJQUVFLHNCQUFZLHdDQUFZO0FBQUksUUFENUIsaUVBQWlFO0FBQ25FLGFBQUU7QUFBYyxZQUNaLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLENB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LEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBR0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQVVBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBR0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFFQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBMkJBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQVlBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUE3RUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQThFQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFJQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUEwREEsQUF6REEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQWtCQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUEvakJBLEFBK2pCQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hcE9wZXJhdG9yVHlwZSwgbWFwT3BlcmF0b3JCeUZpZWxkVHlwZSB9IGZyb20gJy4vdXRpbGl0aWVzJztcclxuaW1wb3J0IHtcclxuICBCYWNrZW5kU2VydmljZSxcclxuICBDb2x1bW4sXHJcbiAgQ29sdW1uRmlsdGVyLFxyXG4gIENvbHVtbkZpbHRlcnMsXHJcbiAgQ29sdW1uU29ydCxcclxuICBDdXJyZW50RmlsdGVyLFxyXG4gIEN1cnJlbnRQYWdpbmF0aW9uLFxyXG4gIEN1cnJlbnRTb3J0ZXIsXHJcbiAgRmllbGRUeXBlLFxyXG4gIEZpbHRlckNoYW5nZWRBcmdzLFxyXG4gIEdyYXBocWxDdXJzb3JQYWdpbmF0aW9uT3B0aW9uLFxyXG4gIEdyYXBocWxEYXRhc2V0RmlsdGVyLFxyXG4gIEdyYXBocWxGaWx0ZXJpbmdPcHRpb24sXHJcbiAgR3JhcGhxbFBhZ2luYXRpb25PcHRpb24sXHJcbiAgR3JhcGhxbFNlcnZpY2VPcHRpb24sXHJcbiAgR3JhcGhxbFNvcnRpbmdPcHRpb24sXHJcbiAgR3JpZE9wdGlvbixcclxuICBNdWx0aUNvbHVtblNvcnQsXHJcbiAgT3BlcmF0b3JUeXBlLFxyXG4gIFBhZ2luYXRpb24sXHJcbiAgUGFnaW5hdGlvbkNoYW5nZWRBcmdzLFxyXG4gIFNvcnRDaGFuZ2VkQXJncyxcclxuICBTb3J0RGlyZWN0aW9uLFxyXG4gIFNvcnREaXJlY3Rpb25TdHJpbmcsXHJcbiAgT3BlcmF0b3JTdHJpbmdcclxufSBmcm9tICcuLy4uL21vZGVscy9pbmRleCc7XHJcbmltcG9ydCBRdWVyeUJ1aWxkZXIgZnJvbSAnLi9ncmFwaHFsUXVlcnlCdWlsZGVyJztcclxuXHJcbmNvbnN0IERFRkFVTFRfSVRFTVNfUEVSX1BBR0UgPSAyNTtcclxuY29uc3QgREVGQVVMVF9QQUdFX1NJWkUgPSAyMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBHcmFwaHFsU2VydmljZSBpbXBsZW1lbnRzIEJhY2tlbmRTZXJ2aWNlIHtcclxuICBwcml2YXRlIF9jdXJyZW50RmlsdGVyczogQ29sdW1uRmlsdGVycyB8IEN1cnJlbnRGaWx0ZXJbXSA9IFtdO1xyXG4gIHByaXZhdGUgX2N1cnJlbnRQYWdpbmF0aW9uOiBDdXJyZW50UGFnaW5hdGlvbjtcclxuICBwcml2YXRlIF9jdXJyZW50U29ydGVyczogQ3VycmVudFNvcnRlcltdID0gW107XHJcbiAgcHJpdmF0ZSBfY29sdW1uRGVmaW5pdGlvbnM6IENvbHVtbltdO1xyXG4gIHByaXZhdGUgX2dyaWQ6IGFueTtcclxuICBwcml2YXRlIF9kYXRhc2V0SWRQcm9wTmFtZSA9ICdpZCc7XHJcbiAgb3B0aW9uczogR3JhcGhxbFNlcnZpY2VPcHRpb247XHJcbiAgcGFnaW5hdGlvbjogUGFnaW5hdGlvbiB8IHVuZGVmaW5lZDtcclxuICBkZWZhdWx0UGFnaW5hdGlvbk9wdGlvbnM6IEdyYXBocWxQYWdpbmF0aW9uT3B0aW9uIHwgR3JhcGhxbEN1cnNvclBhZ2luYXRpb25PcHRpb24gPSB7XHJcbiAgICBmaXJzdDogREVGQVVMVF9JVEVNU19QRVJfUEFHRSxcclxuICAgIG9mZnNldDogMFxyXG4gIH07XHJcblxyXG4gIC8qKiBHZXR0ZXIgZm9yIHRoZSBDb2x1bW4gRGVmaW5pdGlvbnMgKi9cclxuICBnZXQgY29sdW1uRGVmaW5pdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sdW1uRGVmaW5pdGlvbnM7XHJcbiAgfVxyXG5cclxuICAvKiogR2V0dGVyIGZvciB0aGUgR3JpZCBPcHRpb25zIHB1bGxlZCB0aHJvdWdoIHRoZSBHcmlkIE9iamVjdCAqL1xyXG4gIHByaXZhdGUgZ2V0IF9ncmlkT3B0aW9ucygpOiBHcmlkT3B0aW9uIHtcclxuICAgIHJldHVybiAodGhpcy5fZ3JpZCAmJiB0aGlzLl9ncmlkLmdldE9wdGlvbnMpID8gdGhpcy5fZ3JpZC5nZXRPcHRpb25zKCkgOiB7fTtcclxuICB9XHJcblxyXG4gIC8qKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgc2VydmljZSwgd2hpY2ggYWN0cyBhcyBhIGNvbnN0cnVjdG9yICovXHJcbiAgaW5pdChzZXJ2aWNlT3B0aW9ucz86IEdyYXBocWxTZXJ2aWNlT3B0aW9uLCBwYWdpbmF0aW9uPzogUGFnaW5hdGlvbiwgZ3JpZD86IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5fZ3JpZCA9IGdyaWQ7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBzZXJ2aWNlT3B0aW9ucyB8fCB7IGRhdGFzZXROYW1lOiAnJywgY29sdW1uRGVmaW5pdGlvbnM6IFtdIH07XHJcbiAgICB0aGlzLnBhZ2luYXRpb24gPSBwYWdpbmF0aW9uO1xyXG4gICAgdGhpcy5fZGF0YXNldElkUHJvcE5hbWUgPSB0aGlzLl9ncmlkT3B0aW9ucy5kYXRhc2V0SWRQcm9wZXJ0eU5hbWUgfHwgJ2lkJztcclxuXHJcbiAgICBpZiAoZ3JpZCAmJiBncmlkLmdldENvbHVtbnMpIHtcclxuICAgICAgdGhpcy5fY29sdW1uRGVmaW5pdGlvbnMgPSAoc2VydmljZU9wdGlvbnMgJiYgc2VydmljZU9wdGlvbnMuY29sdW1uRGVmaW5pdGlvbnMpIHx8IGdyaWQuZ2V0Q29sdW1ucygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQnVpbGQgdGhlIEdyYXBoUUwgcXVlcnksIHNpbmNlIHRoZSBzZXJ2aWNlIGluY2x1ZGUvZXhjbHVkZSBjdXJzb3IsIHRoZSBvdXRwdXQgcXVlcnkgd2lsbCBiZSBkaWZmZXJlbnQuXHJcbiAgICogQHBhcmFtIHNlcnZpY2VPcHRpb25zIEdyYXBocWxTZXJ2aWNlT3B0aW9uXHJcbiAgICovXHJcbiAgYnVpbGRRdWVyeSgpIHtcclxuICAgIGlmICghdGhpcy5vcHRpb25zIHx8ICF0aGlzLm9wdGlvbnMuZGF0YXNldE5hbWUgfHwgKCF0aGlzLl9jb2x1bW5EZWZpbml0aW9ucyAmJiAhQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY29sdW1uRGVmaW5pdGlvbnMpKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dyYXBoUUwgU2VydmljZSByZXF1aXJlcyB0aGUgXCJkYXRhc2V0TmFtZVwiIHByb3BlcnR5IHRvIHByb3Blcmx5IGJ1aWxkIHRoZSBHcmFwaFFMIHF1ZXJ5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IHRoZSBjb2x1bW4gZGVmaW5pdGlvbnMgYW5kIGV4Y2x1ZGUgc29tZSBpZiB0aGV5IHdlcmUgdGFnZ2VkIGFzIGV4Y2x1ZGVkXHJcbiAgICBsZXQgY29sdW1uRGVmaW5pdGlvbnMgPSB0aGlzLl9jb2x1bW5EZWZpbml0aW9ucyB8fCB0aGlzLm9wdGlvbnMuY29sdW1uRGVmaW5pdGlvbnM7XHJcbiAgICBjb2x1bW5EZWZpbml0aW9ucyA9IGNvbHVtbkRlZmluaXRpb25zLmZpbHRlcigoY29sdW1uOiBDb2x1bW4pID0+ICFjb2x1bW4uZXhjbHVkZUZyb21RdWVyeSk7XHJcblxyXG4gICAgY29uc3QgcXVlcnlRYiA9IG5ldyBRdWVyeUJ1aWxkZXIoJ3F1ZXJ5Jyk7XHJcbiAgICBjb25zdCBkYXRhc2V0UWIgPSBuZXcgUXVlcnlCdWlsZGVyKHRoaXMub3B0aW9ucy5kYXRhc2V0TmFtZSk7XHJcbiAgICBjb25zdCBub2Rlc1FiID0gbmV3IFF1ZXJ5QnVpbGRlcignbm9kZXMnKTtcclxuXHJcbiAgICAvLyBnZXQgYWxsIHRoZSBjb2x1bW5kcyBJZHMgZm9yIHRoZSBmaWx0ZXJzIHRvIHdvcmtcclxuICAgIGNvbnN0IGNvbHVtbklkczogc3RyaW5nW10gPSBbXTtcclxuICAgIGlmIChjb2x1bW5EZWZpbml0aW9ucyAmJiBBcnJheS5pc0FycmF5KGNvbHVtbkRlZmluaXRpb25zKSkge1xyXG4gICAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBjb2x1bW5EZWZpbml0aW9ucykge1xyXG4gICAgICAgIGNvbHVtbklkcy5wdXNoKGNvbHVtbi5maWVsZCk7XHJcblxyXG4gICAgICAgIC8vIGlmIGV4dHJhIFwiZmllbGRzXCIgYXJlIHBhc3NlZCwgYWxzbyBwdXNoIHRoZW0gdG8gY29sdW1uSWRzXHJcbiAgICAgICAgaWYgKGNvbHVtbi5maWVsZHMpIHtcclxuICAgICAgICAgIGNvbHVtbklkcy5wdXNoKC4uLmNvbHVtbi5maWVsZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNsaWNrZ3JpZCBhbHNvIHJlcXVpcmVzIHRoZSBcImlkXCIgKG9yIHRoZSBkYXRhc2V0IGRlZmluZWQgdW5pcXVlIGlkZSkgZmllbGQgdG8gYmUgcGFydCBvZiBEYXRhVmlld1xyXG4gICAgLy8gYWRkIGl0IHRvIHRoZSBHcmFwaFFMIHF1ZXJ5IGlmIGl0IHdhc24ndCBhbHJlYWR5IHBhcnQgb2YgdGhlIGxpc3RcclxuICAgIGlmIChjb2x1bW5JZHMuaW5kZXhPZih0aGlzLl9kYXRhc2V0SWRQcm9wTmFtZSkgPT09IC0xKSB7XHJcbiAgICAgIGNvbHVtbklkcy51bnNoaWZ0KHRoaXMuX2RhdGFzZXRJZFByb3BOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb2x1bW5zUXVlcnkgPSB0aGlzLmJ1aWxkRmlsdGVyUXVlcnkoY29sdW1uSWRzKTtcclxuICAgIGxldCBncmFwaHFsTm9kZUZpZWxkcyA9IFtdO1xyXG5cclxuICAgIGlmICh0aGlzLl9ncmlkT3B0aW9ucy5lbmFibGVQYWdpbmF0aW9uICE9PSBmYWxzZSkge1xyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmlzV2l0aEN1cnNvcikge1xyXG4gICAgICAgIC8vIC4uLnBhZ2VJbmZvIHsgaGFzTmV4dFBhZ2UsIGVuZEN1cnNvciB9LCBlZGdlcyB7IGN1cnNvciwgbm9kZSB7IF9jb2x1bW5zXyB9IH0sIHRvdGFsQ291bnQ6IDEwMFxyXG4gICAgICAgIGNvbnN0IGVkZ2VzUWIgPSBuZXcgUXVlcnlCdWlsZGVyKCdlZGdlcycpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2VJbmZvUWIgPSBuZXcgUXVlcnlCdWlsZGVyKCdwYWdlSW5mbycpO1xyXG4gICAgICAgIHBhZ2VJbmZvUWIuZmluZCgnaGFzTmV4dFBhZ2UnLCAnaGFzUHJldmlvdXNQYWdlJywgJ2VuZEN1cnNvcicsICdzdGFydEN1cnNvcicpO1xyXG4gICAgICAgIG5vZGVzUWIuZmluZChjb2x1bW5zUXVlcnkpO1xyXG4gICAgICAgIGVkZ2VzUWIuZmluZChbJ2N1cnNvciddKTtcclxuICAgICAgICBncmFwaHFsTm9kZUZpZWxkcyA9IFsndG90YWxDb3VudCcsIG5vZGVzUWIsIHBhZ2VJbmZvUWIsIGVkZ2VzUWJdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIC4uLm5vZGVzIHsgX2NvbHVtbnNfIH0sIHRvdGFsQ291bnQ6IDEwMFxyXG4gICAgICAgIG5vZGVzUWIuZmluZChjb2x1bW5zUXVlcnkpO1xyXG4gICAgICAgIGdyYXBocWxOb2RlRmllbGRzID0gWyd0b3RhbENvdW50Jywgbm9kZXNRYl07XHJcbiAgICAgIH1cclxuICAgICAgLy8gYWxsIHByb3BlcnRpZXMgdG8gYmUgcmV0dXJuZWQgYnkgdGhlIHF1ZXJ5XHJcbiAgICAgIGRhdGFzZXRRYi5maW5kKGdyYXBocWxOb2RlRmllbGRzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGluY2x1ZGUgYWxsIGNvbHVtbnMgdG8gYmUgcmV0dXJuZWRcclxuICAgICAgZGF0YXNldFFiLmZpbmQoY29sdW1uc1F1ZXJ5KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBhZGQgZGF0YXNldCBmaWx0ZXJzLCBjb3VsZCBiZSBQYWdpbmF0aW9uIGFuZCBTb3J0aW5nRmlsdGVycyBhbmQvb3IgRmllbGRGaWx0ZXJzXHJcbiAgICBsZXQgZGF0YXNldEZpbHRlcnM6IEdyYXBocWxEYXRhc2V0RmlsdGVyID0ge307XHJcblxyXG4gICAgLy8gb25seSBhZGQgcGFnaW5hdGlvbiBpZiBpdCdzIGVuYWJsZWQgaW4gdGhlIGdyaWQgb3B0aW9uc1xyXG4gICAgaWYgKHRoaXMuX2dyaWRPcHRpb25zLmVuYWJsZVBhZ2luYXRpb24gIT09IGZhbHNlKSB7XHJcbiAgICAgIGRhdGFzZXRGaWx0ZXJzID0ge1xyXG4gICAgICAgIC4uLnRoaXMub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9ucyxcclxuICAgICAgICBmaXJzdDogKCh0aGlzLm9wdGlvbnMucGFnaW5hdGlvbk9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zLmZpcnN0KSA/IHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9ucy5maXJzdCA6ICgodGhpcy5wYWdpbmF0aW9uICYmIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSkgPyB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUgOiBudWxsKSkgfHwgdGhpcy5kZWZhdWx0UGFnaW5hdGlvbk9wdGlvbnMuZmlyc3RcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmlzV2l0aEN1cnNvcikge1xyXG4gICAgICAgIGRhdGFzZXRGaWx0ZXJzLm9mZnNldCA9ICgodGhpcy5vcHRpb25zLnBhZ2luYXRpb25PcHRpb25zICYmIHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnb2Zmc2V0JykpID8gK3RoaXMub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9uc1snb2Zmc2V0J10gOiAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc29ydGluZ09wdGlvbnMgJiYgQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuc29ydGluZ09wdGlvbnMpICYmIHRoaXMub3B0aW9ucy5zb3J0aW5nT3B0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIC8vIG9yZGVyQnk6IFt7IGZpZWxkOngsIGRpcmVjdGlvbjogJ0FTQycgfV1cclxuICAgICAgZGF0YXNldEZpbHRlcnMub3JkZXJCeSA9IHRoaXMub3B0aW9ucy5zb3J0aW5nT3B0aW9ucztcclxuICAgIH1cclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZmlsdGVyaW5nT3B0aW9ucyAmJiBBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5maWx0ZXJpbmdPcHRpb25zKSAmJiB0aGlzLm9wdGlvbnMuZmlsdGVyaW5nT3B0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIC8vIGZpbHRlckJ5OiBbeyBmaWVsZDogZGF0ZSwgb3BlcmF0b3I6ICc+JywgdmFsdWU6ICcyMDAwLTEwLTEwJyB9XVxyXG4gICAgICBkYXRhc2V0RmlsdGVycy5maWx0ZXJCeSA9IHRoaXMub3B0aW9ucy5maWx0ZXJpbmdPcHRpb25zO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hZGRMb2NhbGVJbnRvUXVlcnkpIHtcclxuICAgICAgLy8gZmlyc3Q6IDIwLCAuLi4gbG9jYWxlOiBcImVuLUNBXCJcclxuICAgICAgZGF0YXNldEZpbHRlcnMubG9jYWxlID0gdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMuaTE4biAmJiB0aGlzLl9ncmlkT3B0aW9ucy5pMThuLmN1cnJlbnRMYW5nIHx8IHRoaXMuX2dyaWRPcHRpb25zLmxvY2FsZSB8fCAnZW4nO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5leHRyYVF1ZXJ5QXJndW1lbnRzKSB7XHJcbiAgICAgIC8vIGZpcnN0OiAyMCwgLi4uIHVzZXJJZDogMTIzXHJcbiAgICAgIGZvciAoY29uc3QgcXVlcnlBcmd1bWVudCBvZiB0aGlzLm9wdGlvbnMuZXh0cmFRdWVyeUFyZ3VtZW50cykge1xyXG4gICAgICAgIGRhdGFzZXRGaWx0ZXJzW3F1ZXJ5QXJndW1lbnQuZmllbGRdID0gcXVlcnlBcmd1bWVudC52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHdpdGggcGFnaW5hdGlvbjo6IHF1ZXJ5IHsgdXNlcnMoZmlyc3Q6IDIwLCBvZmZzZXQ6IDAsIG9yZGVyQnk6IFtdLCBmaWx0ZXJCeTogW10pIHsgdG90YWxDb3VudDogMTAwLCBub2RlczogeyBfY29sdW1uc18gfX19XHJcbiAgICAvLyB3aXRob3V0IHBhZ2luYXRpb246OiBxdWVyeSB7IHVzZXJzKG9yZGVyQnk6IFtdLCBmaWx0ZXJCeTogW10pIHsgX2NvbHVtbnNfIH19XHJcbiAgICBkYXRhc2V0UWIuZmlsdGVyKGRhdGFzZXRGaWx0ZXJzKTtcclxuICAgIHF1ZXJ5UWIuZmluZChkYXRhc2V0UWIpO1xyXG5cclxuICAgIGNvbnN0IGVudW1TZWFyY2hQcm9wZXJ0aWVzID0gWydkaXJlY3Rpb246JywgJ2ZpZWxkOicsICdvcGVyYXRvcjonXTtcclxuICAgIHJldHVybiB0aGlzLnRyaW1Eb3VibGVRdW90ZXNPbkVudW1GaWVsZChxdWVyeVFiLnRvU3RyaW5nKCksIGVudW1TZWFyY2hQcm9wZXJ0aWVzLCB0aGlzLm9wdGlvbnMua2VlcEFyZ3VtZW50RmllbGREb3VibGVRdW90ZXMgfHwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRnJvbSBhbiBpbnB1dCBhcnJheSBvZiBzdHJpbmdzLCB3ZSB3YW50IHRvIGJ1aWxkIGEgR3JhcGhRTCBxdWVyeSBzdHJpbmcuXHJcbiAgICogVGhlIHByb2Nlc3MgaGFzIHRvIHRha2UgdGhlIGRvdCBub3RhdGlvbiBhbmQgcGFyc2UgaXQgaW50byBhIHZhbGlkIEdyYXBoUUwgcXVlcnlcclxuICAgKiBGb2xsb3dpbmcgdGhpcyBTTyBhbnN3ZXIgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3NzA1NDc2LzEyMTIxNjZcclxuICAgKlxyXG4gICAqIElOUFVUXHJcbiAgICogIFsnZmlyc3ROYW1lJywgJ2xhc3ROYW1lJywgJ2JpbGxpbmcuYWRkcmVzcy5zdHJlZXQnLCAnYmlsbGluZy5hZGRyZXNzLnppcCddXHJcbiAgICogT1VUUFVUXHJcbiAgICogZmlyc3ROYW1lLCBsYXN0TmFtZSwgYmlsbGluZ3thZGRyZXNze3N0cmVldCwgemlwfX1cclxuICAgKiBAcGFyYW0gaW5wdXRBcnJheVxyXG4gICAqL1xyXG4gIGJ1aWxkRmlsdGVyUXVlcnkoaW5wdXRBcnJheTogc3RyaW5nW10pIHtcclxuXHJcbiAgICBjb25zdCBzZXQgPSAobzogYW55ID0ge30sIGE6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCBrID0gYS5zaGlmdCgpO1xyXG4gICAgICBvW2tdID0gYS5sZW5ndGggPyBzZXQob1trXSwgYSkgOiBudWxsO1xyXG4gICAgICByZXR1cm4gbztcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb3V0cHV0ID0gaW5wdXRBcnJheS5yZWR1Y2UoKG86IGFueSwgYTogc3RyaW5nKSA9PiBzZXQobywgYS5zcGxpdCgnLicpKSwge30pO1xyXG5cclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvdXRwdXQpXHJcbiAgICAgIC5yZXBsYWNlKC9cXFwifFxcOnxudWxsL2csICcnKVxyXG4gICAgICAucmVwbGFjZSgvXlxcey8sICcnKVxyXG4gICAgICAucmVwbGFjZSgvXFx9JC8sICcnKTtcclxuICB9XHJcblxyXG4gIGNsZWFyRmlsdGVycygpIHtcclxuICAgIHRoaXMuX2N1cnJlbnRGaWx0ZXJzID0gW107XHJcbiAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoeyBmaWx0ZXJpbmdPcHRpb25zOiBbXSB9KTtcclxuICB9XHJcblxyXG4gIGNsZWFyU29ydGVycygpIHtcclxuICAgIHRoaXMuX2N1cnJlbnRTb3J0ZXJzID0gW107XHJcbiAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoeyBzb3J0aW5nT3B0aW9uczogW10gfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYW4gaW5pdGlhbGl6YXRpb24gb2YgUGFnaW5hdGlvbiBvcHRpb25zXHJcbiAgICogQHJldHVybiBQYWdpbmF0aW9uIE9wdGlvbnNcclxuICAgKi9cclxuICBnZXRJbml0UGFnaW5hdGlvbk9wdGlvbnMoKTogR3JhcGhxbERhdGFzZXRGaWx0ZXIge1xyXG4gICAgY29uc3QgcGFnaW5hdGlvbkZpcnN0ID0gdGhpcy5wYWdpbmF0aW9uID8gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplIDogREVGQVVMVF9JVEVNU19QRVJfUEFHRTtcclxuICAgIHJldHVybiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5pc1dpdGhDdXJzb3IpID8geyBmaXJzdDogcGFnaW5hdGlvbkZpcnN0IH0gOiB7IGZpcnN0OiBwYWdpbmF0aW9uRmlyc3QsIG9mZnNldDogMCB9O1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldCB0aGUgR3JhcGhRTCBkYXRhc2V0IG5hbWUgKi9cclxuICBnZXREYXRhc2V0TmFtZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kYXRhc2V0TmFtZSB8fCAnJztcclxuICB9XHJcblxyXG4gIC8qKiBHZXQgdGhlIEZpbHRlcnMgdGhhdCBhcmUgY3VycmVudGx5IHVzZWQgYnkgdGhlIGdyaWQgKi9cclxuICBnZXRDdXJyZW50RmlsdGVycygpOiBDb2x1bW5GaWx0ZXJzIHwgQ3VycmVudEZpbHRlcltdIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50RmlsdGVycztcclxuICB9XHJcblxyXG4gIC8qKiBHZXQgdGhlIFBhZ2luYXRpb24gdGhhdCBpcyBjdXJyZW50bHkgdXNlZCBieSB0aGUgZ3JpZCAqL1xyXG4gIGdldEN1cnJlbnRQYWdpbmF0aW9uKCk6IEN1cnJlbnRQYWdpbmF0aW9uIHtcclxuICAgIHJldHVybiB0aGlzLl9jdXJyZW50UGFnaW5hdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKiBHZXQgdGhlIFNvcnRlcnMgdGhhdCBhcmUgY3VycmVudGx5IHVzZWQgYnkgdGhlIGdyaWQgKi9cclxuICBnZXRDdXJyZW50U29ydGVycygpOiBDdXJyZW50U29ydGVyW10ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTb3J0ZXJzO1xyXG4gIH1cclxuXHJcbiAgLypcclxuICAgKiBSZXNldCB0aGUgcGFnaW5hdGlvbiBvcHRpb25zXHJcbiAgICovXHJcbiAgcmVzZXRQYWdpbmF0aW9uT3B0aW9ucygpIHtcclxuICAgIGxldCBwYWdpbmF0aW9uT3B0aW9uczogR3JhcGhxbFBhZ2luYXRpb25PcHRpb24gfCBHcmFwaHFsQ3Vyc29yUGFnaW5hdGlvbk9wdGlvbjtcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5pc1dpdGhDdXJzb3IpIHtcclxuICAgICAgLy8gZmlyc3QsIGxhc3QsIGFmdGVyLCBiZWZvcmVcclxuICAgICAgcGFnaW5hdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgYWZ0ZXI6ICcnLFxyXG4gICAgICAgIGJlZm9yZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIGxhc3Q6IHVuZGVmaW5lZFxyXG4gICAgICB9IGFzIEdyYXBocWxDdXJzb3JQYWdpbmF0aW9uT3B0aW9uO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZmlyc3QsIGxhc3QsIG9mZnNldFxyXG4gICAgICBwYWdpbmF0aW9uT3B0aW9ucyA9ICgodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5wYWdpbmF0aW9uT3B0aW9ucykgfHwgdGhpcy5nZXRJbml0UGFnaW5hdGlvbk9wdGlvbnMoKSkgYXMgR3JhcGhxbFBhZ2luYXRpb25PcHRpb247XHJcbiAgICAgIChwYWdpbmF0aW9uT3B0aW9ucyBhcyBHcmFwaHFsUGFnaW5hdGlvbk9wdGlvbikub2Zmc2V0ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzYXZlIGN1cnJlbnQgcGFnaW5hdGlvbiBhcyBQYWdlIDEgYW5kIHBhZ2Ugc2l6ZSBhcyBcImZpcnN0XCIgc2V0IHNpemVcclxuICAgIHRoaXMuX2N1cnJlbnRQYWdpbmF0aW9uID0ge1xyXG4gICAgICBwYWdlTnVtYmVyOiAxLFxyXG4gICAgICBwYWdlU2l6ZTogcGFnaW5hdGlvbk9wdGlvbnMuZmlyc3QgfHwgREVGQVVMVF9QQUdFX1NJWkUsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudXBkYXRlT3B0aW9ucyh7IHBhZ2luYXRpb25PcHRpb25zIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlT3B0aW9ucyhzZXJ2aWNlT3B0aW9ucz86IFBhcnRpYWw8R3JhcGhxbFNlcnZpY2VPcHRpb24+KSB7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucywgLi4uc2VydmljZU9wdGlvbnMgfTtcclxuICB9XHJcblxyXG4gIC8qXHJcbiAgICogRklMVEVSSU5HXHJcbiAgICovXHJcbiAgcHJvY2Vzc09uRmlsdGVyQ2hhbmdlZChldmVudDogRXZlbnQsIGFyZ3M6IEZpbHRlckNoYW5nZWRBcmdzKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGdyaWRPcHRpb25zOiBHcmlkT3B0aW9uID0gdGhpcy5fZ3JpZE9wdGlvbnM7XHJcbiAgICBjb25zdCBiYWNrZW5kQXBpID0gZ3JpZE9wdGlvbnMuYmFja2VuZFNlcnZpY2VBcGk7XHJcblxyXG4gICAgaWYgKGJhY2tlbmRBcGkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvbWV0aGluZyB3ZW50IHdyb25nIGluIHRoZSBHcmFwaHFsU2VydmljZSwgXCJiYWNrZW5kU2VydmljZUFwaVwiIGlzIG5vdCBpbml0aWFsaXplZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGtlZXAgY3VycmVudCBmaWx0ZXJzICYgYWx3YXlzIHNhdmUgaXQgYXMgYW4gYXJyYXkgKGNvbHVtbkZpbHRlcnMgY2FuIGJlIGFuIG9iamVjdCB3aGVuIGl0IGlzIGRlYWx0IGJ5IFNsaWNrR3JpZCBGaWx0ZXIpXHJcbiAgICB0aGlzLl9jdXJyZW50RmlsdGVycyA9IHRoaXMuY2FzdEZpbHRlclRvQ29sdW1uRmlsdGVycyhhcmdzLmNvbHVtbkZpbHRlcnMpO1xyXG5cclxuICAgIGlmICghYXJncyB8fCAhYXJncy5ncmlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiB0cnlpbmcgY3JlYXRlIHRoZSBHcmFwaFFMIEJhY2tlbmQgU2VydmljZSwgaXQgc2VlbXMgdGhhdCBcImFyZ3NcIiBpcyBub3QgcG9wdWxhdGVkIGNvcnJlY3RseScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgY29sdW1ucyB0byBpbnNwZWN0IGZpbHRlcnMgJiBzZXQgdGhlIHF1ZXJ5XHJcbiAgICB0aGlzLnVwZGF0ZUZpbHRlcnMoYXJncy5jb2x1bW5GaWx0ZXJzLCBmYWxzZSk7XHJcblxyXG4gICAgdGhpcy5yZXNldFBhZ2luYXRpb25PcHRpb25zKCk7XHJcbiAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqIFBBR0lOQVRJT05cclxuICAgKiBXaXRoIGN1cnNvciwgdGhlIHF1ZXJ5IGNhbiBoYXZlIDQgYXJndW1lbnRzIChmaXJzdCwgYWZ0ZXIsIGxhc3QsIGJlZm9yZSksIGZvciBleGFtcGxlOlxyXG4gICAqICAgdXNlcnMgKGZpcnN0OjIwLCBhZnRlcjpcIllYSnlZWGxqYjI1dVpXTjBhVzl1T2pNPVwiKSB7XHJcbiAgICogICAgIHRvdGFsQ291bnRcclxuICAgKiAgICAgcGFnZUluZm8ge1xyXG4gICAqICAgICAgIGhhc05leHRQYWdlXHJcbiAgICogICAgICAgaGFzUHJldmlvdXNQYWdlXHJcbiAgICogICAgICAgZW5kQ3Vyc29yXHJcbiAgICogICAgICAgc3RhcnRDdXJzb3JcclxuICAgKiAgICAgfVxyXG4gICAqICAgICBlZGdlcyB7XHJcbiAgICogICAgICAgY3Vyc29yXHJcbiAgICogICAgICAgbm9kZSB7XHJcbiAgICogICAgICAgICBuYW1lXHJcbiAgICogICAgICAgICBnZW5kZXJcclxuICAgKiAgICAgICB9XHJcbiAgICogICAgIH1cclxuICAgKiAgIH1cclxuICAgKiBXaXRob3V0IGN1cnNvciwgdGhlIHF1ZXJ5IGNhbiBoYXZlIDMgYXJndW1lbnRzIChmaXJzdCwgbGFzdCwgb2Zmc2V0KSwgZm9yIGV4YW1wbGU6XHJcbiAgICogICB1c2VycyAoZmlyc3Q6MjAsIG9mZnNldDogMTApIHtcclxuICAgKiAgICAgdG90YWxDb3VudFxyXG4gICAqICAgICBub2RlcyB7XHJcbiAgICogICAgICAgbmFtZVxyXG4gICAqICAgICAgIGdlbmRlclxyXG4gICAqICAgICB9XHJcbiAgICogICB9XHJcbiAgICovXHJcbiAgcHJvY2Vzc09uUGFnaW5hdGlvbkNoYW5nZWQoZXZlbnQ6IEV2ZW50LCBhcmdzOiBQYWdpbmF0aW9uQ2hhbmdlZEFyZ3MpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgcGFnZVNpemUgPSArKGFyZ3MucGFnZVNpemUgfHwgKCh0aGlzLnBhZ2luYXRpb24pID8gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplIDogREVGQVVMVF9QQUdFX1NJWkUpKTtcclxuICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbihhcmdzLm5ld1BhZ2UsIHBhZ2VTaXplKTtcclxuXHJcbiAgICAvLyBidWlsZCB0aGUgR3JhcGhRTCBxdWVyeSB3aGljaCB3ZSB3aWxsIHVzZSBpbiB0aGUgV2ViQVBJIGNhbGxiYWNrXHJcbiAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqIFNPUlRJTkdcclxuICAgKiB3ZSB3aWxsIHVzZSBzb3J0aW5nIGFzIHBlciBhIEZhY2Vib29rIHN1Z2dlc3Rpb24gb24gYSBHaXRodWIgaXNzdWUgKHdpdGggc29tZSBzbWFsbCBjaGFuZ2VzKVxyXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsL2dyYXBocWwtcmVsYXktanMvaXNzdWVzLzIwI2lzc3VlY29tbWVudC0yMjA0OTQyMjJcclxuICAgKlxyXG4gICAqICB1c2VycyAoZmlyc3Q6IDIwLCBvZmZzZXQ6IDEwLCBvcmRlckJ5OiBbe2ZpZWxkOiBsYXN0TmFtZSwgZGlyZWN0aW9uOiBBU0N9LCB7ZmllbGQ6IGZpcnN0TmFtZSwgZGlyZWN0aW9uOiBERVNDfV0pIHtcclxuICAgKiAgICB0b3RhbENvdW50XHJcbiAgICogICAgbm9kZXMge1xyXG4gICAqICAgICAgbmFtZVxyXG4gICAqICAgICAgZ2VuZGVyXHJcbiAgICogICAgfVxyXG4gICAqICB9XHJcbiAgICovXHJcbiAgLy8gQGRlcHJlY2F0ZWQgbm90ZSwgd2Ugc2hvdWxkIHJlbW92ZSBcIlNvcnRDaGFuZ2VkQXJnc1wiIGFuZCBvbmx5IHVzZTogQ29sdW1uU29ydCB8IE11bHRpQ29sdW1uU29ydFxyXG4gIHByb2Nlc3NPblNvcnRDaGFuZ2VkKGV2ZW50OiBFdmVudCwgYXJnczogU29ydENoYW5nZWRBcmdzIHwgQ29sdW1uU29ydCB8IE11bHRpQ29sdW1uU29ydCk6IHN0cmluZyB7XHJcbiAgICBjb25zdCBzb3J0Q29sdW1ucyA9IChhcmdzLm11bHRpQ29sdW1uU29ydCkgPyAoYXJncyBhcyBNdWx0aUNvbHVtblNvcnQpLnNvcnRDb2xzIDogbmV3IEFycmF5KHsgc29ydENvbDogKGFyZ3MgYXMgQ29sdW1uU29ydCkuc29ydENvbCwgc29ydEFzYzogKGFyZ3MgYXMgQ29sdW1uU29ydCkuc29ydEFzYyB9KTtcclxuXHJcbiAgICAvLyBsb29wIHRocm91Z2ggYWxsIGNvbHVtbnMgdG8gaW5zcGVjdCBzb3J0ZXJzICYgc2V0IHRoZSBxdWVyeVxyXG4gICAgdGhpcy51cGRhdGVTb3J0ZXJzKHNvcnRDb2x1bW5zKTtcclxuXHJcbiAgICAvLyBidWlsZCB0aGUgR3JhcGhRTCBxdWVyeSB3aGljaCB3ZSB3aWxsIHVzZSBpbiB0aGUgV2ViQVBJIGNhbGxiYWNrXHJcbiAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBsb29wIHRocm91Z2ggYWxsIGNvbHVtbnMgdG8gaW5zcGVjdCBmaWx0ZXJzICYgdXBkYXRlIGJhY2tlbmQgc2VydmljZSBmaWx0ZXJpbmdPcHRpb25zXHJcbiAgICogQHBhcmFtIGNvbHVtbkZpbHRlcnNcclxuICAgKi9cclxuICB1cGRhdGVGaWx0ZXJzKGNvbHVtbkZpbHRlcnM6IENvbHVtbkZpbHRlcnMgfCBDdXJyZW50RmlsdGVyW10sIGlzVXBkYXRlZEJ5UHJlc2V0T3JEeW5hbWljYWxseTogYm9vbGVhbikge1xyXG4gICAgY29uc3Qgc2VhcmNoQnlBcnJheTogR3JhcGhxbEZpbHRlcmluZ09wdGlvbltdID0gW107XHJcbiAgICBsZXQgc2VhcmNoVmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdO1xyXG5cclxuICAgIC8vIG9uIGZpbHRlciBwcmVzZXQgbG9hZCwgd2UgbmVlZCB0byBrZWVwIGN1cnJlbnQgZmlsdGVyc1xyXG4gICAgaWYgKGlzVXBkYXRlZEJ5UHJlc2V0T3JEeW5hbWljYWxseSkge1xyXG4gICAgICB0aGlzLl9jdXJyZW50RmlsdGVycyA9IHRoaXMuY2FzdEZpbHRlclRvQ29sdW1uRmlsdGVycyhjb2x1bW5GaWx0ZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IGNvbHVtbklkIGluIGNvbHVtbkZpbHRlcnMpIHtcclxuICAgICAgaWYgKGNvbHVtbkZpbHRlcnMuaGFzT3duUHJvcGVydHkoY29sdW1uSWQpKSB7XHJcbiAgICAgICAgY29uc3QgY29sdW1uRmlsdGVyID0gY29sdW1uRmlsdGVyc1tjb2x1bW5JZF07XHJcblxyXG4gICAgICAgIC8vIGlmIHVzZXIgZGVmaW5lZCBzb21lIFwicHJlc2V0c1wiLCB0aGVuIHdlIG5lZWQgdG8gZmluZCB0aGUgZmlsdGVycyBmcm9tIHRoZSBjb2x1bW4gZGVmaW5pdGlvbnMgaW5zdGVhZFxyXG4gICAgICAgIGxldCBjb2x1bW5EZWY6IENvbHVtbiB8IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoaXNVcGRhdGVkQnlQcmVzZXRPckR5bmFtaWNhbGx5ICYmIEFycmF5LmlzQXJyYXkodGhpcy5fY29sdW1uRGVmaW5pdGlvbnMpKSB7XHJcbiAgICAgICAgICBjb2x1bW5EZWYgPSB0aGlzLl9jb2x1bW5EZWZpbml0aW9ucy5maW5kKChjb2x1bW46IENvbHVtbikgPT4gY29sdW1uLmlkID09PSBjb2x1bW5GaWx0ZXIuY29sdW1uSWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb2x1bW5EZWYgPSBjb2x1bW5GaWx0ZXIuY29sdW1uRGVmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWNvbHVtbkRlZikge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbR3JhcGhRTCBTZXJ2aWNlXTogU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gdHJ5aW5nIHRvIGdldCB0aGUgY29sdW1uIGRlZmluaXRpb24gb2YgdGhlIHNwZWNpZmllZCBmaWx0ZXIgKG9yIHByZXNldCBmaWx0ZXJzKS4gRGlkIHlvdSBtYWtlIGEgdHlwbyBvbiB0aGUgZmlsdGVyIGNvbHVtbklkPycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gKGNvbHVtbkRlZi5maWx0ZXIgJiYgY29sdW1uRGVmLmZpbHRlci5xdWVyeUZpZWxkKSB8fCBjb2x1bW5EZWYucXVlcnlGaWVsZEZpbHRlciB8fCBjb2x1bW5EZWYucXVlcnlGaWVsZCB8fCBjb2x1bW5EZWYuZmllbGQgfHwgY29sdW1uRGVmLm5hbWUgfHwgJyc7XHJcbiAgICAgICAgbGV0IHNlYXJjaFRlcm1zID0gY29sdW1uRmlsdGVyICYmIGNvbHVtbkZpbHRlci5zZWFyY2hUZXJtcyB8fCBbXTtcclxuICAgICAgICBsZXQgZmllbGRTZWFyY2hWYWx1ZSA9IChBcnJheS5pc0FycmF5KHNlYXJjaFRlcm1zKSAmJiBzZWFyY2hUZXJtcy5sZW5ndGggPT09IDEpID8gc2VhcmNoVGVybXNbMF0gOiAnJztcclxuICAgICAgICBpZiAodHlwZW9mIGZpZWxkU2VhcmNoVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBmaWVsZFNlYXJjaFZhbHVlID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWZpZWxkTmFtZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHcmFwaFFMIGZpbHRlciBjb3VsZCBub3QgZmluZCB0aGUgZmllbGQgbmFtZSB0byBxdWVyeSB0aGUgc2VhcmNoLCB5b3VyIGNvbHVtbiBkZWZpbml0aW9uIG11c3QgaW5jbHVkZSBhIHZhbGlkIFwiZmllbGRcIiBvciBcIm5hbWVcIiAob3B0aW9uYWxseSB5b3UgY2FuIGFsc28gdXNlIHRoZSBcInF1ZXJ5ZmllbGRcIikuYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmaWVsZFNlYXJjaFZhbHVlID0gJycgKyBmaWVsZFNlYXJjaFZhbHVlOyAvLyBtYWtlIHN1cmUgaXQncyBhIHN0cmluZ1xyXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBmaWVsZFNlYXJjaFZhbHVlLm1hdGNoKC9eKFs8PiE9XFwqXXswLDJ9KSguKltePD4hPVxcKl0pKFtcXCpdPykkLyk7IC8vIGdyb3VwIDE6IE9wZXJhdG9yLCAyOiBzZWFyY2hWYWx1ZSwgMzogbGFzdCBjaGFyIGlzICcqJyAobWVhbmluZyBzdGFydHMgd2l0aCwgZXguOiBhYmMqKVxyXG4gICAgICAgIGxldCBvcGVyYXRvciA9IGNvbHVtbkZpbHRlci5vcGVyYXRvciB8fCAoKG1hdGNoZXMpID8gbWF0Y2hlc1sxXSA6ICcnKTtcclxuICAgICAgICBzZWFyY2hWYWx1ZSA9ICghIW1hdGNoZXMpID8gbWF0Y2hlc1syXSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGxhc3RWYWx1ZUNoYXIgPSAoISFtYXRjaGVzKSA/IG1hdGNoZXNbM10gOiAob3BlcmF0b3IgPT09ICcqeicgPyAnKicgOiAnJyk7XHJcblxyXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gcXVlcnkgaWYgc2VhcmNoIHZhbHVlIGlzIGVtcHR5XHJcbiAgICAgICAgaWYgKGZpZWxkTmFtZSAmJiBzZWFyY2hWYWx1ZSA9PT0gJycgJiYgc2VhcmNoVGVybXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlYXJjaFRlcm1zKSAmJiBzZWFyY2hUZXJtcy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHNlYXJjaFRlcm1zWzBdID09PSAnc3RyaW5nJyAmJiBzZWFyY2hUZXJtc1swXS5pbmRleE9mKCcuLicpID4gMCkge1xyXG4gICAgICAgICAgc2VhcmNoVGVybXMgPSBzZWFyY2hUZXJtc1swXS5zcGxpdCgnLi4nKTtcclxuICAgICAgICAgIGlmICghb3BlcmF0b3IpIHtcclxuICAgICAgICAgICAgb3BlcmF0b3IgPSBPcGVyYXRvclR5cGUucmFuZ2VFeGNsdXNpdmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHNlYXJjaFZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgLy8gZXNjYXBpbmcgdGhlIHNlYXJjaCB2YWx1ZVxyXG4gICAgICAgICAgc2VhcmNoVmFsdWUgPSBzZWFyY2hWYWx1ZS5yZXBsYWNlKGAnYCwgYCcnYCk7IC8vIGVzY2FwZSBzaW5nbGUgcXVvdGVzIGJ5IGRvdWJsaW5nIHRoZW1cclxuICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gJyonIHx8IG9wZXJhdG9yID09PSAnYSonIHx8IG9wZXJhdG9yID09PSAnKnonIHx8IGxhc3RWYWx1ZUNoYXIgPT09ICcqJykge1xyXG4gICAgICAgICAgICBvcGVyYXRvciA9ICgob3BlcmF0b3IgPT09ICcqJyB8fCBvcGVyYXRvciA9PT0gJyp6JykgPyAnRW5kc1dpdGgnIDogJ1N0YXJ0c1dpdGgnKSBhcyBPcGVyYXRvclN0cmluZztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGFuIE9wZXJhdG9yIGJ1dCB3ZSBoYXZlIGEgQ29sdW1uIE9wZXJhdG9yIGluc2lkZSB0aGUgRmlsdGVyIChET00gRWxlbWVudCksIHdlIHNob3VsZCB1c2UgaXRzIGRlZmF1bHQgT3BlcmF0b3JcclxuICAgICAgICAvLyBtdWx0aXBsZVNlbGVjdCBpcyBcIklOXCIsIHdoaWxlIHNpbmdsZVNlbGVjdCBpcyBcIkVRXCIsIGVsc2UgZG9uJ3QgbWFwIGFueSBvcGVyYXRvclxyXG4gICAgICAgIGlmICghb3BlcmF0b3IgJiYgY29sdW1uRGVmLmZpbHRlcikge1xyXG4gICAgICAgICAgb3BlcmF0b3IgPSBjb2x1bW5EZWYuZmlsdGVyLm9wZXJhdG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gd2hlbiBoYXZpbmcgbW9yZSB0aGFuIDEgc2VhcmNoIHRlcm0gKHdlIG5lZWQgdG8gY3JlYXRlIGEgQ1NWIHN0cmluZyBmb3IgR3JhcGhRTCBcIklOXCIgb3IgXCJOT1QgSU5cIiBmaWx0ZXIgc2VhcmNoKVxyXG4gICAgICAgIGlmIChzZWFyY2hUZXJtcyAmJiBzZWFyY2hUZXJtcy5sZW5ndGggPiAxICYmIChvcGVyYXRvciA9PT0gJ0lOJyB8fCBvcGVyYXRvciA9PT0gJ05JTicgfHwgb3BlcmF0b3IgPT09ICdOT1RJTicgfHwgb3BlcmF0b3IgPT09ICdOT1QgSU4nIHx8IG9wZXJhdG9yID09PSAnTk9UX0lOJykpIHtcclxuICAgICAgICAgIHNlYXJjaFZhbHVlID0gc2VhcmNoVGVybXMuam9pbignLCcpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2VhcmNoVGVybXMgJiYgc2VhcmNoVGVybXMubGVuZ3RoID09PSAyICYmICghb3BlcmF0b3IgfHwgb3BlcmF0b3IgPT09IE9wZXJhdG9yVHlwZS5yYW5nZUV4Y2x1c2l2ZSB8fCBvcGVyYXRvciA9PT0gT3BlcmF0b3JUeXBlLnJhbmdlSW5jbHVzaXZlKSkge1xyXG4gICAgICAgICAgaWYgKCFvcGVyYXRvcikge1xyXG4gICAgICAgICAgICBvcGVyYXRvciA9IE9wZXJhdG9yVHlwZS5yYW5nZUV4Y2x1c2l2ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlYXJjaEJ5QXJyYXkucHVzaCh7IGZpZWxkOiBmaWVsZE5hbWUsIG9wZXJhdG9yOiAob3BlcmF0b3IgPT09IE9wZXJhdG9yVHlwZS5yYW5nZUluY2x1c2l2ZSA/ICdHRScgOiAnR1QnKSwgdmFsdWU6IHNlYXJjaFRlcm1zWzBdIH0pO1xyXG4gICAgICAgICAgc2VhcmNoQnlBcnJheS5wdXNoKHsgZmllbGQ6IGZpZWxkTmFtZSwgb3BlcmF0b3I6IChvcGVyYXRvciA9PT0gT3BlcmF0b3JUeXBlLnJhbmdlSW5jbHVzaXZlID8gJ0xFJyA6ICdMVCcpLCB2YWx1ZTogc2VhcmNoVGVybXNbMV0gfSk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIHN0aWxsIGRvbid0IGhhdmUgYW4gb3BlcmF0b3IgZmluZCB0aGUgcHJvcGVyIE9wZXJhdG9yIHRvIHVzZSBieSBpdCdzIGZpZWxkIHR5cGVcclxuICAgICAgICBpZiAoIW9wZXJhdG9yKSB7XHJcbiAgICAgICAgICBvcGVyYXRvciA9IG1hcE9wZXJhdG9yQnlGaWVsZFR5cGUoY29sdW1uRGVmLnR5cGUgfHwgRmllbGRUeXBlLnN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBidWlsZCB0aGUgc2VhcmNoIGFycmF5XHJcbiAgICAgICAgc2VhcmNoQnlBcnJheS5wdXNoKHsgZmllbGQ6IGZpZWxkTmFtZSwgb3BlcmF0b3I6IG1hcE9wZXJhdG9yVHlwZShvcGVyYXRvciksIHZhbHVlOiBzZWFyY2hWYWx1ZSB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSB0aGUgc2VydmljZSBvcHRpb25zIHdpdGggZmlsdGVycyBmb3IgdGhlIGJ1aWxkUXVlcnkoKSB0byB3b3JrIGxhdGVyXHJcbiAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoeyBmaWx0ZXJpbmdPcHRpb25zOiBzZWFyY2hCeUFycmF5IH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSBwYWdpbmF0aW9uIGNvbXBvbmVudCB3aXRoIGl0J3MgbmV3IHBhZ2UgbnVtYmVyIGFuZCBzaXplXHJcbiAgICogQHBhcmFtIG5ld1BhZ2VcclxuICAgKiBAcGFyYW0gcGFnZVNpemVcclxuICAgKi9cclxuICB1cGRhdGVQYWdpbmF0aW9uKG5ld1BhZ2U6IG51bWJlciwgcGFnZVNpemU6IG51bWJlcikge1xyXG4gICAgdGhpcy5fY3VycmVudFBhZ2luYXRpb24gPSB7XHJcbiAgICAgIHBhZ2VOdW1iZXI6IG5ld1BhZ2UsXHJcbiAgICAgIHBhZ2VTaXplLFxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgcGFnaW5hdGlvbk9wdGlvbnM7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5pc1dpdGhDdXJzb3IpIHtcclxuICAgICAgcGFnaW5hdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgZmlyc3Q6IHBhZ2VTaXplXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwYWdpbmF0aW9uT3B0aW9ucyA9IHtcclxuICAgICAgICBmaXJzdDogcGFnZVNpemUsXHJcbiAgICAgICAgb2Zmc2V0OiAobmV3UGFnZSA+IDEpID8gKChuZXdQYWdlIC0gMSkgKiBwYWdlU2l6ZSkgOiAwIC8vIHJlY2FsY3VsYXRlIG9mZnNldCBidXQgbWFrZSBzdXJlIHRoZSByZXN1bHQgaXMgYWx3YXlzIG92ZXIgMFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVubGVzcyB1c2VyIHNwZWNpZmljYWxseSBzZXQgXCJlbmFibGVQYWdpbmF0aW9uXCIgdG8gRmFsc2UsIHdlJ2xsIHVwZGF0ZSBwYWdpbmF0aW9uIG9wdGlvbnMgaW4gZXZlcnkgb3RoZXIgY2FzZXNcclxuICAgIGlmICh0aGlzLl9ncmlkT3B0aW9ucyAmJiAodGhpcy5fZ3JpZE9wdGlvbnMuZW5hYmxlUGFnaW5hdGlvbiB8fCAhdGhpcy5fZ3JpZE9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VuYWJsZVBhZ2luYXRpb24nKSkpIHtcclxuICAgICAgdGhpcy51cGRhdGVPcHRpb25zKHsgcGFnaW5hdGlvbk9wdGlvbnMgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBsb29wIHRocm91Z2ggYWxsIGNvbHVtbnMgdG8gaW5zcGVjdCBzb3J0ZXJzICYgdXBkYXRlIGJhY2tlbmQgc2VydmljZSBzb3J0aW5nT3B0aW9uc1xyXG4gICAqIEBwYXJhbSBjb2x1bW5GaWx0ZXJzXHJcbiAgICovXHJcbiAgdXBkYXRlU29ydGVycyhzb3J0Q29sdW1ucz86IENvbHVtblNvcnRbXSwgcHJlc2V0U29ydGVycz86IEN1cnJlbnRTb3J0ZXJbXSkge1xyXG4gICAgbGV0IGN1cnJlbnRTb3J0ZXJzOiBDdXJyZW50U29ydGVyW10gPSBbXTtcclxuICAgIGNvbnN0IGdyYXBocWxTb3J0ZXJzOiBHcmFwaHFsU29ydGluZ09wdGlvbltdID0gW107XHJcblxyXG4gICAgaWYgKCFzb3J0Q29sdW1ucyAmJiBwcmVzZXRTb3J0ZXJzKSB7XHJcbiAgICAgIC8vIG1ha2UgdGhlIHByZXNldHMgdGhlIGN1cnJlbnQgc29ydGVycywgYWxzbyBtYWtlIHN1cmUgdGhhdCBhbGwgZGlyZWN0aW9uIGFyZSBpbiB1cHBlcmNhc2UgZm9yIEdyYXBoUUxcclxuICAgICAgY3VycmVudFNvcnRlcnMgPSBwcmVzZXRTb3J0ZXJzO1xyXG4gICAgICBjdXJyZW50U29ydGVycy5mb3JFYWNoKChzb3J0ZXIpID0+IHNvcnRlci5kaXJlY3Rpb24gPSBzb3J0ZXIuZGlyZWN0aW9uLnRvVXBwZXJDYXNlKCkgYXMgU29ydERpcmVjdGlvblN0cmluZyk7XHJcblxyXG4gICAgICAvLyBkaXNwbGF5IHRoZSBjb3JyZWN0IHNvcnRpbmcgaWNvbnMgb24gdGhlIFVJLCBmb3IgdGhhdCBpdCByZXF1aXJlcyAoY29sdW1uSWQsIHNvcnRBc2MpIHByb3BlcnRpZXNcclxuICAgICAgY29uc3QgdG1wU29ydGVyQXJyYXkgPSBjdXJyZW50U29ydGVycy5tYXAoKHNvcnRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbHVtbkRlZiA9IHRoaXMuX2NvbHVtbkRlZmluaXRpb25zLmZpbmQoKGNvbHVtbjogQ29sdW1uKSA9PiBjb2x1bW4uaWQgPT09IHNvcnRlci5jb2x1bW5JZCk7XHJcblxyXG4gICAgICAgIGdyYXBocWxTb3J0ZXJzLnB1c2goe1xyXG4gICAgICAgICAgZmllbGQ6IGNvbHVtbkRlZiA/ICgoY29sdW1uRGVmLnF1ZXJ5RmllbGRTb3J0ZXIgfHwgY29sdW1uRGVmLnF1ZXJ5RmllbGQgfHwgY29sdW1uRGVmLmZpZWxkKSArICcnKSA6IChzb3J0ZXIuY29sdW1uSWQgKyAnJyksXHJcbiAgICAgICAgICBkaXJlY3Rpb246IHNvcnRlci5kaXJlY3Rpb25cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gcmV0dXJuIG9ubHkgdGhlIGNvbHVtbihzKSBmb3VuZCBpbiB0aGUgQ29sdW1uIERlZmluaXRpb25zIEVMU0UgbnVsbFxyXG4gICAgICAgIGlmIChjb2x1bW5EZWYpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbHVtbklkOiBzb3J0ZXIuY29sdW1uSWQsXHJcbiAgICAgICAgICAgIHNvcnRBc2M6IHNvcnRlci5kaXJlY3Rpb24udG9VcHBlckNhc2UoKSA9PT0gU29ydERpcmVjdGlvbi5BU0NcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIHNldCB0aGUgc29ydCBpY29ucywgYnV0IGFsc28gbWFrZSBzdXJlIHRvIGZpbHRlciBvdXQgbnVsbCB2YWx1ZXMgKHRoYXQgaGFwcGVucyB3aGVuIGNvbHVtbkRlZiBpcyBub3QgZm91bmQpXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRtcFNvcnRlckFycmF5KSkge1xyXG4gICAgICAgIHRoaXMuX2dyaWQuc2V0U29ydENvbHVtbnModG1wU29ydGVyQXJyYXkuZmlsdGVyKChzb3J0ZXIpID0+IHNvcnRlcikpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHNvcnRDb2x1bW5zICYmICFwcmVzZXRTb3J0ZXJzKSB7XHJcbiAgICAgIC8vIGJ1aWxkIHRoZSBvcmRlckJ5IGFycmF5LCBpdCBjb3VsZCBiZSBtdWx0aXNvcnQsIGV4YW1wbGVcclxuICAgICAgLy8gb3JkZXJCeTpbe2ZpZWxkOiBsYXN0TmFtZSwgZGlyZWN0aW9uOiBBU0N9LCB7ZmllbGQ6IGZpcnN0TmFtZSwgZGlyZWN0aW9uOiBERVNDfV1cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc29ydENvbHVtbnMpICYmIHNvcnRDb2x1bW5zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbHVtbiBvZiBzb3J0Q29sdW1ucykge1xyXG4gICAgICAgICAgaWYgKGNvbHVtbiAmJiBjb2x1bW4uc29ydENvbCkge1xyXG4gICAgICAgICAgICBjdXJyZW50U29ydGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICBjb2x1bW5JZDogY29sdW1uLnNvcnRDb2wuaWQgKyAnJyxcclxuICAgICAgICAgICAgICBkaXJlY3Rpb246IGNvbHVtbi5zb3J0QXNjID8gU29ydERpcmVjdGlvbi5BU0MgOiBTb3J0RGlyZWN0aW9uLkRFU0NcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSAoY29sdW1uLnNvcnRDb2wucXVlcnlGaWVsZFNvcnRlciB8fCBjb2x1bW4uc29ydENvbC5xdWVyeUZpZWxkIHx8IGNvbHVtbi5zb3J0Q29sLmZpZWxkIHx8ICcnKSArICcnO1xyXG4gICAgICAgICAgICBpZiAoZmllbGROYW1lKSB7XHJcbiAgICAgICAgICAgICAgZ3JhcGhxbFNvcnRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBmaWVsZDogZmllbGROYW1lLFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBjb2x1bW4uc29ydEFzYyA/IFNvcnREaXJlY3Rpb24uQVNDIDogU29ydERpcmVjdGlvbi5ERVNDXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBrZWVwIGN1cnJlbnQgU29ydGVycyBhbmQgdXBkYXRlIHRoZSBzZXJ2aWNlIG9wdGlvbnMgd2l0aCB0aGUgbmV3IHNvcnRpbmdcclxuICAgIHRoaXMuX2N1cnJlbnRTb3J0ZXJzID0gY3VycmVudFNvcnRlcnM7XHJcbiAgICB0aGlzLnVwZGF0ZU9wdGlvbnMoeyBzb3J0aW5nT3B0aW9uczogZ3JhcGhxbFNvcnRlcnMgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGFuIGlucHV0IHN0cmluZyBhbmQgcmVtb3ZlcyBkb3VibGUgcXVvdGVzIG9ubHlcclxuICAgKiBvbiBjZXJ0YWluIGZpZWxkcyBhcmUgaWRlbnRpZmllZCBhcyBHcmFwaFFMIGVudW1zIChleGNlcHQgZmllbGRzIHdpdGggZG90IG5vdGF0aW9uKVxyXG4gICAqIEZvciBleGFtcGxlIGxldCBzYXkgd2UgaWRlbnRpZmllZCAoXCJkaXJlY3Rpb246XCIsIFwic29ydFwiKSBhcyB3b3JkIHdoaWNoIGFyZSBHcmFwaFFMIGVudW0gZmllbGRzXHJcbiAgICogdGhlbiB0aGUgcmVzdWx0IHdpbGwgYmU6XHJcbiAgICogRlJPTVxyXG4gICAqIHF1ZXJ5IHsgdXNlcnMgKG9yZGVyQnk6W3tmaWVsZDpcImZpcnN0TmFtZVwiLCBkaXJlY3Rpb246XCJBU0NcIn0gfV0pIH1cclxuICAgKiBUT1xyXG4gICAqIHF1ZXJ5IHsgdXNlcnMgKG9yZGVyQnk6W3tmaWVsZDogZmlyc3ROYW1lLCBkaXJlY3Rpb246IEFTQ319KX1cclxuICAgKlxyXG4gICAqIEVYQ0VQVElPTlMgKGZpZWxkcyB3aXRoIGRvdCBub3RhdGlvbiBcIi5cIiB3aGljaCBhcmUgaW5zaWRlIGEgXCJmaWVsZDpcIilcclxuICAgKiB0aGVzZSBmaWVsZHMgd2lsbCBrZWVwIGRvdWJsZSBxdW90ZXMgd2hpbGUgZXZlcnl0aGluZyBlbHNlIHdpbGwgYmUgc3RyaXBwZWQgb2YgZG91YmxlIHF1b3Rlc1xyXG4gICAqIHF1ZXJ5IHsgdXNlcnMgKG9yZGVyQnk6W3tmaWVsZDpcImJpbGxpbmcuc3RyZWV0Lm5hbWVcIiwgZGlyZWN0aW9uOiBcIkFTQ1wifSB9XHJcbiAgICogVE9cclxuICAgKiBxdWVyeSB7IHVzZXJzIChvcmRlckJ5Olt7ZmllbGQ6XCJiaWxsaW5nLnN0cmVldC5uYW1lXCIsIGRpcmVjdGlvbjogQVNDfX1cclxuICAgKiBAcGFyYW0gaW5wdXRTdHIgaW5wdXQgc3RyaW5nXHJcbiAgICogQHBhcmFtIGVudW1TZWFyY2hXb3JkcyBhcnJheSBvZiBlbnVtIHdvcmRzIHRvIGZpbHRlclxyXG4gICAqIEByZXR1cm5zIG91dHB1dFN0ciBvdXRwdXQgc3RyaW5nXHJcbiAgICovXHJcbiAgdHJpbURvdWJsZVF1b3Rlc09uRW51bUZpZWxkKGlucHV0U3RyOiBzdHJpbmcsIGVudW1TZWFyY2hXb3Jkczogc3RyaW5nW10sIGtlZXBBcmd1bWVudEZpZWxkRG91YmxlUXVvdGVzOiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBwYXR0ZXJuV29yZEluUXVvdGVzID0gYFxccz8oKGZpZWxkOlxccyopP1wiLio/XCIpYDtcclxuICAgIGxldCBwYXR0ZXJuUmVnZXggPSBlbnVtU2VhcmNoV29yZHMuam9pbihwYXR0ZXJuV29yZEluUXVvdGVzICsgJ3wnKTtcclxuICAgIHBhdHRlcm5SZWdleCArPSBwYXR0ZXJuV29yZEluUXVvdGVzOyAvLyB0aGUgbGFzdCBvbmUgc2hvdWxkIGFsc28gaGF2ZSB0aGUgcGF0dGVybiBidXQgd2l0aG91dCB0aGUgcGlwZSBcInxcIlxyXG4gICAgLy8gZXhhbXBsZSB3aXRoIChmaWVsZDogJiBkaXJlY3Rpb246KTogIC9maWVsZDpzPyhcIi4qP1wiKXxkaXJlY3Rpb246cz8oXCIuKj9cIikvXHJcbiAgICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKHBhdHRlcm5SZWdleCwgJ2cnKTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRTdHIucmVwbGFjZShyZWcsIChncm91cDEsIGdyb3VwMiwgZ3JvdXAzKSA9PiB7XHJcbiAgICAgIC8vIHJlbW92ZSBkb3VibGUgcXVvdGVzIGV4Y2VwdCB3aGVuIHRoZSBzdHJpbmcgc3RhcnRzIHdpdGggYSBcImZpZWxkOlwiXHJcbiAgICAgIGxldCByZW1vdmVEb3VibGVRdW90ZXMgPSB0cnVlO1xyXG4gICAgICBpZiAoZ3JvdXAxLnN0YXJ0c1dpdGgoJ2ZpZWxkOicpICYmIGtlZXBBcmd1bWVudEZpZWxkRG91YmxlUXVvdGVzKSB7XHJcbiAgICAgICAgcmVtb3ZlRG91YmxlUXVvdGVzID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcmVwID0gcmVtb3ZlRG91YmxlUXVvdGVzID8gZ3JvdXAxLnJlcGxhY2UoL1wiL2csICcnKSA6IGdyb3VwMTtcclxuICAgICAgcmV0dXJuIHJlcDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy9cclxuICAvLyBwcml2YXRlIGZ1bmN0aW9uc1xyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvKipcclxuICAgKiBDYXN0IHByb3ZpZGVkIGZpbHRlcnMgKGNvdWxkIGJlIGluIG11bHRpcGxlIGZvcm1hdHMpIGludG8gYW4gYXJyYXkgb2YgQ3VycmVudEZpbHRlclxyXG4gICAqIEBwYXJhbSBjb2x1bW5GaWx0ZXJzXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBjYXN0RmlsdGVyVG9Db2x1bW5GaWx0ZXJzKGNvbHVtbkZpbHRlcnM6IENvbHVtbkZpbHRlcnMgfCBDdXJyZW50RmlsdGVyW10pOiBDdXJyZW50RmlsdGVyW10ge1xyXG4gICAgLy8ga2VlcCBjdXJyZW50IGZpbHRlcnMgJiBhbHdheXMgc2F2ZSBpdCBhcyBhbiBhcnJheSAoY29sdW1uRmlsdGVycyBjYW4gYmUgYW4gb2JqZWN0IHdoZW4gaXQgaXMgZGVhbHQgYnkgU2xpY2tHcmlkIEZpbHRlcilcclxuICAgIGNvbnN0IGZpbHRlcnNBcnJheTogQ29sdW1uRmlsdGVyW10gPSAodHlwZW9mIGNvbHVtbkZpbHRlcnMgPT09ICdvYmplY3QnKSA/IE9iamVjdC5rZXlzKGNvbHVtbkZpbHRlcnMpLm1hcChrZXkgPT4gY29sdW1uRmlsdGVyc1trZXldKSA6IGNvbHVtbkZpbHRlcnM7XHJcblxyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbHRlcnNBcnJheSkpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmaWx0ZXJzQXJyYXkubWFwKChmaWx0ZXIpID0+IHtcclxuICAgICAgY29uc3QgdG1wRmlsdGVyOiBDdXJyZW50RmlsdGVyID0geyBjb2x1bW5JZDogZmlsdGVyLmNvbHVtbklkIHx8ICcnIH07XHJcbiAgICAgIGlmIChmaWx0ZXIub3BlcmF0b3IpIHtcclxuICAgICAgICB0bXBGaWx0ZXIub3BlcmF0b3IgPSBmaWx0ZXIub3BlcmF0b3I7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsdGVyLnNlYXJjaFRlcm1zKSkge1xyXG4gICAgICAgIHRtcEZpbHRlci5zZWFyY2hUZXJtcyA9IGZpbHRlci5zZWFyY2hUZXJtcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdG1wRmlsdGVyO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==