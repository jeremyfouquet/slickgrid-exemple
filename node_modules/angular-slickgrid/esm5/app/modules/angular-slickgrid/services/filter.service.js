import * as tslib_1 from "tslib";
import { Injectable } from '@angular/core';
import { isObservable, Subject } from 'rxjs';
import * as isequal_ from 'lodash.isequal';
import * as Éµngcc0 from '@angular/core';
var isequal = isequal_; // patch to fix rollup to work
import { EmitterType, FieldType, KeyCode, OperatorType, } from './../models/index';
import { executeBackendCallback, refreshBackendDataset } from './backend-utilities';
import { getDescendantProperty } from './utilities';
import { FilterConditions } from './../filter-conditions';
import { FilterFactory } from '../filters/filterFactory';
import { SharedService } from './shared.service';
// timer for keeping track of user typing waits
var timer;
var DEFAULT_FILTER_TYPING_DEBOUNCE = 500;
var FilterService = /** @class */ (function () {
    function FilterService(filterFactory, sharedService) {
        this.filterFactory = filterFactory;
        this.sharedService = sharedService;
        this._isFilterFirstRender = true;
        this._firstColumnIdRendered = '';
        this._filtersMetadata = [];
        this._columnFilters = {};
        this.httpCancelRequests$ = new Subject(); // this will be used to cancel any pending http request
        this.onFilterChanged = new Subject();
        this.onFilterCleared = new Subject();
        this._eventHandler = new Slick.EventHandler();
        this._onSearchChange = new Slick.Event();
    }
    Object.defineProperty(FilterService.prototype, "eventHandler", {
        /** Getter of the SlickGrid Event Handler */
        get: function () {
            return this._eventHandler;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterService.prototype, "isFilterFirstRender", {
        /** Getter to know if the filter was already rendered or if it was its first time render */
        get: function () {
            return this._isFilterFirstRender;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterService.prototype, "onSearchChange", {
        /** Getter of the SlickGrid Event Handler */
        get: function () {
            return this._onSearchChange;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterService.prototype, "_gridOptions", {
        /** Getter for the Grid Options pulled through the Grid Object */
        get: function () {
            return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterService.prototype, "_columnDefinitions", {
        /** Getter for the Column Definitions pulled through the Grid Object */
        get: function () {
            return (this._grid && this._grid.getColumns) ? this._grid.getColumns() : [];
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FilterService.prototype, "_dataView", {
        /** Getter of SlickGrid DataView object */
        get: function () {
            return (this._grid && this._grid.getData) ? this._grid.getData() : {};
        },
        enumerable: true,
        configurable: true
    });
    FilterService.prototype.init = function (grid) {
        this._grid = grid;
        if (this._gridOptions && this._gridOptions.enableTreeData && this._gridOptions.treeDataOptions) {
            this._grid.setSortColumns([{ columnId: this._gridOptions.treeDataOptions.columnId, sortAsc: true }]);
        }
    };
    FilterService.prototype.dispose = function () {
        // unsubscribe all SlickGrid events
        if (this._eventHandler && this._eventHandler.unsubscribeAll) {
            this._eventHandler.unsubscribeAll();
        }
        if (isObservable(this.httpCancelRequests$)) {
            this.httpCancelRequests$.next(); // this cancels any pending http requests
        }
        this.disposeColumnFilters();
        this._onSearchChange = null;
        this.addFilterTemplateToHeaderRow = null;
        this.customLocalFilter = null;
        this.callbackSearchEvent = null;
        this.handleBackendOnSearchChange = null;
        this.handleLocalOnSearchChange = null;
    };
    /**
     * Dispose of the filters, since it's a singleton, we don't want to affect other grids with same columns
     */
    FilterService.prototype.disposeColumnFilters = function () {
        // we need to loop through all columnFilters and delete them 1 by 1
        // only trying to make columnFilter an empty (without looping) would not trigger a dataset change
        if (typeof this._columnFilters === 'object') {
            for (var columnId in this._columnFilters) {
                if (columnId && this._columnFilters[columnId]) {
                    delete this._columnFilters[columnId];
                }
            }
        }
        // also destroy each Filter instances
        if (Array.isArray(this._filtersMetadata)) {
            this._filtersMetadata.forEach(function (filter) {
                if (filter && filter.destroy) {
                    filter.destroy(true);
                }
            });
        }
        this._filtersMetadata = [];
    };
    /**
     * When clearing or disposing of all filters, we need to loop through all columnFilters and delete them 1 by 1
     * only trying to make columnFilter an empty (without looping) would not trigger a dataset change
     */
    FilterService.prototype.resetColumnFilters = function () {
        if (typeof this._columnFilters === 'object') {
            for (var columnId in this._columnFilters) {
                if (columnId && this._columnFilters[columnId]) {
                    delete this._columnFilters[columnId];
                }
            }
        }
    };
    /**
     * Bind a backend filter hook to the grid
     * @param grid SlickGrid Grid object
     */
    FilterService.prototype.bindBackendOnFilter = function (grid) {
        this._filtersMetadata = [];
        // subscribe to SlickGrid onHeaderRowCellRendered event to create filter template
        this._eventHandler.subscribe(grid.onHeaderRowCellRendered, this.handleBackendOnSearchChange.bind(this));
        // subscribe to the SlickGrid event and call the backend execution
        if (this._onSearchChange) {
            this._eventHandler.subscribe(this._onSearchChange, this.onBackendFilterChange.bind(this));
        }
    };
    FilterService.prototype.handleBackendOnSearchChange = function (_e, args) {
        // firstColumnIdRendered is null at first, so if it changes to being filled and equal, then we would know that it was already rendered
        // this is to avoid rendering the filter twice (only the Select Filter for now), rendering it again also clears the filter which has unwanted side effect
        if (args.column.id === this._firstColumnIdRendered) {
            this._isFilterFirstRender = false;
        }
        this.addFilterTemplateToHeaderRow(null, args, this._isFilterFirstRender);
        if (this._firstColumnIdRendered === '') {
            this._firstColumnIdRendered = args.column.id;
        }
    };
    /**
     * Bind a local filter hook to the grid
     * @param grid SlickGrid Grid object
     * @param dataView
     */
    FilterService.prototype.bindLocalOnFilter = function (grid) {
        this._filtersMetadata = [];
        this._dataView.setFilterArgs({ columnFilters: this._columnFilters, grid: this._grid, dataView: this._dataView });
        this._dataView.setFilter(this.customLocalFilter.bind(this));
        // bind any search filter change (e.g. input filter input change event)
        if (this._onSearchChange) {
            this._eventHandler.subscribe(this._onSearchChange, this.handleLocalOnSearchChange.bind(this));
            // subscribe to SlickGrid onHeaderRowCellRendered event to create filter template
            this._eventHandler.subscribe(grid.onHeaderRowCellRendered, this.addFilterTemplateToHeaderRow.bind(this));
        }
    };
    FilterService.prototype.handleLocalOnSearchChange = function (_e, args) {
        var isGridWithTreeData = this._gridOptions && this._gridOptions.enableTreeData || false;
        // When using Tree Data, we need to do it in 2 steps
        // step 1. we need to prefilter (search) the data prior, the result will be an array of IDs which are the node(s) and their parent nodes when necessary.
        // step 2. calling the DataView.refresh() is what triggers the final filtering, with "customLocalFilter()" which will decide which rows should persist
        if (isGridWithTreeData) {
            this._tmpPreFilteredData = this.preFilterTreeData(this._dataView.getItems(), this._columnFilters);
        }
        var columnId = args.columnId;
        if (columnId !== null) {
            this._dataView.refresh();
        }
        // emit an onFilterChanged event when it's not called by a clear filter
        if (args && !args.clearFilterTriggered) {
            this.emitFilterChanged(EmitterType.local);
        }
    };
    FilterService.prototype.clearFilterByColumnId = function (event, columnId) {
        // get current column filter before clearing, this allow us to know if the filter was empty prior to calling the clear filter
        var currentColumnFilters = Object.keys(this._columnFilters);
        var currentColFilter;
        if (Array.isArray(currentColumnFilters)) {
            currentColFilter = currentColumnFilters.find(function (name) { return name === columnId; });
        }
        // find the filter object and call its clear method with true (the argument tells the method it was called by a clear filter)
        var colFilter = this._filtersMetadata.find(function (filter) { return filter.columnDef.id === columnId; });
        if (colFilter && colFilter.clear) {
            colFilter.clear(true);
        }
        var emitter = EmitterType.local;
        var isBackendApi = this._gridOptions && this._gridOptions.backendServiceApi || false;
        // when using a backend service, we need to manually trigger a filter change but only if the filter was previously filled
        if (isBackendApi) {
            emitter = EmitterType.remote;
            if (currentColFilter) {
                this.onBackendFilterChange(event, { grid: this._grid, columnFilters: this._columnFilters });
            }
        }
        // emit an event when filter is cleared
        this.emitFilterChanged(emitter);
    };
    /** Clear the search filters (below the column titles) */
    FilterService.prototype.clearFilters = function (triggerChange) {
        var _this = this;
        if (triggerChange === void 0) { triggerChange = true; }
        this._filtersMetadata.forEach(function (filter) {
            if (filter && filter.clear) {
                // clear element but don't trigger individual clear change,
                // we'll do 1 trigger for all filters at once afterward
                filter.clear(false);
            }
        });
        // also reset the columnFilters object and remove any filters from the object
        this.resetColumnFilters();
        // we also need to refresh the dataView and optionally the grid (it's optional since we use DataView)
        if (this._dataView && this._grid) {
            this._dataView.refresh();
            this._grid.invalidate();
        }
        // when using backend service, we need to query only once so it's better to do it here
        var backendApi = this._gridOptions && this._gridOptions.backendServiceApi;
        if (backendApi && triggerChange) {
            var callbackArgs_1 = { clearFilterTriggered: true, shouldTriggerQuery: triggerChange, grid: this._grid, columnFilters: this._columnFilters };
            var queryResponse = backendApi.service.processOnFilterChanged(undefined, callbackArgs_1);
            if (queryResponse instanceof Promise && queryResponse.then) {
                // @deprecated, processOnFilterChanged in the future should be returned as a query string NOT as a Promise
                console.warn("[Angular-Slickgrid] please note that the \"processOnFilterChanged\" from your Backend Service, should now return a string instead of a Promise.\n          Returning a Promise will be deprecated in the future.");
                queryResponse.then(function (query) {
                    var totalItems = _this._gridOptions && _this._gridOptions.pagination && _this._gridOptions.pagination.totalItems;
                    executeBackendCallback(backendApi, query, callbackArgs_1, new Date(), totalItems, _this.emitFilterChanged.bind(_this));
                });
            }
            else {
                var query = queryResponse;
                var totalItems = this._gridOptions && this._gridOptions.pagination && this._gridOptions.pagination.totalItems;
                executeBackendCallback(backendApi, query, callbackArgs_1, new Date(), totalItems, this.emitFilterChanged.bind(this));
            }
        }
        // emit an event when filters are all cleared
        if (triggerChange) {
            this.onFilterCleared.next(true);
        }
    };
    /** Local Grid Filter search */
    FilterService.prototype.customLocalFilter = function (item, args) {
        var e_1, _a;
        var dataView = args && args.dataView;
        var grid = args && args.grid;
        var isGridWithTreeData = this._gridOptions && this._gridOptions.enableTreeData || false;
        var columnFilters = args && args.columnFilters || {};
        var treeDataOptions;
        // when the column is a Tree Data structure and the parent is collapsed, we won't go further and just continue with next row
        // so we always run this check even when there are no filter search, the reason is because the user might click on the expand/collapse
        if (isGridWithTreeData && this._gridOptions && this._gridOptions.treeDataOptions) {
            treeDataOptions = this._gridOptions.treeDataOptions;
            var collapsedPropName = treeDataOptions.collapsedPropName || '__collapsed';
            var parentPropName = treeDataOptions.parentPropName || '__parentId';
            var dataViewIdIdentifier = this._gridOptions.datasetIdPropertyName || 'id';
            if (item[parentPropName] !== null) {
                var parent_1 = this._dataView.getItemById(item[parentPropName]);
                while (parent_1) {
                    if (parent_1[collapsedPropName]) {
                        return false; // don't display any row that have their parent collapsed
                    }
                    parent_1 = this._dataView.getItemById(parent_1[parentPropName]);
                }
            }
            // filter out any row items that aren't part of our pre-processed "preFilterTreeData()" result
            if (Array.isArray(this._tmpPreFilteredData)) {
                return this._tmpPreFilteredData.includes(item[dataViewIdIdentifier]); // return true when found, false otherwise
            }
        }
        else {
            if (typeof columnFilters === 'object') {
                try {
                    for (var _b = tslib_1.__values(Object.keys(columnFilters)), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var columnId = _c.value;
                        var columnFilter = columnFilters[columnId];
                        var conditionOptions = this.getFilterConditionOptionsOrBoolean(item, columnFilter, columnId, grid, dataView);
                        if (typeof conditionOptions === 'boolean') {
                            return conditionOptions;
                        }
                        if (!FilterConditions.executeMappedCondition(conditionOptions)) {
                            return false;
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
        }
        // if it reaches here, that means the row is valid and passed all filter
        return true;
    };
    FilterService.prototype.getFilterConditionOptionsOrBoolean = function (item, columnFilter, columnId, grid, dataView) {
        var columnIndex = grid.getColumnIndex(columnId);
        var columnDef = grid.getColumns()[columnIndex];
        // it might be a hidden column, if so it won't be part of the getColumns (because it we hide a column via setColumns)
        // when that happens we can try to get the column definition from all defined columns
        if (!columnDef && this.sharedService && Array.isArray(this.sharedService.allColumns)) {
            columnIndex = this.sharedService.allColumns.findIndex(function (col) { return col.field === columnId; });
            columnDef = this.sharedService.allColumns[columnIndex];
        }
        // if we still don't have a column definition then we should return then row anyway (true)
        if (!columnDef) {
            return true;
        }
        // Row Detail View plugin, if the row is padding we just get the value we're filtering on from it's parent
        if (this._gridOptions.enableRowDetailView) {
            var metadataPrefix = this._gridOptions.rowDetailView && this._gridOptions.rowDetailView.keyPrefix || '__';
            if (item[metadataPrefix + "isPadding"] && item[metadataPrefix + "parent"]) {
                item = item[metadataPrefix + "parent"];
            }
        }
        var dataKey = columnDef.dataKey;
        var queryFieldName = (columnDef.filter && columnDef.filter.queryField) || columnDef.queryFieldFilter || columnDef.queryField || columnDef.field || '';
        if (typeof columnDef.queryFieldNameGetterFn === 'function') {
            queryFieldName = columnDef.queryFieldNameGetterFn(item);
        }
        var fieldType = (columnDef.filter && columnDef.filter.type) || columnDef.type || FieldType.string;
        var filterSearchType = (columnDef.filterSearchType) ? columnDef.filterSearchType : null;
        var cellValue = item[queryFieldName];
        // when item is a complex object (dot "." notation), we need to filter the value contained in the object tree
        if (queryFieldName && queryFieldName.indexOf('.') >= 0) {
            cellValue = getDescendantProperty(item, queryFieldName);
        }
        // if we find searchTerms use them but make a deep copy so that we don't affect original array
        // we might have to overwrite the value(s) locally that are returned
        // e.g: we don't want to operator within the search value, since it will fail filter condition check trigger afterward
        var searchValues = (columnFilter && columnFilter.searchTerms) ? $.extend(true, [], columnFilter.searchTerms) : [];
        var fieldSearchValue = (Array.isArray(searchValues) && searchValues.length === 1) ? searchValues[0] : '';
        var matches = null;
        if (fieldType !== FieldType.object) {
            fieldSearchValue = '' + fieldSearchValue; // make sure it's a string
            matches = fieldSearchValue.match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/); // group 1: Operator, 2: searchValue, 3: last char is '*' (meaning starts with, ex.: abc*)
        }
        var operator = columnFilter.operator || ((matches) ? matches[1] : '');
        var searchTerm = (!!matches) ? matches[2] : '';
        var lastValueChar = (!!matches) ? matches[3] : (operator === '*z' ? '*' : '');
        if (searchValues && searchValues.length > 1) {
            fieldSearchValue = searchValues.join(',');
        }
        else if (typeof fieldSearchValue === 'string') {
            // escaping the search value
            fieldSearchValue = fieldSearchValue.replace("'", "''"); // escape single quotes by doubling them
            if (operator === '*' || operator === 'a*' || operator === '*z' || lastValueChar === '*') {
                operator = (operator === '*' || operator === '*z') ? OperatorType.endsWith : OperatorType.startsWith;
            }
        }
        // no need to query if search value is empty or if the search value is in fact equal to the operator
        if (searchTerm === '' && (!searchValues || (Array.isArray(searchValues) && (searchValues.length === 0 || searchValues.length === 1 && operator === searchValues[0])))) {
            return true;
        }
        // if search value has a regex match we will only keep the value without the operator
        // in this case we need to overwrite the returned search values to truncate operator from the string search
        if (Array.isArray(matches) && matches.length >= 1 && (Array.isArray(searchValues) && searchValues.length === 1)) {
            searchValues[0] = searchTerm;
        }
        // filter search terms should always be string type (even though we permit the end user to input numbers)
        // so make sure each term are strings, if user has some default search terms, we will cast them to string
        if (searchValues && Array.isArray(searchValues) && fieldType !== FieldType.object) {
            for (var k = 0, ln = searchValues.length; k < ln; k++) {
                // make sure all search terms are strings
                searchValues[k] = ((searchValues[k] === undefined || searchValues[k] === null) ? '' : searchValues[k]) + '';
            }
        }
        // when using localization (i18n), we should use the formatter output to search as the new cell value
        if (columnDef && columnDef.params && columnDef.params.useFormatterOuputToFilter) {
            var idPropName = this._gridOptions.datasetIdPropertyName || 'id';
            var rowIndex = (dataView && typeof dataView.getIdxById === 'function') ? dataView.getIdxById(item[idPropName]) : 0;
            cellValue = (columnDef && typeof columnDef.formatter === 'function') ? columnDef.formatter(rowIndex, columnIndex, cellValue, columnDef, item, this._grid) : '';
        }
        // make sure cell value is always a string
        if (typeof cellValue === 'number') {
            cellValue = cellValue.toString();
        }
        var currentCellValue = cellValue;
        return {
            dataKey: dataKey,
            fieldType: fieldType,
            searchTerms: searchValues,
            cellValue: currentCellValue,
            operator: operator,
            cellValueLastChar: lastValueChar,
            filterSearchType: filterSearchType
        };
    };
    /**
     * When using Tree Data, we need to prefilter (search) the data prior, the result will be an array of IDs which are the node(s) and their parent nodes when necessary.
     * This will then be passed to the DataView setFilter(customLocalFilter), which will itself loop through the list of IDs and display/hide the row if found that array of IDs
     * We do this in 2 steps so that we can still use the DataSet setFilter()
     */
    FilterService.prototype.preFilterTreeData = function (inputArray, columnFilters) {
        var e_2, _a;
        var treeDataOptions = this._gridOptions && this._gridOptions.treeDataOptions;
        var parentPropName = treeDataOptions && treeDataOptions.parentPropName || '__parentId';
        var dataViewIdIdentifier = this._gridOptions && this._gridOptions.datasetIdPropertyName || 'id';
        var treeObj = {};
        var filteredChildrenAndParents = [];
        if (Array.isArray(inputArray)) {
            for (var i = 0; i < inputArray.length; i++) {
                treeObj[inputArray[i][dataViewIdIdentifier]] = inputArray[i];
                // as the filtered data is then used again as each subsequent letter
                // we need to delete the .__used property, otherwise the logic below
                // in the while loop (which checks for parents) doesn't work:
                delete treeObj[inputArray[i][dataViewIdIdentifier]].__used;
            }
            for (var i = 0; i < inputArray.length; i++) {
                var item = inputArray[i];
                var matchFilter = true; // valid until proven otherwise
                try {
                    // loop through all column filters and execute filter condition(s)
                    for (var _b = (e_2 = void 0, tslib_1.__values(Object.keys(columnFilters))), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var columnId = _c.value;
                        var columnFilter = columnFilters[columnId];
                        var conditionOptionResult = this.getFilterConditionOptionsOrBoolean(item, columnFilter, columnId, this._grid, this._dataView);
                        if (conditionOptionResult) {
                            var conditionResult = (typeof conditionOptionResult === 'boolean') ? conditionOptionResult : FilterConditions.executeMappedCondition(conditionOptionResult);
                            if (conditionResult) {
                                // don't return true since we still need to check other keys in columnFilters
                                continue;
                            }
                        }
                        matchFilter = false;
                        continue;
                    }
                }
                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_2) throw e_2.error; }
                }
                // build an array from the matched filters, anything valid from filter condition
                // will be pushed to the filteredChildrenAndParents array
                if (matchFilter) {
                    var len = filteredChildrenAndParents.length;
                    // add child (id):
                    filteredChildrenAndParents.splice(len, 0, item[dataViewIdIdentifier]);
                    var parent_2 = treeObj[item[parentPropName]] || false;
                    while (parent_2) {
                        // only add parent (id) if not already added:
                        parent_2.__used || filteredChildrenAndParents.splice(len, 0, parent_2[dataViewIdIdentifier]);
                        // mark each parent as used to not use them again later:
                        treeObj[parent_2[dataViewIdIdentifier]].__used = true;
                        // try to find parent of the current parent, if exists:
                        parent_2 = treeObj[parent_2[parentPropName]] || false;
                    }
                }
            }
        }
        return filteredChildrenAndParents;
    };
    FilterService.prototype.getColumnFilters = function () {
        return this._columnFilters;
    };
    FilterService.prototype.getFiltersMetadata = function () {
        return this._filtersMetadata;
    };
    FilterService.prototype.getCurrentLocalFilters = function () {
        var e_3, _a;
        var currentFilters = [];
        if (this._columnFilters) {
            try {
                for (var _b = tslib_1.__values(Object.keys(this._columnFilters)), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var colId = _c.value;
                    var columnFilter = this._columnFilters[colId];
                    var filter = { columnId: colId || '' };
                    if (columnFilter && columnFilter.searchTerms) {
                        filter.searchTerms = columnFilter.searchTerms;
                    }
                    if (columnFilter.operator) {
                        filter.operator = columnFilter.operator;
                    }
                    if (Array.isArray(filter.searchTerms) && filter.searchTerms.length > 0 && filter.searchTerms[0] !== '') {
                        currentFilters.push(filter);
                    }
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        return currentFilters;
    };
    /**
     * A simple function that is binded to the subscriber and emit a change when the filter is called.
     * Other services, like Pagination, can then subscribe to it.
     * @param caller
     */
    FilterService.prototype.emitFilterChanged = function (caller) {
        if (caller === EmitterType.remote && this._gridOptions && this._gridOptions.backendServiceApi) {
            var currentFilters = [];
            var backendService = this._gridOptions.backendServiceApi.service;
            if (backendService && backendService.getCurrentFilters) {
                currentFilters = backendService.getCurrentFilters();
            }
            this.onFilterChanged.next(currentFilters);
        }
        else if (caller === EmitterType.local) {
            this.onFilterChanged.next(this.getCurrentLocalFilters());
        }
    };
    FilterService.prototype.onBackendFilterChange = function (event, args) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var backendApi, startTime, debounceTypingDelay, isTriggeredByClearFilter, eventType, eventKeyCode, query, totalItems;
            var _this = this;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!args || !args.grid) {
                            throw new Error('Something went wrong when trying to bind the "onBackendFilterChange(event, args)" function, it seems that "args" is not populated correctly');
                        }
                        backendApi = this._gridOptions.backendServiceApi;
                        if (!backendApi || !backendApi.process || !backendApi.service) {
                            throw new Error("BackendServiceApi requires at least a \"process\" function and a \"service\" defined");
                        }
                        startTime = new Date();
                        // run a preProcess callback if defined
                        if (backendApi.preProcess) {
                            backendApi.preProcess();
                        }
                        debounceTypingDelay = 0;
                        isTriggeredByClearFilter = args && args.clearFilterTriggered;
                        eventType = event && event.type;
                        eventKeyCode = event && event.keyCode;
                        if (!isTriggeredByClearFilter && eventKeyCode !== KeyCode.ENTER && (eventType === 'input' || eventType === 'keyup' || eventType === 'keydown')) {
                            debounceTypingDelay = backendApi.hasOwnProperty('filterTypingDebounce') ? backendApi.filterTypingDebounce : DEFAULT_FILTER_TYPING_DEBOUNCE;
                        }
                        if (!(args && args.shouldTriggerQuery)) return [3 /*break*/, 3];
                        // call the service to get a query back
                        // @deprecated TODO: remove async/await on next major change, refer to processOnFilterChanged in BackendService interface (with @deprecated)
                        clearTimeout(timer);
                        if (!(debounceTypingDelay > 0)) return [3 /*break*/, 1];
                        timer = setTimeout(function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
                            var query, totalItems;
                            return tslib_1.__generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0: return [4 /*yield*/, backendApi.service.processOnFilterChanged(event, args)];
                                    case 1:
                                        query = _a.sent();
                                        totalItems = this._gridOptions && this._gridOptions.pagination && this._gridOptions.pagination.totalItems;
                                        executeBackendCallback(backendApi, query, args, startTime, totalItems, this.emitFilterChanged.bind(this), this.httpCancelRequests$);
                                        return [2 /*return*/];
                                }
                            });
                        }); }, debounceTypingDelay);
                        return [3 /*break*/, 3];
                    case 1: return [4 /*yield*/, backendApi.service.processOnFilterChanged(event, args)];
                    case 2:
                        query = _a.sent();
                        totalItems = this._gridOptions && this._gridOptions.pagination && this._gridOptions.pagination.totalItems;
                        executeBackendCallback(backendApi, query, args, startTime, totalItems, this.emitFilterChanged.bind(this), this.httpCancelRequests$);
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * When user passes an array of preset filters, we need to pre-populate each column filter searchTerm(s)
     * The process is to loop through the preset filters array, find the associated column from columnDefinitions and fill in the filter object searchTerm(s)
     * This is basically the same as if we would manually add searchTerm(s) to a column filter object in the column definition, but we do it programmatically.
     * At the end of the day, when creating the Filter (DOM Element), it will use these searchTerm(s) so we can take advantage of that without recoding each Filter type (DOM element)
     */
    FilterService.prototype.populateColumnFilterSearchTermPresets = function (filters) {
        if (Array.isArray(filters) && filters.length > 0) {
            this._columnDefinitions.forEach(function (columnDef) {
                // clear any columnDef searchTerms before applying Presets
                if (columnDef.filter && columnDef.filter.searchTerms) {
                    delete columnDef.filter.searchTerms;
                }
                // from each presets, we will find the associated columnDef and apply the preset searchTerms & operator if there is
                var columnPreset = filters.find(function (presetFilter) { return presetFilter.columnId === columnDef.id; });
                if (columnPreset && columnPreset.searchTerms && Array.isArray(columnPreset.searchTerms)) {
                    columnDef.filter = columnDef.filter || {};
                    columnDef.filter.operator = columnPreset.operator || columnDef.filter.operator || '';
                    columnDef.filter.searchTerms = columnPreset.searchTerms;
                }
            });
            // when we have a Filter Presets on a Tree Data View grid, we need to call the pre-filtering of tree data
            this.refreshTreeDataFilters();
        }
        return this._columnDefinitions;
    };
    /**
     * when we have a Filter Presets on a Tree Data View grid, we need to call the pre-filtering of tree data
     * we need to do this because Tree Data is the only type of grid that requires a pre-filter (preFilterTreeData) to be executed before the final filtering
     * @param filters
     */
    FilterService.prototype.refreshTreeDataFilters = function () {
        if (this._dataView && this._dataView.getItems && this._gridOptions && this._gridOptions.enableTreeData) {
            this._tmpPreFilteredData = this.preFilterTreeData(this._dataView.getItems(), this._columnFilters);
            this._dataView.refresh(); // and finally this refresh() is what triggers a DataView filtering check
        }
    };
    /**
     * Toggle the Filter Functionality
     * @param {boolean} isFilterDisabled - optionally force a disable/enable of the Sort Functionality? Defaults to True
     * @param {boolean} clearFiltersWhenDisabled - when disabling the Filter, do we also want to clear all the filters as well? Defaults to True
     */
    FilterService.prototype.disableFilterFunctionality = function (isFilterDisabled, clearFiltersWhenDisabled) {
        if (isFilterDisabled === void 0) { isFilterDisabled = true; }
        if (clearFiltersWhenDisabled === void 0) { clearFiltersWhenDisabled = true; }
        var prevShowFilterFlag = this._gridOptions.enableFiltering;
        var newShowFilterFlag = !prevShowFilterFlag;
        if (newShowFilterFlag !== isFilterDisabled) {
            if (clearFiltersWhenDisabled && isFilterDisabled) {
                this.clearFilters();
            }
            this.disableAllFilteringCommands(isFilterDisabled);
            this._grid.setOptions({ enableFiltering: newShowFilterFlag }, false, true);
            this._grid.setHeaderRowVisibility(newShowFilterFlag);
            this._gridOptions.enableFiltering = !isFilterDisabled;
            this.sharedService.gridOptions = this._gridOptions;
            // when displaying header row, we'll call "setColumns" which in terms will recreate the header row filters
            this._grid.setColumns(this.sharedService.columnDefinitions);
        }
    };
    /**
     * Toggle the Filter Functionality (show/hide the header row filter bar as well)
     * @param {boolean} clearFiltersWhenDisabled - when disabling the filters, do we want to clear the filters before hiding the filters? Defaults to True
     */
    FilterService.prototype.toggleFilterFunctionality = function (clearFiltersWhenDisabled) {
        if (clearFiltersWhenDisabled === void 0) { clearFiltersWhenDisabled = true; }
        var prevShowFilterFlag = this._gridOptions.enableFiltering;
        this.disableFilterFunctionality(prevShowFilterFlag, clearFiltersWhenDisabled);
    };
    /**
     * Toggle the Header Row filter bar (this does not disable the Filtering itself, you can use "toggleFilterFunctionality()" instead, however this will reset any column positions)
     */
    FilterService.prototype.toggleHeaderFilterRow = function () {
        var showHeaderRow = this._gridOptions && this._gridOptions.showHeaderRow || false;
        showHeaderRow = !showHeaderRow; // inverse show header flag
        this._grid.setHeaderRowVisibility(showHeaderRow);
        // when displaying header row, we'll call "setColumns" which in terms will recreate the header row filters
        if (showHeaderRow === true) {
            this._grid.setColumns(this.sharedService.columnDefinitions);
        }
    };
    /**
     * Set the sort icons in the UI (ONLY the icons, it does not do any sorting)
     * The column sort icons are not necessarily inter-connected to the sorting functionality itself,
     * you can change the sorting icons separately by passing an array of columnId/sortAsc and that will change ONLY the icons
     * @param sortColumns
     */
    FilterService.prototype.setSortColumnIcons = function (sortColumns) {
        if (this._grid && Array.isArray(sortColumns)) {
            this._grid.setSortColumns(sortColumns);
        }
    };
    /**
     * Update Filters dynamically just by providing an array of filter(s).
     * You can also choose emit (default) a Filter Changed event that will be picked by the Grid State Service.
     *
     * Also for backend service only, you can choose to trigger a backend query (default) or not if you wish to do it later,
     * this could be useful when using updateFilters & updateSorting and you wish to only send the backend query once.
     * @param filters array
     * @param triggerEvent defaults to True, do we want to emit a filter changed event?
     * @param triggerBackendQuery defaults to True, which will query the backend.
     */
    FilterService.prototype.updateFilters = function (filters, emitChangedEvent, triggerBackendQuery, triggerOnSearchChangeEvent) {
        var _this = this;
        if (emitChangedEvent === void 0) { emitChangedEvent = true; }
        if (triggerBackendQuery === void 0) { triggerBackendQuery = true; }
        if (triggerOnSearchChangeEvent === void 0) { triggerOnSearchChangeEvent = false; }
        if (!this._filtersMetadata || this._filtersMetadata.length === 0 || !this._gridOptions || !this._gridOptions.enableFiltering) {
            throw new Error('[Angular-Slickgrid] in order to use "updateFilters" method, you need to have Filterable Columns defined in your grid and "enableFiltering" set in your Grid Options');
        }
        if (Array.isArray(filters)) {
            // start by clearing all filters (without triggering an event) before applying any new filters
            this.clearFilters(false);
            // pre-fill (value + operator) and render all filters in the DOM
            // loop through each Filters provided (which has a columnId property)
            // then find their associated Filter instances that were originally created in the grid
            filters.forEach(function (newFilter) {
                var uiFilter = _this._filtersMetadata.find(function (filter) { return newFilter.columnId === filter.columnDef.id; });
                if (newFilter && uiFilter) {
                    var newOperator = newFilter.operator || uiFilter.defaultOperator;
                    _this.updateColumnFilters(newFilter.searchTerms, uiFilter.columnDef, newOperator);
                    uiFilter.setValues(newFilter.searchTerms, newOperator);
                    if (triggerOnSearchChangeEvent) {
                        _this.callbackSearchEvent(null, { columnDef: uiFilter.columnDef, operator: newOperator, searchTerms: newFilter.searchTerms, shouldTriggerQuery: true });
                    }
                }
            });
            var backendApi = this._gridOptions && this._gridOptions.backendServiceApi;
            // refresh the DataView and trigger an event after all filters were updated and rendered
            this._dataView.refresh();
            if (backendApi) {
                var backendApiService = backendApi && backendApi.service;
                if (backendApiService) {
                    backendApiService.updateFilters(filters, true);
                    if (triggerBackendQuery) {
                        refreshBackendDataset(this._gridOptions);
                    }
                }
            }
            if (emitChangedEvent) {
                var emitterType = backendApi ? EmitterType.remote : EmitterType.local;
                this.emitFilterChanged(emitterType);
            }
        }
    };
    // --
    // private functions
    // -------------------
    /** Add all created filters (from their template) to the header row section area */
    FilterService.prototype.addFilterTemplateToHeaderRow = function (_event, args, isFilterFirstRender) {
        if (isFilterFirstRender === void 0) { isFilterFirstRender = true; }
        var columnDef = args.column;
        var columnId = columnDef && columnDef.id || '';
        if (columnDef && columnId !== 'selector' && columnDef.filterable) {
            var searchTerms = void 0;
            var operator = void 0;
            var newFilter_1 = this.filterFactory.createFilter(args.column.filter);
            operator = (columnDef && columnDef.filter && columnDef.filter.operator) || (newFilter_1 && newFilter_1.operator) || undefined;
            if (this._columnFilters[columnDef.id]) {
                searchTerms = this._columnFilters[columnDef.id].searchTerms || undefined;
                operator = this._columnFilters[columnDef.id].operator || undefined;
            }
            else if (columnDef.filter) {
                // when hiding/showing (with Column Picker or Grid Menu), it will try to re-create yet again the filters (since SlickGrid does a re-render)
                // because of that we need to first get searchTerm(s) from the columnFilters (that is what the user last typed in a filter search input)
                searchTerms = columnDef.filter.searchTerms || undefined;
                this.updateColumnFilters(searchTerms, columnDef, operator);
            }
            var filterArguments = {
                grid: this._grid,
                operator: operator,
                searchTerms: searchTerms,
                columnDef: columnDef,
                callback: this.callbackSearchEvent.bind(this)
            };
            if (newFilter_1) {
                newFilter_1.init(filterArguments, isFilterFirstRender);
                var filterExistIndex = this._filtersMetadata.findIndex(function (filter) { return newFilter_1.columnDef.id === filter.columnDef.id; });
                // add to the filters arrays or replace it when found
                if (filterExistIndex === -1) {
                    this._filtersMetadata.push(newFilter_1);
                }
                else {
                    this._filtersMetadata[filterExistIndex] = newFilter_1;
                }
                // when hiding/showing (with Column Picker or Grid Menu), it will try to re-create yet again the filters (since SlickGrid does a re-render)
                // we need to also set again the values in the DOM elements if the values were set by a searchTerm(s)
                if (searchTerms && newFilter_1.setValues) {
                    newFilter_1.setValues(searchTerms);
                }
            }
        }
    };
    /**
     * Callback method that is called and executed by the individual Filter (DOM element),
     * for example when user type in a word to search (which uses InputFilter), this Filter will execute the callback from an input change event.
     */
    FilterService.prototype.callbackSearchEvent = function (event, args) {
        if (args) {
            var searchTerm = ((event && event.target) ? event.target.value : undefined);
            var searchTerms = (args.searchTerms && Array.isArray(args.searchTerms)) ? args.searchTerms : (searchTerm ? [searchTerm] : undefined);
            var columnDef = args.columnDef || null;
            var columnId = columnDef && columnDef.id || '';
            var operator = args.operator || undefined;
            var hasSearchTerms = searchTerms && Array.isArray(searchTerms);
            var termsCount = hasSearchTerms && searchTerms && searchTerms.length;
            var oldColumnFilters = tslib_1.__assign({}, this._columnFilters);
            if (columnDef && columnId) {
                if (!hasSearchTerms || termsCount === 0 || (termsCount === 1 && Array.isArray(searchTerms) && searchTerms[0] === '')) {
                    // delete the property from the columnFilters when it becomes empty
                    // without doing this, it would leave an incorrect state of the previous column filters when filtering on another column
                    delete this._columnFilters[columnId];
                }
                else {
                    var colId = '' + columnId;
                    var colFilter = {
                        columnId: colId,
                        columnDef: columnDef,
                        searchTerms: searchTerms,
                    };
                    if (operator) {
                        colFilter.operator = operator;
                    }
                    this._columnFilters[colId] = colFilter;
                }
            }
            // event might have been created as a CustomEvent (e.g. CompoundDateFilter), without being a valid Slick.EventData,
            // if so we will create a new Slick.EventData and merge it with that CustomEvent to avoid having SlickGrid errors
            var eventData = (event && typeof event.isPropagationStopped !== 'function') ? $.extend({}, new Slick.EventData(), event) : event;
            // trigger an event only if Filters changed or if ENTER key was pressed
            var eventKey = event && event.key;
            var eventKeyCode = event && event.keyCode;
            if (this._onSearchChange && (eventKey === 'Enter' || eventKeyCode === KeyCode.ENTER || !isequal(oldColumnFilters, this._columnFilters))) {
                this._onSearchChange.notify({
                    clearFilterTriggered: args.clearFilterTriggered,
                    shouldTriggerQuery: args.shouldTriggerQuery,
                    columnId: columnId,
                    columnDef: columnDef,
                    columnFilters: this._columnFilters,
                    operator: operator,
                    searchTerms: searchTerms,
                    grid: this._grid
                }, eventData);
            }
        }
    };
    /**
     * Loop through all column definitions and do the following thing
     * 1. loop through each Header Menu commands and change the "hidden" commands to show/hide depending if it's enabled/disabled
     * Also note that we aren't deleting any properties, we just toggle their flags so that we can reloop through at later point in time.
     * (if we previously deleted these properties we wouldn't be able to change them back since these properties wouldn't exist anymore, hence why we just hide the commands)
     * @param {boolean} isDisabling - are we disabling the filter functionality? Defaults to true
     */
    FilterService.prototype.disableAllFilteringCommands = function (isDisabling) {
        if (isDisabling === void 0) { isDisabling = true; }
        var columnDefinitions = this._grid.getColumns();
        // loop through column definition to hide/show header menu commands
        columnDefinitions.forEach(function (col) {
            if (col && col.header && col.header.menu) {
                col.header.menu.items.forEach(function (menuItem) {
                    if (menuItem && typeof menuItem !== 'string') {
                        var menuCommand = menuItem.command;
                        if (menuCommand === 'clear-filter') {
                            menuItem.hidden = isDisabling;
                        }
                    }
                });
            }
        });
        // loop through column definition to hide/show grid menu commands
        if (this._gridOptions && this._gridOptions.gridMenu && this._gridOptions.gridMenu.customItems) {
            this._gridOptions.gridMenu.customItems.forEach(function (menuItem) {
                if (menuItem && typeof menuItem !== 'string') {
                    var menuCommand = menuItem.command;
                    if (menuCommand === 'clear-filter' || menuCommand === 'toggle-filter') {
                        menuItem.hidden = isDisabling;
                    }
                }
            });
        }
        return columnDefinitions;
    };
    FilterService.prototype.updateColumnFilters = function (searchTerms, columnDef, operator) {
        if (searchTerms && columnDef) {
            this._columnFilters[columnDef.id] = {
                columnId: columnDef.id,
                columnDef: columnDef,
                searchTerms: searchTerms,
                operator: operator
            };
        }
    };
    FilterService.ctorParameters = function () { return [
        { type: FilterFactory },
        { type: SharedService }
    ]; };
FilterService.Éµfac = function FilterService_Factory(t) { return new (t || FilterService)(Éµngcc0.ÉµÉµinject(FilterFactory), Éµngcc0.ÉµÉµinject(SharedService)); };
FilterService.Éµprov = Éµngcc0.ÉµÉµdefineInjectable({ token: FilterService, factory: function (t) { return FilterService.Éµfac(t); } });
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(FilterService, [{
        type: Injectable
    }], function () { return [{ type: FilterFactory }, { type: SharedService }]; }, null); })();
    return FilterService;
}());
export { FilterService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLnNlcnZpY2UuanMiLCJzb3VyY2VzIjpbIm5nOi9hbmd1bGFyLXNsaWNrZ3JpZC9hcHAvbW9kdWxlcy9hbmd1bGFyLXNsaWNrZ3JpZC9zZXJ2aWNlcy9maWx0ZXIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUU3QyxPQUFPLEtBQUssUUFBUSxNQUFNLGdCQUFnQixDQUFDOztBQUMzQyxJQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsQ0FBQyw4QkFBOEI7QUFFeEQsT0FBTyxFQUtMLFdBQVcsRUFDWCxTQUFTLEVBT1QsT0FBTyxFQUVQLFlBQVksR0FJYixNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3BGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNwRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDekQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBTWpELCtDQUErQztBQUMvQyxJQUFJLEtBQVUsQ0FBQztBQUNmLElBQU0sOEJBQThCLEdBQUcsR0FBRyxDQUFDO0FBRzNDO0FBQ29CLElBWWxCLHVCQUFvQixhQUE0QixFQUFVLGFBQTRCO0FBQ3hGLFFBRHNCLGtCQUFhLEdBQWIsYUFBYSxDQUFlO0FBQUMsUUFBUyxrQkFBYSxHQUFiLGFBQWEsQ0FBZTtBQUFDLFFBWC9FLHlCQUFvQixHQUFHLElBQUksQ0FBQztBQUN0QyxRQUFVLDJCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUN0QyxRQUFVLHFCQUFnQixHQUFVLEVBQUUs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LEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFNQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQWFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQVhBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFJQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBREEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBREEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBREEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBREEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBREEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBREEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUlBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUEwQ0EsQUExQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFJQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBSUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUVBLEFBS0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBSUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFJQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFFQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUtBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQVNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBNkNBLEFBN0NBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFNQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUF4MkJBLEFBQUEsQUFBQSxBQUFBLEFBYkEsQUFBQSxBQURBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFzM0JBLEFBQUEsQUFBQSxBQUFBLEFBdDNCQSxBQXMzQkEsQUF0M0JBLEFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IGlzT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xyXG5cclxuaW1wb3J0ICogYXMgaXNlcXVhbF8gZnJvbSAnbG9kYXNoLmlzZXF1YWwnO1xyXG5jb25zdCBpc2VxdWFsID0gaXNlcXVhbF87IC8vIHBhdGNoIHRvIGZpeCByb2xsdXAgdG8gd29ya1xyXG5cclxuaW1wb3J0IHtcclxuICBDb2x1bW4sXHJcbiAgQ29sdW1uRmlsdGVyLFxyXG4gIENvbHVtbkZpbHRlcnMsXHJcbiAgQ3VycmVudEZpbHRlcixcclxuICBFbWl0dGVyVHlwZSxcclxuICBGaWVsZFR5cGUsXHJcbiAgRmlsdGVyLFxyXG4gIEZpbHRlckFyZ3VtZW50cyxcclxuICBGaWx0ZXJDYWxsYmFja0FyZyxcclxuICBGaWx0ZXJDaGFuZ2VkQXJncyxcclxuICBGaWx0ZXJDb25kaXRpb25PcHRpb24sXHJcbiAgR3JpZE9wdGlvbixcclxuICBLZXlDb2RlLFxyXG4gIE9wZXJhdG9yU3RyaW5nLFxyXG4gIE9wZXJhdG9yVHlwZSxcclxuICBTZWFyY2hUZXJtLFxyXG4gIFNsaWNrRXZlbnQsXHJcbiAgU2xpY2tFdmVudEhhbmRsZXIsXHJcbn0gZnJvbSAnLi8uLi9tb2RlbHMvaW5kZXgnO1xyXG5pbXBvcnQgeyBleGVjdXRlQmFja2VuZENhbGxiYWNrLCByZWZyZXNoQmFja2VuZERhdGFzZXQgfSBmcm9tICcuL2JhY2tlbmQtdXRpbGl0aWVzJztcclxuaW1wb3J0IHsgZ2V0RGVzY2VuZGFudFByb3BlcnR5IH0gZnJvbSAnLi91dGlsaXRpZXMnO1xyXG5pbXBvcnQgeyBGaWx0ZXJDb25kaXRpb25zIH0gZnJvbSAnLi8uLi9maWx0ZXItY29uZGl0aW9ucyc7XHJcbmltcG9ydCB7IEZpbHRlckZhY3RvcnkgfSBmcm9tICcuLi9maWx0ZXJzL2ZpbHRlckZhY3RvcnknO1xyXG5pbXBvcnQgeyBTaGFyZWRTZXJ2aWNlIH0gZnJvbSAnLi9zaGFyZWQuc2VydmljZSc7XHJcblxyXG4vLyB1c2luZyBleHRlcm5hbCBub24tdHlwZWQganMgbGlicmFyaWVzXHJcbmRlY2xhcmUgY29uc3QgU2xpY2s6IGFueTtcclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcblxyXG4vLyB0aW1lciBmb3Iga2VlcGluZyB0cmFjayBvZiB1c2VyIHR5cGluZyB3YWl0c1xyXG5sZXQgdGltZXI6IGFueTtcclxuY29uc3QgREVGQVVMVF9GSUxURVJfVFlQSU5HX0RFQk9VTkNFID0gNTAwO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgRmlsdGVyU2VydmljZSB7XHJcbiAgcHJpdmF0ZSBfZXZlbnRIYW5kbGVyOiBTbGlja0V2ZW50SGFuZGxlcjtcclxuICBwcml2YXRlIF9pc0ZpbHRlckZpcnN0UmVuZGVyID0gdHJ1ZTtcclxuICBwcml2YXRlIF9maXJzdENvbHVtbklkUmVuZGVyZWQgPSAnJztcclxuICBwcml2YXRlIF9maWx0ZXJzTWV0YWRhdGE6IGFueVtdID0gW107XHJcbiAgcHJpdmF0ZSBfY29sdW1uRmlsdGVyczogQ29sdW1uRmlsdGVycyA9IHt9O1xyXG4gIHByaXZhdGUgX2dyaWQ6IGFueTtcclxuICBwcml2YXRlIF9vblNlYXJjaENoYW5nZTogU2xpY2tFdmVudCB8IG51bGw7XHJcbiAgcHJpdmF0ZSBfdG1wUHJlRmlsdGVyZWREYXRhOiBudW1iZXJbXTtcclxuICBwcml2YXRlIGh0dHBDYW5jZWxSZXF1ZXN0cyQ6IFN1YmplY3Q8dm9pZD4gPSBuZXcgU3ViamVjdDx2b2lkPigpOyAvLyB0aGlzIHdpbGwgYmUgdXNlZCB0byBjYW5jZWwgYW55IHBlbmRpbmcgaHR0cCByZXF1ZXN0XHJcbiAgb25GaWx0ZXJDaGFuZ2VkID0gbmV3IFN1YmplY3Q8Q3VycmVudEZpbHRlcltdPigpO1xyXG4gIG9uRmlsdGVyQ2xlYXJlZCA9IG5ldyBTdWJqZWN0PGJvb2xlYW4+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZmlsdGVyRmFjdG9yeTogRmlsdGVyRmFjdG9yeSwgcHJpdmF0ZSBzaGFyZWRTZXJ2aWNlOiBTaGFyZWRTZXJ2aWNlKSB7XHJcbiAgICB0aGlzLl9ldmVudEhhbmRsZXIgPSBuZXcgU2xpY2suRXZlbnRIYW5kbGVyKCk7XHJcbiAgICB0aGlzLl9vblNlYXJjaENoYW5nZSA9IG5ldyBTbGljay5FdmVudCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldHRlciBvZiB0aGUgU2xpY2tHcmlkIEV2ZW50IEhhbmRsZXIgKi9cclxuICBnZXQgZXZlbnRIYW5kbGVyKCk6IFNsaWNrRXZlbnRIYW5kbGVyIHtcclxuICAgIHJldHVybiB0aGlzLl9ldmVudEhhbmRsZXI7XHJcbiAgfVxyXG5cclxuICAvKiogR2V0dGVyIHRvIGtub3cgaWYgdGhlIGZpbHRlciB3YXMgYWxyZWFkeSByZW5kZXJlZCBvciBpZiBpdCB3YXMgaXRzIGZpcnN0IHRpbWUgcmVuZGVyICovXHJcbiAgZ2V0IGlzRmlsdGVyRmlyc3RSZW5kZXIoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNGaWx0ZXJGaXJzdFJlbmRlcjtcclxuICB9XHJcblxyXG4gIC8qKiBHZXR0ZXIgb2YgdGhlIFNsaWNrR3JpZCBFdmVudCBIYW5kbGVyICovXHJcbiAgZ2V0IG9uU2VhcmNoQ2hhbmdlKCk6IFNsaWNrRXZlbnQgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLl9vblNlYXJjaENoYW5nZTtcclxuICB9XHJcblxyXG4gIC8qKiBHZXR0ZXIgZm9yIHRoZSBHcmlkIE9wdGlvbnMgcHVsbGVkIHRocm91Z2ggdGhlIEdyaWQgT2JqZWN0ICovXHJcbiAgcHJpdmF0ZSBnZXQgX2dyaWRPcHRpb25zKCk6IEdyaWRPcHRpb24ge1xyXG4gICAgcmV0dXJuICh0aGlzLl9ncmlkICYmIHRoaXMuX2dyaWQuZ2V0T3B0aW9ucykgPyB0aGlzLl9ncmlkLmdldE9wdGlvbnMoKSA6IHt9O1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldHRlciBmb3IgdGhlIENvbHVtbiBEZWZpbml0aW9ucyBwdWxsZWQgdGhyb3VnaCB0aGUgR3JpZCBPYmplY3QgKi9cclxuICBwcml2YXRlIGdldCBfY29sdW1uRGVmaW5pdGlvbnMoKTogQ29sdW1uW10ge1xyXG4gICAgcmV0dXJuICh0aGlzLl9ncmlkICYmIHRoaXMuX2dyaWQuZ2V0Q29sdW1ucykgPyB0aGlzLl9ncmlkLmdldENvbHVtbnMoKSA6IFtdO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldHRlciBvZiBTbGlja0dyaWQgRGF0YVZpZXcgb2JqZWN0ICovXHJcbiAgcHJpdmF0ZSBnZXQgX2RhdGFWaWV3KCk6IGFueSB7XHJcbiAgICByZXR1cm4gKHRoaXMuX2dyaWQgJiYgdGhpcy5fZ3JpZC5nZXREYXRhKSA/IHRoaXMuX2dyaWQuZ2V0RGF0YSgpIDoge307XHJcbiAgfVxyXG5cclxuICBpbml0KGdyaWQ6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5fZ3JpZCA9IGdyaWQ7XHJcblxyXG4gICAgaWYgKHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLmVuYWJsZVRyZWVEYXRhICYmIHRoaXMuX2dyaWRPcHRpb25zLnRyZWVEYXRhT3B0aW9ucykge1xyXG4gICAgICB0aGlzLl9ncmlkLnNldFNvcnRDb2x1bW5zKFt7IGNvbHVtbklkOiB0aGlzLl9ncmlkT3B0aW9ucy50cmVlRGF0YU9wdGlvbnMuY29sdW1uSWQsIHNvcnRBc2M6IHRydWUgfV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGlzcG9zZSgpIHtcclxuICAgIC8vIHVuc3Vic2NyaWJlIGFsbCBTbGlja0dyaWQgZXZlbnRzXHJcbiAgICBpZiAodGhpcy5fZXZlbnRIYW5kbGVyICYmIHRoaXMuX2V2ZW50SGFuZGxlci51bnN1YnNjcmliZUFsbCkge1xyXG4gICAgICB0aGlzLl9ldmVudEhhbmRsZXIudW5zdWJzY3JpYmVBbGwoKTtcclxuICAgIH1cclxuICAgIGlmIChpc09ic2VydmFibGUodGhpcy5odHRwQ2FuY2VsUmVxdWVzdHMkKSkge1xyXG4gICAgICB0aGlzLmh0dHBDYW5jZWxSZXF1ZXN0cyQubmV4dCgpOyAvLyB0aGlzIGNhbmNlbHMgYW55IHBlbmRpbmcgaHR0cCByZXF1ZXN0c1xyXG4gICAgfVxyXG4gICAgdGhpcy5kaXNwb3NlQ29sdW1uRmlsdGVycygpO1xyXG4gICAgdGhpcy5fb25TZWFyY2hDaGFuZ2UgPSBudWxsO1xyXG4gICAgdGhpcy5hZGRGaWx0ZXJUZW1wbGF0ZVRvSGVhZGVyUm93ID0gbnVsbDtcclxuICAgIHRoaXMuY3VzdG9tTG9jYWxGaWx0ZXIgPSBudWxsO1xyXG4gICAgdGhpcy5jYWxsYmFja1NlYXJjaEV2ZW50ID0gbnVsbDtcclxuICAgIHRoaXMuaGFuZGxlQmFja2VuZE9uU2VhcmNoQ2hhbmdlID0gbnVsbDtcclxuICAgIHRoaXMuaGFuZGxlTG9jYWxPblNlYXJjaENoYW5nZSA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEaXNwb3NlIG9mIHRoZSBmaWx0ZXJzLCBzaW5jZSBpdCdzIGEgc2luZ2xldG9uLCB3ZSBkb24ndCB3YW50IHRvIGFmZmVjdCBvdGhlciBncmlkcyB3aXRoIHNhbWUgY29sdW1uc1xyXG4gICAqL1xyXG4gIGRpc3Bvc2VDb2x1bW5GaWx0ZXJzKCkge1xyXG4gICAgLy8gd2UgbmVlZCB0byBsb29wIHRocm91Z2ggYWxsIGNvbHVtbkZpbHRlcnMgYW5kIGRlbGV0ZSB0aGVtIDEgYnkgMVxyXG4gICAgLy8gb25seSB0cnlpbmcgdG8gbWFrZSBjb2x1bW5GaWx0ZXIgYW4gZW1wdHkgKHdpdGhvdXQgbG9vcGluZykgd291bGQgbm90IHRyaWdnZXIgYSBkYXRhc2V0IGNoYW5nZVxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9jb2x1bW5GaWx0ZXJzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICBmb3IgKGNvbnN0IGNvbHVtbklkIGluIHRoaXMuX2NvbHVtbkZpbHRlcnMpIHtcclxuICAgICAgICBpZiAoY29sdW1uSWQgJiYgdGhpcy5fY29sdW1uRmlsdGVyc1tjb2x1bW5JZF0pIHtcclxuICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb2x1bW5GaWx0ZXJzW2NvbHVtbklkXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBhbHNvIGRlc3Ryb3kgZWFjaCBGaWx0ZXIgaW5zdGFuY2VzXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9maWx0ZXJzTWV0YWRhdGEpKSB7XHJcbiAgICAgIHRoaXMuX2ZpbHRlcnNNZXRhZGF0YS5mb3JFYWNoKChmaWx0ZXIpID0+IHtcclxuICAgICAgICBpZiAoZmlsdGVyICYmIGZpbHRlci5kZXN0cm95KSB7XHJcbiAgICAgICAgICBmaWx0ZXIuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fZmlsdGVyc01ldGFkYXRhID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGVuIGNsZWFyaW5nIG9yIGRpc3Bvc2luZyBvZiBhbGwgZmlsdGVycywgd2UgbmVlZCB0byBsb29wIHRocm91Z2ggYWxsIGNvbHVtbkZpbHRlcnMgYW5kIGRlbGV0ZSB0aGVtIDEgYnkgMVxyXG4gICAqIG9ubHkgdHJ5aW5nIHRvIG1ha2UgY29sdW1uRmlsdGVyIGFuIGVtcHR5ICh3aXRob3V0IGxvb3BpbmcpIHdvdWxkIG5vdCB0cmlnZ2VyIGEgZGF0YXNldCBjaGFuZ2VcclxuICAgKi9cclxuICByZXNldENvbHVtbkZpbHRlcnMoKSB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMuX2NvbHVtbkZpbHRlcnMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGZvciAoY29uc3QgY29sdW1uSWQgaW4gdGhpcy5fY29sdW1uRmlsdGVycykge1xyXG4gICAgICAgIGlmIChjb2x1bW5JZCAmJiB0aGlzLl9jb2x1bW5GaWx0ZXJzW2NvbHVtbklkXSkge1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbHVtbkZpbHRlcnNbY29sdW1uSWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQmluZCBhIGJhY2tlbmQgZmlsdGVyIGhvb2sgdG8gdGhlIGdyaWRcclxuICAgKiBAcGFyYW0gZ3JpZCBTbGlja0dyaWQgR3JpZCBvYmplY3RcclxuICAgKi9cclxuICBiaW5kQmFja2VuZE9uRmlsdGVyKGdyaWQ6IGFueSkge1xyXG4gICAgdGhpcy5fZmlsdGVyc01ldGFkYXRhID0gW107XHJcblxyXG4gICAgLy8gc3Vic2NyaWJlIHRvIFNsaWNrR3JpZCBvbkhlYWRlclJvd0NlbGxSZW5kZXJlZCBldmVudCB0byBjcmVhdGUgZmlsdGVyIHRlbXBsYXRlXHJcbiAgICB0aGlzLl9ldmVudEhhbmRsZXIuc3Vic2NyaWJlKGdyaWQub25IZWFkZXJSb3dDZWxsUmVuZGVyZWQsIHRoaXMuaGFuZGxlQmFja2VuZE9uU2VhcmNoQ2hhbmdlLmJpbmQodGhpcykpO1xyXG5cclxuICAgIC8vIHN1YnNjcmliZSB0byB0aGUgU2xpY2tHcmlkIGV2ZW50IGFuZCBjYWxsIHRoZSBiYWNrZW5kIGV4ZWN1dGlvblxyXG4gICAgaWYgKHRoaXMuX29uU2VhcmNoQ2hhbmdlKSB7XHJcbiAgICAgIHRoaXMuX2V2ZW50SGFuZGxlci5zdWJzY3JpYmUodGhpcy5fb25TZWFyY2hDaGFuZ2UsIHRoaXMub25CYWNrZW5kRmlsdGVyQ2hhbmdlLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQmFja2VuZE9uU2VhcmNoQ2hhbmdlKF9lOiBLZXlib2FyZEV2ZW50LCBhcmdzOiBhbnkpIHtcclxuICAgIC8vIGZpcnN0Q29sdW1uSWRSZW5kZXJlZCBpcyBudWxsIGF0IGZpcnN0LCBzbyBpZiBpdCBjaGFuZ2VzIHRvIGJlaW5nIGZpbGxlZCBhbmQgZXF1YWwsIHRoZW4gd2Ugd291bGQga25vdyB0aGF0IGl0IHdhcyBhbHJlYWR5IHJlbmRlcmVkXHJcbiAgICAvLyB0aGlzIGlzIHRvIGF2b2lkIHJlbmRlcmluZyB0aGUgZmlsdGVyIHR3aWNlIChvbmx5IHRoZSBTZWxlY3QgRmlsdGVyIGZvciBub3cpLCByZW5kZXJpbmcgaXQgYWdhaW4gYWxzbyBjbGVhcnMgdGhlIGZpbHRlciB3aGljaCBoYXMgdW53YW50ZWQgc2lkZSBlZmZlY3RcclxuICAgIGlmIChhcmdzLmNvbHVtbi5pZCA9PT0gdGhpcy5fZmlyc3RDb2x1bW5JZFJlbmRlcmVkKSB7XHJcbiAgICAgIHRoaXMuX2lzRmlsdGVyRmlyc3RSZW5kZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuYWRkRmlsdGVyVGVtcGxhdGVUb0hlYWRlclJvdyhudWxsLCBhcmdzLCB0aGlzLl9pc0ZpbHRlckZpcnN0UmVuZGVyKTtcclxuICAgIGlmICh0aGlzLl9maXJzdENvbHVtbklkUmVuZGVyZWQgPT09ICcnKSB7XHJcbiAgICAgIHRoaXMuX2ZpcnN0Q29sdW1uSWRSZW5kZXJlZCA9IGFyZ3MuY29sdW1uLmlkO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQmluZCBhIGxvY2FsIGZpbHRlciBob29rIHRvIHRoZSBncmlkXHJcbiAgICogQHBhcmFtIGdyaWQgU2xpY2tHcmlkIEdyaWQgb2JqZWN0XHJcbiAgICogQHBhcmFtIGRhdGFWaWV3XHJcbiAgICovXHJcbiAgYmluZExvY2FsT25GaWx0ZXIoZ3JpZDogYW55KSB7XHJcbiAgICB0aGlzLl9maWx0ZXJzTWV0YWRhdGEgPSBbXTtcclxuXHJcbiAgICB0aGlzLl9kYXRhVmlldy5zZXRGaWx0ZXJBcmdzKHsgY29sdW1uRmlsdGVyczogdGhpcy5fY29sdW1uRmlsdGVycywgZ3JpZDogdGhpcy5fZ3JpZCwgZGF0YVZpZXc6IHRoaXMuX2RhdGFWaWV3IH0pO1xyXG4gICAgdGhpcy5fZGF0YVZpZXcuc2V0RmlsdGVyKHRoaXMuY3VzdG9tTG9jYWxGaWx0ZXIuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgLy8gYmluZCBhbnkgc2VhcmNoIGZpbHRlciBjaGFuZ2UgKGUuZy4gaW5wdXQgZmlsdGVyIGlucHV0IGNoYW5nZSBldmVudClcclxuICAgIGlmICh0aGlzLl9vblNlYXJjaENoYW5nZSkge1xyXG4gICAgICB0aGlzLl9ldmVudEhhbmRsZXIuc3Vic2NyaWJlKHRoaXMuX29uU2VhcmNoQ2hhbmdlLCB0aGlzLmhhbmRsZUxvY2FsT25TZWFyY2hDaGFuZ2UuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAvLyBzdWJzY3JpYmUgdG8gU2xpY2tHcmlkIG9uSGVhZGVyUm93Q2VsbFJlbmRlcmVkIGV2ZW50IHRvIGNyZWF0ZSBmaWx0ZXIgdGVtcGxhdGVcclxuICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyLnN1YnNjcmliZShncmlkLm9uSGVhZGVyUm93Q2VsbFJlbmRlcmVkLCB0aGlzLmFkZEZpbHRlclRlbXBsYXRlVG9IZWFkZXJSb3cuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVMb2NhbE9uU2VhcmNoQ2hhbmdlKF9lOiBLZXlib2FyZEV2ZW50LCBhcmdzOiBhbnkpIHtcclxuICAgIGNvbnN0IGlzR3JpZFdpdGhUcmVlRGF0YSA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLmVuYWJsZVRyZWVEYXRhIHx8IGZhbHNlO1xyXG5cclxuICAgIC8vIFdoZW4gdXNpbmcgVHJlZSBEYXRhLCB3ZSBuZWVkIHRvIGRvIGl0IGluIDIgc3RlcHNcclxuICAgIC8vIHN0ZXAgMS4gd2UgbmVlZCB0byBwcmVmaWx0ZXIgKHNlYXJjaCkgdGhlIGRhdGEgcHJpb3IsIHRoZSByZXN1bHQgd2lsbCBiZSBhbiBhcnJheSBvZiBJRHMgd2hpY2ggYXJlIHRoZSBub2RlKHMpIGFuZCB0aGVpciBwYXJlbnQgbm9kZXMgd2hlbiBuZWNlc3NhcnkuXHJcbiAgICAvLyBzdGVwIDIuIGNhbGxpbmcgdGhlIERhdGFWaWV3LnJlZnJlc2goKSBpcyB3aGF0IHRyaWdnZXJzIHRoZSBmaW5hbCBmaWx0ZXJpbmcsIHdpdGggXCJjdXN0b21Mb2NhbEZpbHRlcigpXCIgd2hpY2ggd2lsbCBkZWNpZGUgd2hpY2ggcm93cyBzaG91bGQgcGVyc2lzdFxyXG4gICAgaWYgKGlzR3JpZFdpdGhUcmVlRGF0YSkge1xyXG4gICAgICB0aGlzLl90bXBQcmVGaWx0ZXJlZERhdGEgPSB0aGlzLnByZUZpbHRlclRyZWVEYXRhKHRoaXMuX2RhdGFWaWV3LmdldEl0ZW1zKCksIHRoaXMuX2NvbHVtbkZpbHRlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbHVtbklkID0gYXJncy5jb2x1bW5JZDtcclxuICAgIGlmIChjb2x1bW5JZCAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLl9kYXRhVmlldy5yZWZyZXNoKCk7XHJcbiAgICB9XHJcbiAgICAvLyBlbWl0IGFuIG9uRmlsdGVyQ2hhbmdlZCBldmVudCB3aGVuIGl0J3Mgbm90IGNhbGxlZCBieSBhIGNsZWFyIGZpbHRlclxyXG4gICAgaWYgKGFyZ3MgJiYgIWFyZ3MuY2xlYXJGaWx0ZXJUcmlnZ2VyZWQpIHtcclxuICAgICAgdGhpcy5lbWl0RmlsdGVyQ2hhbmdlZChFbWl0dGVyVHlwZS5sb2NhbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhckZpbHRlckJ5Q29sdW1uSWQoZXZlbnQ6IEV2ZW50LCBjb2x1bW5JZDogbnVtYmVyIHwgc3RyaW5nKSB7XHJcbiAgICAvLyBnZXQgY3VycmVudCBjb2x1bW4gZmlsdGVyIGJlZm9yZSBjbGVhcmluZywgdGhpcyBhbGxvdyB1cyB0byBrbm93IGlmIHRoZSBmaWx0ZXIgd2FzIGVtcHR5IHByaW9yIHRvIGNhbGxpbmcgdGhlIGNsZWFyIGZpbHRlclxyXG4gICAgY29uc3QgY3VycmVudENvbHVtbkZpbHRlcnMgPSBPYmplY3Qua2V5cyh0aGlzLl9jb2x1bW5GaWx0ZXJzKSBhcyBDb2x1bW5GaWx0ZXJbXTtcclxuICAgIGxldCBjdXJyZW50Q29sRmlsdGVyOiBDb2x1bW5GaWx0ZXI7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50Q29sdW1uRmlsdGVycykpIHtcclxuICAgICAgY3VycmVudENvbEZpbHRlciA9IGN1cnJlbnRDb2x1bW5GaWx0ZXJzLmZpbmQoKG5hbWUpID0+IG5hbWUgPT09IGNvbHVtbklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaW5kIHRoZSBmaWx0ZXIgb2JqZWN0IGFuZCBjYWxsIGl0cyBjbGVhciBtZXRob2Qgd2l0aCB0cnVlICh0aGUgYXJndW1lbnQgdGVsbHMgdGhlIG1ldGhvZCBpdCB3YXMgY2FsbGVkIGJ5IGEgY2xlYXIgZmlsdGVyKVxyXG4gICAgY29uc3QgY29sRmlsdGVyOiBGaWx0ZXIgPSB0aGlzLl9maWx0ZXJzTWV0YWRhdGEuZmluZCgoZmlsdGVyOiBGaWx0ZXIpID0+IGZpbHRlci5jb2x1bW5EZWYuaWQgPT09IGNvbHVtbklkKTtcclxuICAgIGlmIChjb2xGaWx0ZXIgJiYgY29sRmlsdGVyLmNsZWFyKSB7XHJcbiAgICAgIGNvbEZpbHRlci5jbGVhcih0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZW1pdHRlcjogRW1pdHRlclR5cGUgPSBFbWl0dGVyVHlwZS5sb2NhbDtcclxuICAgIGNvbnN0IGlzQmFja2VuZEFwaSA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLmJhY2tlbmRTZXJ2aWNlQXBpIHx8IGZhbHNlO1xyXG5cclxuICAgIC8vIHdoZW4gdXNpbmcgYSBiYWNrZW5kIHNlcnZpY2UsIHdlIG5lZWQgdG8gbWFudWFsbHkgdHJpZ2dlciBhIGZpbHRlciBjaGFuZ2UgYnV0IG9ubHkgaWYgdGhlIGZpbHRlciB3YXMgcHJldmlvdXNseSBmaWxsZWRcclxuICAgIGlmIChpc0JhY2tlbmRBcGkpIHtcclxuICAgICAgZW1pdHRlciA9IEVtaXR0ZXJUeXBlLnJlbW90ZTtcclxuICAgICAgaWYgKGN1cnJlbnRDb2xGaWx0ZXIpIHtcclxuICAgICAgICB0aGlzLm9uQmFja2VuZEZpbHRlckNoYW5nZShldmVudCBhcyBLZXlib2FyZEV2ZW50LCB7IGdyaWQ6IHRoaXMuX2dyaWQsIGNvbHVtbkZpbHRlcnM6IHRoaXMuX2NvbHVtbkZpbHRlcnMgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBlbWl0IGFuIGV2ZW50IHdoZW4gZmlsdGVyIGlzIGNsZWFyZWRcclxuICAgIHRoaXMuZW1pdEZpbHRlckNoYW5nZWQoZW1pdHRlcik7XHJcbiAgfVxyXG5cclxuICAvKiogQ2xlYXIgdGhlIHNlYXJjaCBmaWx0ZXJzIChiZWxvdyB0aGUgY29sdW1uIHRpdGxlcykgKi9cclxuICBjbGVhckZpbHRlcnModHJpZ2dlckNoYW5nZSA9IHRydWUpIHtcclxuICAgIHRoaXMuX2ZpbHRlcnNNZXRhZGF0YS5mb3JFYWNoKChmaWx0ZXI6IEZpbHRlcikgPT4ge1xyXG4gICAgICBpZiAoZmlsdGVyICYmIGZpbHRlci5jbGVhcikge1xyXG4gICAgICAgIC8vIGNsZWFyIGVsZW1lbnQgYnV0IGRvbid0IHRyaWdnZXIgaW5kaXZpZHVhbCBjbGVhciBjaGFuZ2UsXHJcbiAgICAgICAgLy8gd2UnbGwgZG8gMSB0cmlnZ2VyIGZvciBhbGwgZmlsdGVycyBhdCBvbmNlIGFmdGVyd2FyZFxyXG4gICAgICAgIGZpbHRlci5jbGVhcihmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsc28gcmVzZXQgdGhlIGNvbHVtbkZpbHRlcnMgb2JqZWN0IGFuZCByZW1vdmUgYW55IGZpbHRlcnMgZnJvbSB0aGUgb2JqZWN0XHJcbiAgICB0aGlzLnJlc2V0Q29sdW1uRmlsdGVycygpO1xyXG5cclxuICAgIC8vIHdlIGFsc28gbmVlZCB0byByZWZyZXNoIHRoZSBkYXRhVmlldyBhbmQgb3B0aW9uYWxseSB0aGUgZ3JpZCAoaXQncyBvcHRpb25hbCBzaW5jZSB3ZSB1c2UgRGF0YVZpZXcpXHJcbiAgICBpZiAodGhpcy5fZGF0YVZpZXcgJiYgdGhpcy5fZ3JpZCkge1xyXG4gICAgICB0aGlzLl9kYXRhVmlldy5yZWZyZXNoKCk7XHJcbiAgICAgIHRoaXMuX2dyaWQuaW52YWxpZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHdoZW4gdXNpbmcgYmFja2VuZCBzZXJ2aWNlLCB3ZSBuZWVkIHRvIHF1ZXJ5IG9ubHkgb25jZSBzbyBpdCdzIGJldHRlciB0byBkbyBpdCBoZXJlXHJcbiAgICBjb25zdCBiYWNrZW5kQXBpID0gdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMuYmFja2VuZFNlcnZpY2VBcGk7XHJcbiAgICBpZiAoYmFja2VuZEFwaSAmJiB0cmlnZ2VyQ2hhbmdlKSB7XHJcbiAgICAgIGNvbnN0IGNhbGxiYWNrQXJncyA9IHsgY2xlYXJGaWx0ZXJUcmlnZ2VyZWQ6IHRydWUsIHNob3VsZFRyaWdnZXJRdWVyeTogdHJpZ2dlckNoYW5nZSwgZ3JpZDogdGhpcy5fZ3JpZCwgY29sdW1uRmlsdGVyczogdGhpcy5fY29sdW1uRmlsdGVycyB9O1xyXG4gICAgICBjb25zdCBxdWVyeVJlc3BvbnNlID0gYmFja2VuZEFwaS5zZXJ2aWNlLnByb2Nlc3NPbkZpbHRlckNoYW5nZWQodW5kZWZpbmVkLCBjYWxsYmFja0FyZ3MgYXMgRmlsdGVyQ2hhbmdlZEFyZ3MpO1xyXG4gICAgICBpZiAocXVlcnlSZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UgJiYgcXVlcnlSZXNwb25zZS50aGVuKSB7XHJcbiAgICAgICAgLy8gQGRlcHJlY2F0ZWQsIHByb2Nlc3NPbkZpbHRlckNoYW5nZWQgaW4gdGhlIGZ1dHVyZSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgYSBxdWVyeSBzdHJpbmcgTk9UIGFzIGEgUHJvbWlzZVxyXG4gICAgICAgIGNvbnNvbGUud2FybihgW0FuZ3VsYXItU2xpY2tncmlkXSBwbGVhc2Ugbm90ZSB0aGF0IHRoZSBcInByb2Nlc3NPbkZpbHRlckNoYW5nZWRcIiBmcm9tIHlvdXIgQmFja2VuZCBTZXJ2aWNlLCBzaG91bGQgbm93IHJldHVybiBhIHN0cmluZyBpbnN0ZWFkIG9mIGEgUHJvbWlzZS5cclxuICAgICAgICAgIFJldHVybmluZyBhIFByb21pc2Ugd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSBmdXR1cmUuYCk7XHJcbiAgICAgICAgcXVlcnlSZXNwb25zZS50aGVuKChxdWVyeTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB0b3RhbEl0ZW1zID0gdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMucGFnaW5hdGlvbiAmJiB0aGlzLl9ncmlkT3B0aW9ucy5wYWdpbmF0aW9uLnRvdGFsSXRlbXM7XHJcbiAgICAgICAgICBleGVjdXRlQmFja2VuZENhbGxiYWNrKGJhY2tlbmRBcGksIHF1ZXJ5LCBjYWxsYmFja0FyZ3MsIG5ldyBEYXRlKCksIHRvdGFsSXRlbXMsIHRoaXMuZW1pdEZpbHRlckNoYW5nZWQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBxdWVyeVJlc3BvbnNlIGFzIHN0cmluZztcclxuICAgICAgICBjb25zdCB0b3RhbEl0ZW1zID0gdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMucGFnaW5hdGlvbiAmJiB0aGlzLl9ncmlkT3B0aW9ucy5wYWdpbmF0aW9uLnRvdGFsSXRlbXM7XHJcbiAgICAgICAgZXhlY3V0ZUJhY2tlbmRDYWxsYmFjayhiYWNrZW5kQXBpLCBxdWVyeSwgY2FsbGJhY2tBcmdzLCBuZXcgRGF0ZSgpLCB0b3RhbEl0ZW1zLCB0aGlzLmVtaXRGaWx0ZXJDaGFuZ2VkLmJpbmQodGhpcykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZW1pdCBhbiBldmVudCB3aGVuIGZpbHRlcnMgYXJlIGFsbCBjbGVhcmVkXHJcbiAgICBpZiAodHJpZ2dlckNoYW5nZSkge1xyXG4gICAgICB0aGlzLm9uRmlsdGVyQ2xlYXJlZC5uZXh0KHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIExvY2FsIEdyaWQgRmlsdGVyIHNlYXJjaCAqL1xyXG4gIGN1c3RvbUxvY2FsRmlsdGVyKGl0ZW06IGFueSwgYXJnczogYW55KTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBkYXRhVmlldyA9IGFyZ3MgJiYgYXJncy5kYXRhVmlldztcclxuICAgIGNvbnN0IGdyaWQgPSBhcmdzICYmIGFyZ3MuZ3JpZDtcclxuICAgIGNvbnN0IGlzR3JpZFdpdGhUcmVlRGF0YSA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLmVuYWJsZVRyZWVEYXRhIHx8IGZhbHNlO1xyXG4gICAgY29uc3QgY29sdW1uRmlsdGVycyA9IGFyZ3MgJiYgYXJncy5jb2x1bW5GaWx0ZXJzIHx8IHt9O1xyXG4gICAgbGV0IHRyZWVEYXRhT3B0aW9ucztcclxuXHJcbiAgICAvLyB3aGVuIHRoZSBjb2x1bW4gaXMgYSBUcmVlIERhdGEgc3RydWN0dXJlIGFuZCB0aGUgcGFyZW50IGlzIGNvbGxhcHNlZCwgd2Ugd29uJ3QgZ28gZnVydGhlciBhbmQganVzdCBjb250aW51ZSB3aXRoIG5leHQgcm93XHJcbiAgICAvLyBzbyB3ZSBhbHdheXMgcnVuIHRoaXMgY2hlY2sgZXZlbiB3aGVuIHRoZXJlIGFyZSBubyBmaWx0ZXIgc2VhcmNoLCB0aGUgcmVhc29uIGlzIGJlY2F1c2UgdGhlIHVzZXIgbWlnaHQgY2xpY2sgb24gdGhlIGV4cGFuZC9jb2xsYXBzZVxyXG4gICAgaWYgKGlzR3JpZFdpdGhUcmVlRGF0YSAmJiB0aGlzLl9ncmlkT3B0aW9ucyAmJiB0aGlzLl9ncmlkT3B0aW9ucy50cmVlRGF0YU9wdGlvbnMpIHtcclxuICAgICAgdHJlZURhdGFPcHRpb25zID0gdGhpcy5fZ3JpZE9wdGlvbnMudHJlZURhdGFPcHRpb25zO1xyXG4gICAgICBjb25zdCBjb2xsYXBzZWRQcm9wTmFtZSA9IHRyZWVEYXRhT3B0aW9ucy5jb2xsYXBzZWRQcm9wTmFtZSB8fCAnX19jb2xsYXBzZWQnO1xyXG4gICAgICBjb25zdCBwYXJlbnRQcm9wTmFtZSA9IHRyZWVEYXRhT3B0aW9ucy5wYXJlbnRQcm9wTmFtZSB8fCAnX19wYXJlbnRJZCc7XHJcbiAgICAgIGNvbnN0IGRhdGFWaWV3SWRJZGVudGlmaWVyID0gdGhpcy5fZ3JpZE9wdGlvbnMuZGF0YXNldElkUHJvcGVydHlOYW1lIHx8ICdpZCc7XHJcblxyXG4gICAgICBpZiAoaXRlbVtwYXJlbnRQcm9wTmFtZV0gIT09IG51bGwpIHtcclxuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5fZGF0YVZpZXcuZ2V0SXRlbUJ5SWQoaXRlbVtwYXJlbnRQcm9wTmFtZV0pO1xyXG4gICAgICAgIHdoaWxlIChwYXJlbnQpIHtcclxuICAgICAgICAgIGlmIChwYXJlbnRbY29sbGFwc2VkUHJvcE5hbWVdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gZG9uJ3QgZGlzcGxheSBhbnkgcm93IHRoYXQgaGF2ZSB0aGVpciBwYXJlbnQgY29sbGFwc2VkXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzLl9kYXRhVmlldy5nZXRJdGVtQnlJZChwYXJlbnRbcGFyZW50UHJvcE5hbWVdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGZpbHRlciBvdXQgYW55IHJvdyBpdGVtcyB0aGF0IGFyZW4ndCBwYXJ0IG9mIG91ciBwcmUtcHJvY2Vzc2VkIFwicHJlRmlsdGVyVHJlZURhdGEoKVwiIHJlc3VsdFxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl90bXBQcmVGaWx0ZXJlZERhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RtcFByZUZpbHRlcmVkRGF0YS5pbmNsdWRlcyhpdGVtW2RhdGFWaWV3SWRJZGVudGlmaWVyXSk7IC8vIHJldHVybiB0cnVlIHdoZW4gZm91bmQsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodHlwZW9mIGNvbHVtbkZpbHRlcnMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjb2x1bW5JZCBvZiBPYmplY3Qua2V5cyhjb2x1bW5GaWx0ZXJzKSkge1xyXG4gICAgICAgICAgY29uc3QgY29sdW1uRmlsdGVyID0gY29sdW1uRmlsdGVyc1tjb2x1bW5JZF0gYXMgQ29sdW1uRmlsdGVyO1xyXG4gICAgICAgICAgY29uc3QgY29uZGl0aW9uT3B0aW9ucyA9IHRoaXMuZ2V0RmlsdGVyQ29uZGl0aW9uT3B0aW9uc09yQm9vbGVhbihpdGVtLCBjb2x1bW5GaWx0ZXIsIGNvbHVtbklkLCBncmlkLCBkYXRhVmlldyk7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmRpdGlvbk9wdGlvbnMgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZGl0aW9uT3B0aW9ucztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoIUZpbHRlckNvbmRpdGlvbnMuZXhlY3V0ZU1hcHBlZENvbmRpdGlvbihjb25kaXRpb25PcHRpb25zIGFzIEZpbHRlckNvbmRpdGlvbk9wdGlvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIGl0IHJlYWNoZXMgaGVyZSwgdGhhdCBtZWFucyB0aGUgcm93IGlzIHZhbGlkIGFuZCBwYXNzZWQgYWxsIGZpbHRlclxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBnZXRGaWx0ZXJDb25kaXRpb25PcHRpb25zT3JCb29sZWFuKGl0ZW06IGFueSwgY29sdW1uRmlsdGVyOiBDb2x1bW5GaWx0ZXIsIGNvbHVtbklkOiBzdHJpbmcgfCBudW1iZXIsIGdyaWQ6IGFueSwgZGF0YVZpZXc6IGFueSk6IEZpbHRlckNvbmRpdGlvbk9wdGlvbiB8IGJvb2xlYW4ge1xyXG4gICAgbGV0IGNvbHVtbkluZGV4ID0gZ3JpZC5nZXRDb2x1bW5JbmRleChjb2x1bW5JZCkgYXMgbnVtYmVyO1xyXG4gICAgbGV0IGNvbHVtbkRlZiA9IGdyaWQuZ2V0Q29sdW1ucygpW2NvbHVtbkluZGV4XSBhcyBDb2x1bW47XHJcblxyXG4gICAgLy8gaXQgbWlnaHQgYmUgYSBoaWRkZW4gY29sdW1uLCBpZiBzbyBpdCB3b24ndCBiZSBwYXJ0IG9mIHRoZSBnZXRDb2x1bW5zIChiZWNhdXNlIGl0IHdlIGhpZGUgYSBjb2x1bW4gdmlhIHNldENvbHVtbnMpXHJcbiAgICAvLyB3aGVuIHRoYXQgaGFwcGVucyB3ZSBjYW4gdHJ5IHRvIGdldCB0aGUgY29sdW1uIGRlZmluaXRpb24gZnJvbSBhbGwgZGVmaW5lZCBjb2x1bW5zXHJcbiAgICBpZiAoIWNvbHVtbkRlZiAmJiB0aGlzLnNoYXJlZFNlcnZpY2UgJiYgQXJyYXkuaXNBcnJheSh0aGlzLnNoYXJlZFNlcnZpY2UuYWxsQ29sdW1ucykpIHtcclxuICAgICAgY29sdW1uSW5kZXggPSB0aGlzLnNoYXJlZFNlcnZpY2UuYWxsQ29sdW1ucy5maW5kSW5kZXgoKGNvbCkgPT4gY29sLmZpZWxkID09PSBjb2x1bW5JZCk7XHJcbiAgICAgIGNvbHVtbkRlZiA9IHRoaXMuc2hhcmVkU2VydmljZS5hbGxDb2x1bW5zW2NvbHVtbkluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiB3ZSBzdGlsbCBkb24ndCBoYXZlIGEgY29sdW1uIGRlZmluaXRpb24gdGhlbiB3ZSBzaG91bGQgcmV0dXJuIHRoZW4gcm93IGFueXdheSAodHJ1ZSlcclxuICAgIGlmICghY29sdW1uRGVmKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJvdyBEZXRhaWwgVmlldyBwbHVnaW4sIGlmIHRoZSByb3cgaXMgcGFkZGluZyB3ZSBqdXN0IGdldCB0aGUgdmFsdWUgd2UncmUgZmlsdGVyaW5nIG9uIGZyb20gaXQncyBwYXJlbnRcclxuICAgIGlmICh0aGlzLl9ncmlkT3B0aW9ucy5lbmFibGVSb3dEZXRhaWxWaWV3KSB7XHJcbiAgICAgIGNvbnN0IG1ldGFkYXRhUHJlZml4ID0gdGhpcy5fZ3JpZE9wdGlvbnMucm93RGV0YWlsVmlldyAmJiB0aGlzLl9ncmlkT3B0aW9ucy5yb3dEZXRhaWxWaWV3LmtleVByZWZpeCB8fCAnX18nO1xyXG4gICAgICBpZiAoaXRlbVtgJHttZXRhZGF0YVByZWZpeH1pc1BhZGRpbmdgXSAmJiBpdGVtW2Ake21ldGFkYXRhUHJlZml4fXBhcmVudGBdKSB7XHJcbiAgICAgICAgaXRlbSA9IGl0ZW1bYCR7bWV0YWRhdGFQcmVmaXh9cGFyZW50YF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhS2V5ID0gY29sdW1uRGVmLmRhdGFLZXk7XHJcbiAgICBsZXQgcXVlcnlGaWVsZE5hbWUgPSAoY29sdW1uRGVmLmZpbHRlciAmJiBjb2x1bW5EZWYuZmlsdGVyLnF1ZXJ5RmllbGQpIHx8IGNvbHVtbkRlZi5xdWVyeUZpZWxkRmlsdGVyIHx8IGNvbHVtbkRlZi5xdWVyeUZpZWxkIHx8IGNvbHVtbkRlZi5maWVsZCB8fCAnJztcclxuICAgIGlmICh0eXBlb2YgY29sdW1uRGVmLnF1ZXJ5RmllbGROYW1lR2V0dGVyRm4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgcXVlcnlGaWVsZE5hbWUgPSBjb2x1bW5EZWYucXVlcnlGaWVsZE5hbWVHZXR0ZXJGbihpdGVtKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGZpZWxkVHlwZSA9IChjb2x1bW5EZWYuZmlsdGVyICYmIGNvbHVtbkRlZi5maWx0ZXIudHlwZSkgfHwgY29sdW1uRGVmLnR5cGUgfHwgRmllbGRUeXBlLnN0cmluZztcclxuICAgIGNvbnN0IGZpbHRlclNlYXJjaFR5cGUgPSAoY29sdW1uRGVmLmZpbHRlclNlYXJjaFR5cGUpID8gY29sdW1uRGVmLmZpbHRlclNlYXJjaFR5cGUgOiBudWxsO1xyXG4gICAgbGV0IGNlbGxWYWx1ZSA9IGl0ZW1bcXVlcnlGaWVsZE5hbWVdO1xyXG5cclxuICAgIC8vIHdoZW4gaXRlbSBpcyBhIGNvbXBsZXggb2JqZWN0IChkb3QgXCIuXCIgbm90YXRpb24pLCB3ZSBuZWVkIHRvIGZpbHRlciB0aGUgdmFsdWUgY29udGFpbmVkIGluIHRoZSBvYmplY3QgdHJlZVxyXG4gICAgaWYgKHF1ZXJ5RmllbGROYW1lICYmIHF1ZXJ5RmllbGROYW1lLmluZGV4T2YoJy4nKSA+PSAwKSB7XHJcbiAgICAgIGNlbGxWYWx1ZSA9IGdldERlc2NlbmRhbnRQcm9wZXJ0eShpdGVtLCBxdWVyeUZpZWxkTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgd2UgZmluZCBzZWFyY2hUZXJtcyB1c2UgdGhlbSBidXQgbWFrZSBhIGRlZXAgY29weSBzbyB0aGF0IHdlIGRvbid0IGFmZmVjdCBvcmlnaW5hbCBhcnJheVxyXG4gICAgLy8gd2UgbWlnaHQgaGF2ZSB0byBvdmVyd3JpdGUgdGhlIHZhbHVlKHMpIGxvY2FsbHkgdGhhdCBhcmUgcmV0dXJuZWRcclxuICAgIC8vIGUuZzogd2UgZG9uJ3Qgd2FudCB0byBvcGVyYXRvciB3aXRoaW4gdGhlIHNlYXJjaCB2YWx1ZSwgc2luY2UgaXQgd2lsbCBmYWlsIGZpbHRlciBjb25kaXRpb24gY2hlY2sgdHJpZ2dlciBhZnRlcndhcmRcclxuICAgIGNvbnN0IHNlYXJjaFZhbHVlczogU2VhcmNoVGVybVtdID0gKGNvbHVtbkZpbHRlciAmJiBjb2x1bW5GaWx0ZXIuc2VhcmNoVGVybXMpID8gJC5leHRlbmQodHJ1ZSwgW10sIGNvbHVtbkZpbHRlci5zZWFyY2hUZXJtcykgOiBbXTtcclxuICAgIGxldCBmaWVsZFNlYXJjaFZhbHVlID0gKEFycmF5LmlzQXJyYXkoc2VhcmNoVmFsdWVzKSAmJiBzZWFyY2hWYWx1ZXMubGVuZ3RoID09PSAxKSA/IHNlYXJjaFZhbHVlc1swXSA6ICcnO1xyXG5cclxuICAgIGxldCBtYXRjaGVzID0gbnVsbDtcclxuICAgIGlmIChmaWVsZFR5cGUgIT09IEZpZWxkVHlwZS5vYmplY3QpIHtcclxuICAgICAgZmllbGRTZWFyY2hWYWx1ZSA9ICcnICsgZmllbGRTZWFyY2hWYWx1ZTsgLy8gbWFrZSBzdXJlIGl0J3MgYSBzdHJpbmdcclxuICAgICAgbWF0Y2hlcyA9IGZpZWxkU2VhcmNoVmFsdWUubWF0Y2goL14oWzw+IT1cXCpdezAsMn0pKC4qW148PiE9XFwqXSkoW1xcKl0/KSQvKTsgLy8gZ3JvdXAgMTogT3BlcmF0b3IsIDI6IHNlYXJjaFZhbHVlLCAzOiBsYXN0IGNoYXIgaXMgJyonIChtZWFuaW5nIHN0YXJ0cyB3aXRoLCBleC46IGFiYyopXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG9wZXJhdG9yID0gY29sdW1uRmlsdGVyLm9wZXJhdG9yIHx8ICgobWF0Y2hlcykgPyBtYXRjaGVzWzFdIDogJycpO1xyXG4gICAgY29uc3Qgc2VhcmNoVGVybSA9ICghIW1hdGNoZXMpID8gbWF0Y2hlc1syXSA6ICcnO1xyXG4gICAgY29uc3QgbGFzdFZhbHVlQ2hhciA9ICghIW1hdGNoZXMpID8gbWF0Y2hlc1szXSA6IChvcGVyYXRvciA9PT0gJyp6JyA/ICcqJyA6ICcnKTtcclxuXHJcbiAgICBpZiAoc2VhcmNoVmFsdWVzICYmIHNlYXJjaFZhbHVlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGZpZWxkU2VhcmNoVmFsdWUgPSBzZWFyY2hWYWx1ZXMuam9pbignLCcpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRTZWFyY2hWYWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgLy8gZXNjYXBpbmcgdGhlIHNlYXJjaCB2YWx1ZVxyXG4gICAgICBmaWVsZFNlYXJjaFZhbHVlID0gZmllbGRTZWFyY2hWYWx1ZS5yZXBsYWNlKGAnYCwgYCcnYCk7IC8vIGVzY2FwZSBzaW5nbGUgcXVvdGVzIGJ5IGRvdWJsaW5nIHRoZW1cclxuICAgICAgaWYgKG9wZXJhdG9yID09PSAnKicgfHwgb3BlcmF0b3IgPT09ICdhKicgfHwgb3BlcmF0b3IgPT09ICcqeicgfHwgbGFzdFZhbHVlQ2hhciA9PT0gJyonKSB7XHJcbiAgICAgICAgb3BlcmF0b3IgPSAob3BlcmF0b3IgPT09ICcqJyB8fCBvcGVyYXRvciA9PT0gJyp6JykgPyBPcGVyYXRvclR5cGUuZW5kc1dpdGggOiBPcGVyYXRvclR5cGUuc3RhcnRzV2l0aDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG5vIG5lZWQgdG8gcXVlcnkgaWYgc2VhcmNoIHZhbHVlIGlzIGVtcHR5IG9yIGlmIHRoZSBzZWFyY2ggdmFsdWUgaXMgaW4gZmFjdCBlcXVhbCB0byB0aGUgb3BlcmF0b3JcclxuICAgIGlmIChzZWFyY2hUZXJtID09PSAnJyAmJiAoIXNlYXJjaFZhbHVlcyB8fCAoQXJyYXkuaXNBcnJheShzZWFyY2hWYWx1ZXMpICYmIChzZWFyY2hWYWx1ZXMubGVuZ3RoID09PSAwIHx8IHNlYXJjaFZhbHVlcy5sZW5ndGggPT09IDEgJiYgb3BlcmF0b3IgPT09IHNlYXJjaFZhbHVlc1swXSkpKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiBzZWFyY2ggdmFsdWUgaGFzIGEgcmVnZXggbWF0Y2ggd2Ugd2lsbCBvbmx5IGtlZXAgdGhlIHZhbHVlIHdpdGhvdXQgdGhlIG9wZXJhdG9yXHJcbiAgICAvLyBpbiB0aGlzIGNhc2Ugd2UgbmVlZCB0byBvdmVyd3JpdGUgdGhlIHJldHVybmVkIHNlYXJjaCB2YWx1ZXMgdG8gdHJ1bmNhdGUgb3BlcmF0b3IgZnJvbSB0aGUgc3RyaW5nIHNlYXJjaFxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF0Y2hlcykgJiYgbWF0Y2hlcy5sZW5ndGggPj0gMSAmJiAoQXJyYXkuaXNBcnJheShzZWFyY2hWYWx1ZXMpICYmIHNlYXJjaFZhbHVlcy5sZW5ndGggPT09IDEpKSB7XHJcbiAgICAgIHNlYXJjaFZhbHVlc1swXSA9IHNlYXJjaFRlcm07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmlsdGVyIHNlYXJjaCB0ZXJtcyBzaG91bGQgYWx3YXlzIGJlIHN0cmluZyB0eXBlIChldmVuIHRob3VnaCB3ZSBwZXJtaXQgdGhlIGVuZCB1c2VyIHRvIGlucHV0IG51bWJlcnMpXHJcbiAgICAvLyBzbyBtYWtlIHN1cmUgZWFjaCB0ZXJtIGFyZSBzdHJpbmdzLCBpZiB1c2VyIGhhcyBzb21lIGRlZmF1bHQgc2VhcmNoIHRlcm1zLCB3ZSB3aWxsIGNhc3QgdGhlbSB0byBzdHJpbmdcclxuICAgIGlmIChzZWFyY2hWYWx1ZXMgJiYgQXJyYXkuaXNBcnJheShzZWFyY2hWYWx1ZXMpICYmIGZpZWxkVHlwZSAhPT0gRmllbGRUeXBlLm9iamVjdCkge1xyXG4gICAgICBmb3IgKGxldCBrID0gMCwgbG4gPSBzZWFyY2hWYWx1ZXMubGVuZ3RoOyBrIDwgbG47IGsrKykge1xyXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgc2VhcmNoIHRlcm1zIGFyZSBzdHJpbmdzXHJcbiAgICAgICAgc2VhcmNoVmFsdWVzW2tdID0gKChzZWFyY2hWYWx1ZXNba10gPT09IHVuZGVmaW5lZCB8fCBzZWFyY2hWYWx1ZXNba10gPT09IG51bGwpID8gJycgOiBzZWFyY2hWYWx1ZXNba10pICsgJyc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB3aGVuIHVzaW5nIGxvY2FsaXphdGlvbiAoaTE4biksIHdlIHNob3VsZCB1c2UgdGhlIGZvcm1hdHRlciBvdXRwdXQgdG8gc2VhcmNoIGFzIHRoZSBuZXcgY2VsbCB2YWx1ZVxyXG4gICAgaWYgKGNvbHVtbkRlZiAmJiBjb2x1bW5EZWYucGFyYW1zICYmIGNvbHVtbkRlZi5wYXJhbXMudXNlRm9ybWF0dGVyT3VwdXRUb0ZpbHRlcikge1xyXG4gICAgICBjb25zdCBpZFByb3BOYW1lID0gdGhpcy5fZ3JpZE9wdGlvbnMuZGF0YXNldElkUHJvcGVydHlOYW1lIHx8ICdpZCc7XHJcbiAgICAgIGNvbnN0IHJvd0luZGV4ID0gKGRhdGFWaWV3ICYmIHR5cGVvZiBkYXRhVmlldy5nZXRJZHhCeUlkID09PSAnZnVuY3Rpb24nKSA/IGRhdGFWaWV3LmdldElkeEJ5SWQoaXRlbVtpZFByb3BOYW1lXSkgOiAwO1xyXG4gICAgICBjZWxsVmFsdWUgPSAoY29sdW1uRGVmICYmIHR5cGVvZiBjb2x1bW5EZWYuZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSA/IGNvbHVtbkRlZi5mb3JtYXR0ZXIocm93SW5kZXgsIGNvbHVtbkluZGV4LCBjZWxsVmFsdWUsIGNvbHVtbkRlZiwgaXRlbSwgdGhpcy5fZ3JpZCkgOiAnJztcclxuICAgIH1cclxuXHJcbiAgICAvLyBtYWtlIHN1cmUgY2VsbCB2YWx1ZSBpcyBhbHdheXMgYSBzdHJpbmdcclxuICAgIGlmICh0eXBlb2YgY2VsbFZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAgICBjZWxsVmFsdWUgPSBjZWxsVmFsdWUudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXJyZW50Q2VsbFZhbHVlID0gY2VsbFZhbHVlO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YUtleSxcclxuICAgICAgZmllbGRUeXBlLFxyXG4gICAgICBzZWFyY2hUZXJtczogc2VhcmNoVmFsdWVzLFxyXG4gICAgICBjZWxsVmFsdWU6IGN1cnJlbnRDZWxsVmFsdWUsXHJcbiAgICAgIG9wZXJhdG9yOiBvcGVyYXRvciBhcyBPcGVyYXRvclN0cmluZyxcclxuICAgICAgY2VsbFZhbHVlTGFzdENoYXI6IGxhc3RWYWx1ZUNoYXIsXHJcbiAgICAgIGZpbHRlclNlYXJjaFR5cGVcclxuICAgIH0gYXMgRmlsdGVyQ29uZGl0aW9uT3B0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2hlbiB1c2luZyBUcmVlIERhdGEsIHdlIG5lZWQgdG8gcHJlZmlsdGVyIChzZWFyY2gpIHRoZSBkYXRhIHByaW9yLCB0aGUgcmVzdWx0IHdpbGwgYmUgYW4gYXJyYXkgb2YgSURzIHdoaWNoIGFyZSB0aGUgbm9kZShzKSBhbmQgdGhlaXIgcGFyZW50IG5vZGVzIHdoZW4gbmVjZXNzYXJ5LlxyXG4gICAqIFRoaXMgd2lsbCB0aGVuIGJlIHBhc3NlZCB0byB0aGUgRGF0YVZpZXcgc2V0RmlsdGVyKGN1c3RvbUxvY2FsRmlsdGVyKSwgd2hpY2ggd2lsbCBpdHNlbGYgbG9vcCB0aHJvdWdoIHRoZSBsaXN0IG9mIElEcyBhbmQgZGlzcGxheS9oaWRlIHRoZSByb3cgaWYgZm91bmQgdGhhdCBhcnJheSBvZiBJRHNcclxuICAgKiBXZSBkbyB0aGlzIGluIDIgc3RlcHMgc28gdGhhdCB3ZSBjYW4gc3RpbGwgdXNlIHRoZSBEYXRhU2V0IHNldEZpbHRlcigpXHJcbiAgICovXHJcbiAgcHJlRmlsdGVyVHJlZURhdGEoaW5wdXRBcnJheTogYW55W10sIGNvbHVtbkZpbHRlcnM6IENvbHVtbkZpbHRlcnMpIHtcclxuICAgIGNvbnN0IHRyZWVEYXRhT3B0aW9ucyA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLnRyZWVEYXRhT3B0aW9ucztcclxuICAgIGNvbnN0IHBhcmVudFByb3BOYW1lID0gdHJlZURhdGFPcHRpb25zICYmIHRyZWVEYXRhT3B0aW9ucy5wYXJlbnRQcm9wTmFtZSB8fCAnX19wYXJlbnRJZCc7XHJcbiAgICBjb25zdCBkYXRhVmlld0lkSWRlbnRpZmllciA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLmRhdGFzZXRJZFByb3BlcnR5TmFtZSB8fCAnaWQnO1xyXG5cclxuICAgIGNvbnN0IHRyZWVPYmogPSB7fTtcclxuICAgIGNvbnN0IGZpbHRlcmVkQ2hpbGRyZW5BbmRQYXJlbnRzOiBhbnlbXSA9IFtdO1xyXG5cclxuICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0QXJyYXkpKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRyZWVPYmpbaW5wdXRBcnJheVtpXVtkYXRhVmlld0lkSWRlbnRpZmllcl1dID0gaW5wdXRBcnJheVtpXTtcclxuICAgICAgICAvLyBhcyB0aGUgZmlsdGVyZWQgZGF0YSBpcyB0aGVuIHVzZWQgYWdhaW4gYXMgZWFjaCBzdWJzZXF1ZW50IGxldHRlclxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZGVsZXRlIHRoZSAuX191c2VkIHByb3BlcnR5LCBvdGhlcndpc2UgdGhlIGxvZ2ljIGJlbG93XHJcbiAgICAgICAgLy8gaW4gdGhlIHdoaWxlIGxvb3AgKHdoaWNoIGNoZWNrcyBmb3IgcGFyZW50cykgZG9lc24ndCB3b3JrOlxyXG4gICAgICAgIGRlbGV0ZSB0cmVlT2JqW2lucHV0QXJyYXlbaV1bZGF0YVZpZXdJZElkZW50aWZpZXJdXS5fX3VzZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpbnB1dEFycmF5W2ldO1xyXG4gICAgICAgIGxldCBtYXRjaEZpbHRlciA9IHRydWU7IC8vIHZhbGlkIHVudGlsIHByb3ZlbiBvdGhlcndpc2VcclxuXHJcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBjb2x1bW4gZmlsdGVycyBhbmQgZXhlY3V0ZSBmaWx0ZXIgY29uZGl0aW9uKHMpXHJcbiAgICAgICAgZm9yIChjb25zdCBjb2x1bW5JZCBvZiBPYmplY3Qua2V5cyhjb2x1bW5GaWx0ZXJzKSkge1xyXG4gICAgICAgICAgY29uc3QgY29sdW1uRmlsdGVyID0gY29sdW1uRmlsdGVyc1tjb2x1bW5JZF0gYXMgQ29sdW1uRmlsdGVyO1xyXG4gICAgICAgICAgY29uc3QgY29uZGl0aW9uT3B0aW9uUmVzdWx0ID0gdGhpcy5nZXRGaWx0ZXJDb25kaXRpb25PcHRpb25zT3JCb29sZWFuKGl0ZW0sIGNvbHVtbkZpbHRlciwgY29sdW1uSWQsIHRoaXMuX2dyaWQsIHRoaXMuX2RhdGFWaWV3KTtcclxuXHJcbiAgICAgICAgICBpZiAoY29uZGl0aW9uT3B0aW9uUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmRpdGlvblJlc3VsdCA9ICh0eXBlb2YgY29uZGl0aW9uT3B0aW9uUmVzdWx0ID09PSAnYm9vbGVhbicpID8gY29uZGl0aW9uT3B0aW9uUmVzdWx0IDogRmlsdGVyQ29uZGl0aW9ucy5leGVjdXRlTWFwcGVkQ29uZGl0aW9uKGNvbmRpdGlvbk9wdGlvblJlc3VsdCBhcyBGaWx0ZXJDb25kaXRpb25PcHRpb24pO1xyXG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgLy8gZG9uJ3QgcmV0dXJuIHRydWUgc2luY2Ugd2Ugc3RpbGwgbmVlZCB0byBjaGVjayBvdGhlciBrZXlzIGluIGNvbHVtbkZpbHRlcnNcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbWF0Y2hGaWx0ZXIgPSBmYWxzZTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYnVpbGQgYW4gYXJyYXkgZnJvbSB0aGUgbWF0Y2hlZCBmaWx0ZXJzLCBhbnl0aGluZyB2YWxpZCBmcm9tIGZpbHRlciBjb25kaXRpb25cclxuICAgICAgICAvLyB3aWxsIGJlIHB1c2hlZCB0byB0aGUgZmlsdGVyZWRDaGlsZHJlbkFuZFBhcmVudHMgYXJyYXlcclxuICAgICAgICBpZiAobWF0Y2hGaWx0ZXIpIHtcclxuICAgICAgICAgIGNvbnN0IGxlbiA9IGZpbHRlcmVkQ2hpbGRyZW5BbmRQYXJlbnRzLmxlbmd0aDtcclxuICAgICAgICAgIC8vIGFkZCBjaGlsZCAoaWQpOlxyXG4gICAgICAgICAgZmlsdGVyZWRDaGlsZHJlbkFuZFBhcmVudHMuc3BsaWNlKGxlbiwgMCwgaXRlbVtkYXRhVmlld0lkSWRlbnRpZmllcl0pO1xyXG4gICAgICAgICAgbGV0IHBhcmVudCA9IHRyZWVPYmpbaXRlbVtwYXJlbnRQcm9wTmFtZV1dIHx8IGZhbHNlO1xyXG4gICAgICAgICAgd2hpbGUgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IGFkZCBwYXJlbnQgKGlkKSBpZiBub3QgYWxyZWFkeSBhZGRlZDpcclxuICAgICAgICAgICAgcGFyZW50Ll9fdXNlZCB8fCBmaWx0ZXJlZENoaWxkcmVuQW5kUGFyZW50cy5zcGxpY2UobGVuLCAwLCBwYXJlbnRbZGF0YVZpZXdJZElkZW50aWZpZXJdKTtcclxuICAgICAgICAgICAgLy8gbWFyayBlYWNoIHBhcmVudCBhcyB1c2VkIHRvIG5vdCB1c2UgdGhlbSBhZ2FpbiBsYXRlcjpcclxuICAgICAgICAgICAgdHJlZU9ialtwYXJlbnRbZGF0YVZpZXdJZElkZW50aWZpZXJdXS5fX3VzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyB0cnkgdG8gZmluZCBwYXJlbnQgb2YgdGhlIGN1cnJlbnQgcGFyZW50LCBpZiBleGlzdHM6XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHRyZWVPYmpbcGFyZW50W3BhcmVudFByb3BOYW1lXV0gfHwgZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmlsdGVyZWRDaGlsZHJlbkFuZFBhcmVudHM7XHJcbiAgfVxyXG5cclxuICBnZXRDb2x1bW5GaWx0ZXJzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbHVtbkZpbHRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRGaWx0ZXJzTWV0YWRhdGEoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZmlsdGVyc01ldGFkYXRhO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q3VycmVudExvY2FsRmlsdGVycygpOiBDdXJyZW50RmlsdGVyW10ge1xyXG4gICAgY29uc3QgY3VycmVudEZpbHRlcnM6IEN1cnJlbnRGaWx0ZXJbXSA9IFtdO1xyXG4gICAgaWYgKHRoaXMuX2NvbHVtbkZpbHRlcnMpIHtcclxuICAgICAgZm9yIChjb25zdCBjb2xJZCBvZiBPYmplY3Qua2V5cyh0aGlzLl9jb2x1bW5GaWx0ZXJzKSkge1xyXG4gICAgICAgIGNvbnN0IGNvbHVtbkZpbHRlciA9IHRoaXMuX2NvbHVtbkZpbHRlcnNbY29sSWRdO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlciA9IHsgY29sdW1uSWQ6IGNvbElkIHx8ICcnIH0gYXMgQ3VycmVudEZpbHRlcjtcclxuXHJcbiAgICAgICAgaWYgKGNvbHVtbkZpbHRlciAmJiBjb2x1bW5GaWx0ZXIuc2VhcmNoVGVybXMpIHtcclxuICAgICAgICAgIGZpbHRlci5zZWFyY2hUZXJtcyA9IGNvbHVtbkZpbHRlci5zZWFyY2hUZXJtcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbHVtbkZpbHRlci5vcGVyYXRvcikge1xyXG4gICAgICAgICAgZmlsdGVyLm9wZXJhdG9yID0gY29sdW1uRmlsdGVyLm9wZXJhdG9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIuc2VhcmNoVGVybXMpICYmIGZpbHRlci5zZWFyY2hUZXJtcy5sZW5ndGggPiAwICYmIGZpbHRlci5zZWFyY2hUZXJtc1swXSAhPT0gJycpIHtcclxuICAgICAgICAgIGN1cnJlbnRGaWx0ZXJzLnB1c2goZmlsdGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50RmlsdGVycztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEEgc2ltcGxlIGZ1bmN0aW9uIHRoYXQgaXMgYmluZGVkIHRvIHRoZSBzdWJzY3JpYmVyIGFuZCBlbWl0IGEgY2hhbmdlIHdoZW4gdGhlIGZpbHRlciBpcyBjYWxsZWQuXHJcbiAgICogT3RoZXIgc2VydmljZXMsIGxpa2UgUGFnaW5hdGlvbiwgY2FuIHRoZW4gc3Vic2NyaWJlIHRvIGl0LlxyXG4gICAqIEBwYXJhbSBjYWxsZXJcclxuICAgKi9cclxuICBlbWl0RmlsdGVyQ2hhbmdlZChjYWxsZXI6IEVtaXR0ZXJUeXBlKSB7XHJcbiAgICBpZiAoY2FsbGVyID09PSBFbWl0dGVyVHlwZS5yZW1vdGUgJiYgdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMuYmFja2VuZFNlcnZpY2VBcGkpIHtcclxuICAgICAgbGV0IGN1cnJlbnRGaWx0ZXJzOiBDdXJyZW50RmlsdGVyW10gPSBbXTtcclxuICAgICAgY29uc3QgYmFja2VuZFNlcnZpY2UgPSB0aGlzLl9ncmlkT3B0aW9ucy5iYWNrZW5kU2VydmljZUFwaS5zZXJ2aWNlO1xyXG4gICAgICBpZiAoYmFja2VuZFNlcnZpY2UgJiYgYmFja2VuZFNlcnZpY2UuZ2V0Q3VycmVudEZpbHRlcnMpIHtcclxuICAgICAgICBjdXJyZW50RmlsdGVycyA9IGJhY2tlbmRTZXJ2aWNlLmdldEN1cnJlbnRGaWx0ZXJzKCkgYXMgQ3VycmVudEZpbHRlcltdO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMub25GaWx0ZXJDaGFuZ2VkLm5leHQoY3VycmVudEZpbHRlcnMpO1xyXG4gICAgfSBlbHNlIGlmIChjYWxsZXIgPT09IEVtaXR0ZXJUeXBlLmxvY2FsKSB7XHJcbiAgICAgIHRoaXMub25GaWx0ZXJDaGFuZ2VkLm5leHQodGhpcy5nZXRDdXJyZW50TG9jYWxGaWx0ZXJzKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgb25CYWNrZW5kRmlsdGVyQ2hhbmdlKGV2ZW50OiBLZXlib2FyZEV2ZW50LCBhcmdzOiBhbnkpIHtcclxuICAgIGlmICghYXJncyB8fCAhYXJncy5ncmlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiB0cnlpbmcgdG8gYmluZCB0aGUgXCJvbkJhY2tlbmRGaWx0ZXJDaGFuZ2UoZXZlbnQsIGFyZ3MpXCIgZnVuY3Rpb24sIGl0IHNlZW1zIHRoYXQgXCJhcmdzXCIgaXMgbm90IHBvcHVsYXRlZCBjb3JyZWN0bHknKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zdCBncmlkT3B0aW9uczogR3JpZE9wdGlvbiA9IChhcmdzLmdyaWQgJiYgYXJncy5ncmlkLmdldE9wdGlvbnMpID8gYXJncy5ncmlkLmdldE9wdGlvbnMoKSA6IHt9O1xyXG4gICAgY29uc3QgYmFja2VuZEFwaSA9IHRoaXMuX2dyaWRPcHRpb25zLmJhY2tlbmRTZXJ2aWNlQXBpO1xyXG5cclxuICAgIGlmICghYmFja2VuZEFwaSB8fCAhYmFja2VuZEFwaS5wcm9jZXNzIHx8ICFiYWNrZW5kQXBpLnNlcnZpY2UpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBCYWNrZW5kU2VydmljZUFwaSByZXF1aXJlcyBhdCBsZWFzdCBhIFwicHJvY2Vzc1wiIGZ1bmN0aW9uIGFuZCBhIFwic2VydmljZVwiIGRlZmluZWRgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBrZWVwIHN0YXJ0IHRpbWUgJiBlbmQgdGltZXN0YW1wcyAmIHJldHVybiBpdCBhZnRlciBwcm9jZXNzIGV4ZWN1dGlvblxyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAvLyBydW4gYSBwcmVQcm9jZXNzIGNhbGxiYWNrIGlmIGRlZmluZWRcclxuICAgIGlmIChiYWNrZW5kQXBpLnByZVByb2Nlc3MpIHtcclxuICAgICAgYmFja2VuZEFwaS5wcmVQcm9jZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25seSBhZGQgYSBkZWxheSB3aGVuIHVzZXIgaXMgdHlwaW5nLCBvbiBzZWxlY3QgZHJvcGRvd24gZmlsdGVyIChvciBcIkNsZWFyIEZpbHRlclwiKSBpdCB3aWxsIGV4ZWN1dGUgcmlnaHQgYXdheVxyXG4gICAgbGV0IGRlYm91bmNlVHlwaW5nRGVsYXkgPSAwO1xyXG4gICAgY29uc3QgaXNUcmlnZ2VyZWRCeUNsZWFyRmlsdGVyID0gYXJncyAmJiBhcmdzLmNsZWFyRmlsdGVyVHJpZ2dlcmVkOyAvLyB3YXMgaXQgdHJpZ2dlciBieSBhIFwiQ2xlYXIgRmlsdGVyXCIgY29tbWFuZD9cclxuXHJcbiAgICBjb25zdCBldmVudFR5cGUgPSBldmVudCAmJiBldmVudC50eXBlO1xyXG4gICAgY29uc3QgZXZlbnRLZXlDb2RlID0gZXZlbnQgJiYgZXZlbnQua2V5Q29kZTtcclxuICAgIGlmICghaXNUcmlnZ2VyZWRCeUNsZWFyRmlsdGVyICYmIGV2ZW50S2V5Q29kZSAhPT0gS2V5Q29kZS5FTlRFUiAmJiAoZXZlbnRUeXBlID09PSAnaW5wdXQnIHx8IGV2ZW50VHlwZSA9PT0gJ2tleXVwJyB8fCBldmVudFR5cGUgPT09ICdrZXlkb3duJykpIHtcclxuICAgICAgZGVib3VuY2VUeXBpbmdEZWxheSA9IGJhY2tlbmRBcGkuaGFzT3duUHJvcGVydHkoJ2ZpbHRlclR5cGluZ0RlYm91bmNlJykgPyBiYWNrZW5kQXBpLmZpbHRlclR5cGluZ0RlYm91bmNlIGFzIG51bWJlciA6IERFRkFVTFRfRklMVEVSX1RZUElOR19ERUJPVU5DRTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBxdWVyeSBiYWNrZW5kLCBleGNlcHQgd2hlbiBpdCdzIGNhbGxlZCBieSBhIENsZWFyRmlsdGVycyB0aGVuIHdlIHdvbid0XHJcbiAgICBpZiAoYXJncyAmJiBhcmdzLnNob3VsZFRyaWdnZXJRdWVyeSkge1xyXG4gICAgICAvLyBjYWxsIHRoZSBzZXJ2aWNlIHRvIGdldCBhIHF1ZXJ5IGJhY2tcclxuICAgICAgLy8gQGRlcHJlY2F0ZWQgVE9ETzogcmVtb3ZlIGFzeW5jL2F3YWl0IG9uIG5leHQgbWFqb3IgY2hhbmdlLCByZWZlciB0byBwcm9jZXNzT25GaWx0ZXJDaGFuZ2VkIGluIEJhY2tlbmRTZXJ2aWNlIGludGVyZmFjZSAod2l0aCBAZGVwcmVjYXRlZClcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgaWYgKGRlYm91bmNlVHlwaW5nRGVsYXkgPiAwKSB7XHJcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gYXdhaXQgYmFja2VuZEFwaS5zZXJ2aWNlLnByb2Nlc3NPbkZpbHRlckNoYW5nZWQoZXZlbnQsIGFyZ3MpO1xyXG4gICAgICAgICAgY29uc3QgdG90YWxJdGVtcyA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLnBhZ2luYXRpb24gJiYgdGhpcy5fZ3JpZE9wdGlvbnMucGFnaW5hdGlvbi50b3RhbEl0ZW1zO1xyXG4gICAgICAgICAgZXhlY3V0ZUJhY2tlbmRDYWxsYmFjayhiYWNrZW5kQXBpLCBxdWVyeSwgYXJncywgc3RhcnRUaW1lLCB0b3RhbEl0ZW1zLCB0aGlzLmVtaXRGaWx0ZXJDaGFuZ2VkLmJpbmQodGhpcyksIHRoaXMuaHR0cENhbmNlbFJlcXVlc3RzJCk7XHJcbiAgICAgICAgfSwgZGVib3VuY2VUeXBpbmdEZWxheSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcXVlcnkgPSBhd2FpdCBiYWNrZW5kQXBpLnNlcnZpY2UucHJvY2Vzc09uRmlsdGVyQ2hhbmdlZChldmVudCwgYXJncyk7XHJcbiAgICAgICAgY29uc3QgdG90YWxJdGVtcyA9IHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLnBhZ2luYXRpb24gJiYgdGhpcy5fZ3JpZE9wdGlvbnMucGFnaW5hdGlvbi50b3RhbEl0ZW1zO1xyXG4gICAgICAgIGV4ZWN1dGVCYWNrZW5kQ2FsbGJhY2soYmFja2VuZEFwaSwgcXVlcnksIGFyZ3MsIHN0YXJ0VGltZSwgdG90YWxJdGVtcywgdGhpcy5lbWl0RmlsdGVyQ2hhbmdlZC5iaW5kKHRoaXMpLCB0aGlzLmh0dHBDYW5jZWxSZXF1ZXN0cyQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGVuIHVzZXIgcGFzc2VzIGFuIGFycmF5IG9mIHByZXNldCBmaWx0ZXJzLCB3ZSBuZWVkIHRvIHByZS1wb3B1bGF0ZSBlYWNoIGNvbHVtbiBmaWx0ZXIgc2VhcmNoVGVybShzKVxyXG4gICAqIFRoZSBwcm9jZXNzIGlzIHRvIGxvb3AgdGhyb3VnaCB0aGUgcHJlc2V0IGZpbHRlcnMgYXJyYXksIGZpbmQgdGhlIGFzc29jaWF0ZWQgY29sdW1uIGZyb20gY29sdW1uRGVmaW5pdGlvbnMgYW5kIGZpbGwgaW4gdGhlIGZpbHRlciBvYmplY3Qgc2VhcmNoVGVybShzKVxyXG4gICAqIFRoaXMgaXMgYmFzaWNhbGx5IHRoZSBzYW1lIGFzIGlmIHdlIHdvdWxkIG1hbnVhbGx5IGFkZCBzZWFyY2hUZXJtKHMpIHRvIGEgY29sdW1uIGZpbHRlciBvYmplY3QgaW4gdGhlIGNvbHVtbiBkZWZpbml0aW9uLCBidXQgd2UgZG8gaXQgcHJvZ3JhbW1hdGljYWxseS5cclxuICAgKiBBdCB0aGUgZW5kIG9mIHRoZSBkYXksIHdoZW4gY3JlYXRpbmcgdGhlIEZpbHRlciAoRE9NIEVsZW1lbnQpLCBpdCB3aWxsIHVzZSB0aGVzZSBzZWFyY2hUZXJtKHMpIHNvIHdlIGNhbiB0YWtlIGFkdmFudGFnZSBvZiB0aGF0IHdpdGhvdXQgcmVjb2RpbmcgZWFjaCBGaWx0ZXIgdHlwZSAoRE9NIGVsZW1lbnQpXHJcbiAgICovXHJcbiAgcG9wdWxhdGVDb2x1bW5GaWx0ZXJTZWFyY2hUZXJtUHJlc2V0cyhmaWx0ZXJzOiBDdXJyZW50RmlsdGVyW10pIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbHRlcnMpICYmIGZpbHRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLl9jb2x1bW5EZWZpbml0aW9ucy5mb3JFYWNoKChjb2x1bW5EZWY6IENvbHVtbikgPT4ge1xyXG4gICAgICAgIC8vIGNsZWFyIGFueSBjb2x1bW5EZWYgc2VhcmNoVGVybXMgYmVmb3JlIGFwcGx5aW5nIFByZXNldHNcclxuICAgICAgICBpZiAoY29sdW1uRGVmLmZpbHRlciAmJiBjb2x1bW5EZWYuZmlsdGVyLnNlYXJjaFRlcm1zKSB7XHJcbiAgICAgICAgICBkZWxldGUgY29sdW1uRGVmLmZpbHRlci5zZWFyY2hUZXJtcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZyb20gZWFjaCBwcmVzZXRzLCB3ZSB3aWxsIGZpbmQgdGhlIGFzc29jaWF0ZWQgY29sdW1uRGVmIGFuZCBhcHBseSB0aGUgcHJlc2V0IHNlYXJjaFRlcm1zICYgb3BlcmF0b3IgaWYgdGhlcmUgaXNcclxuICAgICAgICBjb25zdCBjb2x1bW5QcmVzZXQgPSBmaWx0ZXJzLmZpbmQoKHByZXNldEZpbHRlcjogQ3VycmVudEZpbHRlcikgPT4gcHJlc2V0RmlsdGVyLmNvbHVtbklkID09PSBjb2x1bW5EZWYuaWQpO1xyXG4gICAgICAgIGlmIChjb2x1bW5QcmVzZXQgJiYgY29sdW1uUHJlc2V0LnNlYXJjaFRlcm1zICYmIEFycmF5LmlzQXJyYXkoY29sdW1uUHJlc2V0LnNlYXJjaFRlcm1zKSkge1xyXG4gICAgICAgICAgY29sdW1uRGVmLmZpbHRlciA9IGNvbHVtbkRlZi5maWx0ZXIgfHwge307XHJcbiAgICAgICAgICBjb2x1bW5EZWYuZmlsdGVyLm9wZXJhdG9yID0gY29sdW1uUHJlc2V0Lm9wZXJhdG9yIHx8IGNvbHVtbkRlZi5maWx0ZXIub3BlcmF0b3IgfHwgJyc7XHJcbiAgICAgICAgICBjb2x1bW5EZWYuZmlsdGVyLnNlYXJjaFRlcm1zID0gY29sdW1uUHJlc2V0LnNlYXJjaFRlcm1zO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyB3aGVuIHdlIGhhdmUgYSBGaWx0ZXIgUHJlc2V0cyBvbiBhIFRyZWUgRGF0YSBWaWV3IGdyaWQsIHdlIG5lZWQgdG8gY2FsbCB0aGUgcHJlLWZpbHRlcmluZyBvZiB0cmVlIGRhdGFcclxuICAgICAgdGhpcy5yZWZyZXNoVHJlZURhdGFGaWx0ZXJzKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5fY29sdW1uRGVmaW5pdGlvbnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB3aGVuIHdlIGhhdmUgYSBGaWx0ZXIgUHJlc2V0cyBvbiBhIFRyZWUgRGF0YSBWaWV3IGdyaWQsIHdlIG5lZWQgdG8gY2FsbCB0aGUgcHJlLWZpbHRlcmluZyBvZiB0cmVlIGRhdGFcclxuICAgKiB3ZSBuZWVkIHRvIGRvIHRoaXMgYmVjYXVzZSBUcmVlIERhdGEgaXMgdGhlIG9ubHkgdHlwZSBvZiBncmlkIHRoYXQgcmVxdWlyZXMgYSBwcmUtZmlsdGVyIChwcmVGaWx0ZXJUcmVlRGF0YSkgdG8gYmUgZXhlY3V0ZWQgYmVmb3JlIHRoZSBmaW5hbCBmaWx0ZXJpbmdcclxuICAgKiBAcGFyYW0gZmlsdGVyc1xyXG4gICAqL1xyXG4gIHJlZnJlc2hUcmVlRGF0YUZpbHRlcnMoKSB7XHJcbiAgICBpZiAodGhpcy5fZGF0YVZpZXcgJiYgdGhpcy5fZGF0YVZpZXcuZ2V0SXRlbXMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMuZW5hYmxlVHJlZURhdGEpIHtcclxuICAgICAgdGhpcy5fdG1wUHJlRmlsdGVyZWREYXRhID0gdGhpcy5wcmVGaWx0ZXJUcmVlRGF0YSh0aGlzLl9kYXRhVmlldy5nZXRJdGVtcygpLCB0aGlzLl9jb2x1bW5GaWx0ZXJzKTtcclxuICAgICAgdGhpcy5fZGF0YVZpZXcucmVmcmVzaCgpOyAvLyBhbmQgZmluYWxseSB0aGlzIHJlZnJlc2goKSBpcyB3aGF0IHRyaWdnZXJzIGEgRGF0YVZpZXcgZmlsdGVyaW5nIGNoZWNrXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUb2dnbGUgdGhlIEZpbHRlciBGdW5jdGlvbmFsaXR5XHJcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0ZpbHRlckRpc2FibGVkIC0gb3B0aW9uYWxseSBmb3JjZSBhIGRpc2FibGUvZW5hYmxlIG9mIHRoZSBTb3J0IEZ1bmN0aW9uYWxpdHk/IERlZmF1bHRzIHRvIFRydWVcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyRmlsdGVyc1doZW5EaXNhYmxlZCAtIHdoZW4gZGlzYWJsaW5nIHRoZSBGaWx0ZXIsIGRvIHdlIGFsc28gd2FudCB0byBjbGVhciBhbGwgdGhlIGZpbHRlcnMgYXMgd2VsbD8gRGVmYXVsdHMgdG8gVHJ1ZVxyXG4gICAqL1xyXG4gIGRpc2FibGVGaWx0ZXJGdW5jdGlvbmFsaXR5KGlzRmlsdGVyRGlzYWJsZWQgPSB0cnVlLCBjbGVhckZpbHRlcnNXaGVuRGlzYWJsZWQgPSB0cnVlKSB7XHJcbiAgICBjb25zdCBwcmV2U2hvd0ZpbHRlckZsYWcgPSB0aGlzLl9ncmlkT3B0aW9ucy5lbmFibGVGaWx0ZXJpbmc7XHJcbiAgICBjb25zdCBuZXdTaG93RmlsdGVyRmxhZyA9ICFwcmV2U2hvd0ZpbHRlckZsYWc7XHJcblxyXG4gICAgaWYgKG5ld1Nob3dGaWx0ZXJGbGFnICE9PSBpc0ZpbHRlckRpc2FibGVkKSB7XHJcbiAgICAgIGlmIChjbGVhckZpbHRlcnNXaGVuRGlzYWJsZWQgJiYgaXNGaWx0ZXJEaXNhYmxlZCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJGaWx0ZXJzKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5kaXNhYmxlQWxsRmlsdGVyaW5nQ29tbWFuZHMoaXNGaWx0ZXJEaXNhYmxlZCk7XHJcbiAgICAgIHRoaXMuX2dyaWQuc2V0T3B0aW9ucyh7IGVuYWJsZUZpbHRlcmluZzogbmV3U2hvd0ZpbHRlckZsYWcgfSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICB0aGlzLl9ncmlkLnNldEhlYWRlclJvd1Zpc2liaWxpdHkobmV3U2hvd0ZpbHRlckZsYWcpO1xyXG4gICAgICB0aGlzLl9ncmlkT3B0aW9ucy5lbmFibGVGaWx0ZXJpbmcgPSAhaXNGaWx0ZXJEaXNhYmxlZDtcclxuICAgICAgdGhpcy5zaGFyZWRTZXJ2aWNlLmdyaWRPcHRpb25zID0gdGhpcy5fZ3JpZE9wdGlvbnM7XHJcblxyXG4gICAgICAvLyB3aGVuIGRpc3BsYXlpbmcgaGVhZGVyIHJvdywgd2UnbGwgY2FsbCBcInNldENvbHVtbnNcIiB3aGljaCBpbiB0ZXJtcyB3aWxsIHJlY3JlYXRlIHRoZSBoZWFkZXIgcm93IGZpbHRlcnNcclxuICAgICAgdGhpcy5fZ3JpZC5zZXRDb2x1bW5zKHRoaXMuc2hhcmVkU2VydmljZS5jb2x1bW5EZWZpbml0aW9ucyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUb2dnbGUgdGhlIEZpbHRlciBGdW5jdGlvbmFsaXR5IChzaG93L2hpZGUgdGhlIGhlYWRlciByb3cgZmlsdGVyIGJhciBhcyB3ZWxsKVxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXJGaWx0ZXJzV2hlbkRpc2FibGVkIC0gd2hlbiBkaXNhYmxpbmcgdGhlIGZpbHRlcnMsIGRvIHdlIHdhbnQgdG8gY2xlYXIgdGhlIGZpbHRlcnMgYmVmb3JlIGhpZGluZyB0aGUgZmlsdGVycz8gRGVmYXVsdHMgdG8gVHJ1ZVxyXG4gICAqL1xyXG4gIHRvZ2dsZUZpbHRlckZ1bmN0aW9uYWxpdHkoY2xlYXJGaWx0ZXJzV2hlbkRpc2FibGVkID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgcHJldlNob3dGaWx0ZXJGbGFnID0gdGhpcy5fZ3JpZE9wdGlvbnMuZW5hYmxlRmlsdGVyaW5nO1xyXG4gICAgdGhpcy5kaXNhYmxlRmlsdGVyRnVuY3Rpb25hbGl0eShwcmV2U2hvd0ZpbHRlckZsYWcsIGNsZWFyRmlsdGVyc1doZW5EaXNhYmxlZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUb2dnbGUgdGhlIEhlYWRlciBSb3cgZmlsdGVyIGJhciAodGhpcyBkb2VzIG5vdCBkaXNhYmxlIHRoZSBGaWx0ZXJpbmcgaXRzZWxmLCB5b3UgY2FuIHVzZSBcInRvZ2dsZUZpbHRlckZ1bmN0aW9uYWxpdHkoKVwiIGluc3RlYWQsIGhvd2V2ZXIgdGhpcyB3aWxsIHJlc2V0IGFueSBjb2x1bW4gcG9zaXRpb25zKVxyXG4gICAqL1xyXG4gIHRvZ2dsZUhlYWRlckZpbHRlclJvdygpIHtcclxuICAgIGxldCBzaG93SGVhZGVyUm93ID0gdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMuc2hvd0hlYWRlclJvdyB8fCBmYWxzZTtcclxuICAgIHNob3dIZWFkZXJSb3cgPSAhc2hvd0hlYWRlclJvdzsgLy8gaW52ZXJzZSBzaG93IGhlYWRlciBmbGFnXHJcbiAgICB0aGlzLl9ncmlkLnNldEhlYWRlclJvd1Zpc2liaWxpdHkoc2hvd0hlYWRlclJvdyk7XHJcblxyXG4gICAgLy8gd2hlbiBkaXNwbGF5aW5nIGhlYWRlciByb3csIHdlJ2xsIGNhbGwgXCJzZXRDb2x1bW5zXCIgd2hpY2ggaW4gdGVybXMgd2lsbCByZWNyZWF0ZSB0aGUgaGVhZGVyIHJvdyBmaWx0ZXJzXHJcbiAgICBpZiAoc2hvd0hlYWRlclJvdyA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLl9ncmlkLnNldENvbHVtbnModGhpcy5zaGFyZWRTZXJ2aWNlLmNvbHVtbkRlZmluaXRpb25zKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgc29ydCBpY29ucyBpbiB0aGUgVUkgKE9OTFkgdGhlIGljb25zLCBpdCBkb2VzIG5vdCBkbyBhbnkgc29ydGluZylcclxuICAgKiBUaGUgY29sdW1uIHNvcnQgaWNvbnMgYXJlIG5vdCBuZWNlc3NhcmlseSBpbnRlci1jb25uZWN0ZWQgdG8gdGhlIHNvcnRpbmcgZnVuY3Rpb25hbGl0eSBpdHNlbGYsXHJcbiAgICogeW91IGNhbiBjaGFuZ2UgdGhlIHNvcnRpbmcgaWNvbnMgc2VwYXJhdGVseSBieSBwYXNzaW5nIGFuIGFycmF5IG9mIGNvbHVtbklkL3NvcnRBc2MgYW5kIHRoYXQgd2lsbCBjaGFuZ2UgT05MWSB0aGUgaWNvbnNcclxuICAgKiBAcGFyYW0gc29ydENvbHVtbnNcclxuICAgKi9cclxuICBzZXRTb3J0Q29sdW1uSWNvbnMoc29ydENvbHVtbnM6IHsgY29sdW1uSWQ6IHN0cmluZywgc29ydEFzYzogYm9vbGVhbiB9W10pIHtcclxuICAgIGlmICh0aGlzLl9ncmlkICYmIEFycmF5LmlzQXJyYXkoc29ydENvbHVtbnMpKSB7XHJcbiAgICAgIHRoaXMuX2dyaWQuc2V0U29ydENvbHVtbnMoc29ydENvbHVtbnMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIEZpbHRlcnMgZHluYW1pY2FsbHkganVzdCBieSBwcm92aWRpbmcgYW4gYXJyYXkgb2YgZmlsdGVyKHMpLlxyXG4gICAqIFlvdSBjYW4gYWxzbyBjaG9vc2UgZW1pdCAoZGVmYXVsdCkgYSBGaWx0ZXIgQ2hhbmdlZCBldmVudCB0aGF0IHdpbGwgYmUgcGlja2VkIGJ5IHRoZSBHcmlkIFN0YXRlIFNlcnZpY2UuXHJcbiAgICpcclxuICAgKiBBbHNvIGZvciBiYWNrZW5kIHNlcnZpY2Ugb25seSwgeW91IGNhbiBjaG9vc2UgdG8gdHJpZ2dlciBhIGJhY2tlbmQgcXVlcnkgKGRlZmF1bHQpIG9yIG5vdCBpZiB5b3Ugd2lzaCB0byBkbyBpdCBsYXRlcixcclxuICAgKiB0aGlzIGNvdWxkIGJlIHVzZWZ1bCB3aGVuIHVzaW5nIHVwZGF0ZUZpbHRlcnMgJiB1cGRhdGVTb3J0aW5nIGFuZCB5b3Ugd2lzaCB0byBvbmx5IHNlbmQgdGhlIGJhY2tlbmQgcXVlcnkgb25jZS5cclxuICAgKiBAcGFyYW0gZmlsdGVycyBhcnJheVxyXG4gICAqIEBwYXJhbSB0cmlnZ2VyRXZlbnQgZGVmYXVsdHMgdG8gVHJ1ZSwgZG8gd2Ugd2FudCB0byBlbWl0IGEgZmlsdGVyIGNoYW5nZWQgZXZlbnQ/XHJcbiAgICogQHBhcmFtIHRyaWdnZXJCYWNrZW5kUXVlcnkgZGVmYXVsdHMgdG8gVHJ1ZSwgd2hpY2ggd2lsbCBxdWVyeSB0aGUgYmFja2VuZC5cclxuICAgKi9cclxuICB1cGRhdGVGaWx0ZXJzKGZpbHRlcnM6IEN1cnJlbnRGaWx0ZXJbXSwgZW1pdENoYW5nZWRFdmVudCA9IHRydWUsIHRyaWdnZXJCYWNrZW5kUXVlcnkgPSB0cnVlLCB0cmlnZ2VyT25TZWFyY2hDaGFuZ2VFdmVudCA9IGZhbHNlKSB7XHJcbiAgICBpZiAoIXRoaXMuX2ZpbHRlcnNNZXRhZGF0YSB8fCB0aGlzLl9maWx0ZXJzTWV0YWRhdGEubGVuZ3RoID09PSAwIHx8ICF0aGlzLl9ncmlkT3B0aW9ucyB8fCAhdGhpcy5fZ3JpZE9wdGlvbnMuZW5hYmxlRmlsdGVyaW5nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignW0FuZ3VsYXItU2xpY2tncmlkXSBpbiBvcmRlciB0byB1c2UgXCJ1cGRhdGVGaWx0ZXJzXCIgbWV0aG9kLCB5b3UgbmVlZCB0byBoYXZlIEZpbHRlcmFibGUgQ29sdW1ucyBkZWZpbmVkIGluIHlvdXIgZ3JpZCBhbmQgXCJlbmFibGVGaWx0ZXJpbmdcIiBzZXQgaW4geW91ciBHcmlkIE9wdGlvbnMnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJzKSkge1xyXG4gICAgICAvLyBzdGFydCBieSBjbGVhcmluZyBhbGwgZmlsdGVycyAod2l0aG91dCB0cmlnZ2VyaW5nIGFuIGV2ZW50KSBiZWZvcmUgYXBwbHlpbmcgYW55IG5ldyBmaWx0ZXJzXHJcbiAgICAgIHRoaXMuY2xlYXJGaWx0ZXJzKGZhbHNlKTtcclxuXHJcbiAgICAgIC8vIHByZS1maWxsICh2YWx1ZSArIG9wZXJhdG9yKSBhbmQgcmVuZGVyIGFsbCBmaWx0ZXJzIGluIHRoZSBET01cclxuICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggRmlsdGVycyBwcm92aWRlZCAod2hpY2ggaGFzIGEgY29sdW1uSWQgcHJvcGVydHkpXHJcbiAgICAgIC8vIHRoZW4gZmluZCB0aGVpciBhc3NvY2lhdGVkIEZpbHRlciBpbnN0YW5jZXMgdGhhdCB3ZXJlIG9yaWdpbmFsbHkgY3JlYXRlZCBpbiB0aGUgZ3JpZFxyXG4gICAgICBmaWx0ZXJzLmZvckVhY2goKG5ld0ZpbHRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVpRmlsdGVyID0gdGhpcy5fZmlsdGVyc01ldGFkYXRhLmZpbmQoKGZpbHRlcikgPT4gbmV3RmlsdGVyLmNvbHVtbklkID09PSBmaWx0ZXIuY29sdW1uRGVmLmlkKTtcclxuICAgICAgICBpZiAobmV3RmlsdGVyICYmIHVpRmlsdGVyKSB7XHJcbiAgICAgICAgICBjb25zdCBuZXdPcGVyYXRvciA9IG5ld0ZpbHRlci5vcGVyYXRvciB8fCB1aUZpbHRlci5kZWZhdWx0T3BlcmF0b3I7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNvbHVtbkZpbHRlcnMobmV3RmlsdGVyLnNlYXJjaFRlcm1zLCB1aUZpbHRlci5jb2x1bW5EZWYsIG5ld09wZXJhdG9yKTtcclxuICAgICAgICAgIHVpRmlsdGVyLnNldFZhbHVlcyhuZXdGaWx0ZXIuc2VhcmNoVGVybXMsIG5ld09wZXJhdG9yKTtcclxuXHJcbiAgICAgICAgICBpZiAodHJpZ2dlck9uU2VhcmNoQ2hhbmdlRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFja1NlYXJjaEV2ZW50KG51bGwsIHsgY29sdW1uRGVmOiB1aUZpbHRlci5jb2x1bW5EZWYsIG9wZXJhdG9yOiBuZXdPcGVyYXRvciwgc2VhcmNoVGVybXM6IG5ld0ZpbHRlci5zZWFyY2hUZXJtcywgc2hvdWxkVHJpZ2dlclF1ZXJ5OiB0cnVlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBiYWNrZW5kQXBpID0gdGhpcy5fZ3JpZE9wdGlvbnMgJiYgdGhpcy5fZ3JpZE9wdGlvbnMuYmFja2VuZFNlcnZpY2VBcGk7XHJcblxyXG4gICAgICAvLyByZWZyZXNoIHRoZSBEYXRhVmlldyBhbmQgdHJpZ2dlciBhbiBldmVudCBhZnRlciBhbGwgZmlsdGVycyB3ZXJlIHVwZGF0ZWQgYW5kIHJlbmRlcmVkXHJcbiAgICAgIHRoaXMuX2RhdGFWaWV3LnJlZnJlc2goKTtcclxuXHJcbiAgICAgIGlmIChiYWNrZW5kQXBpKSB7XHJcbiAgICAgICAgY29uc3QgYmFja2VuZEFwaVNlcnZpY2UgPSBiYWNrZW5kQXBpICYmIGJhY2tlbmRBcGkuc2VydmljZTtcclxuICAgICAgICBpZiAoYmFja2VuZEFwaVNlcnZpY2UpIHtcclxuICAgICAgICAgIGJhY2tlbmRBcGlTZXJ2aWNlLnVwZGF0ZUZpbHRlcnMoZmlsdGVycywgdHJ1ZSk7XHJcbiAgICAgICAgICBpZiAodHJpZ2dlckJhY2tlbmRRdWVyeSkge1xyXG4gICAgICAgICAgICByZWZyZXNoQmFja2VuZERhdGFzZXQodGhpcy5fZ3JpZE9wdGlvbnMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGVtaXRDaGFuZ2VkRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBlbWl0dGVyVHlwZSA9IGJhY2tlbmRBcGkgPyBFbWl0dGVyVHlwZS5yZW1vdGUgOiBFbWl0dGVyVHlwZS5sb2NhbDtcclxuICAgICAgICB0aGlzLmVtaXRGaWx0ZXJDaGFuZ2VkKGVtaXR0ZXJUeXBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS1cclxuICAvLyBwcml2YXRlIGZ1bmN0aW9uc1xyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgLyoqIEFkZCBhbGwgY3JlYXRlZCBmaWx0ZXJzIChmcm9tIHRoZWlyIHRlbXBsYXRlKSB0byB0aGUgaGVhZGVyIHJvdyBzZWN0aW9uIGFyZWEgKi9cclxuICBwcml2YXRlIGFkZEZpbHRlclRlbXBsYXRlVG9IZWFkZXJSb3coX2V2ZW50OiBFdmVudCwgYXJnczogeyBjb2x1bW46IENvbHVtbjsgZ3JpZDogYW55OyBub2RlOiBIVE1MRWxlbWVudCB9LCBpc0ZpbHRlckZpcnN0UmVuZGVyID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgY29sdW1uRGVmID0gYXJncy5jb2x1bW47XHJcbiAgICBjb25zdCBjb2x1bW5JZCA9IGNvbHVtbkRlZiAmJiBjb2x1bW5EZWYuaWQgfHwgJyc7XHJcblxyXG4gICAgaWYgKGNvbHVtbkRlZiAmJiBjb2x1bW5JZCAhPT0gJ3NlbGVjdG9yJyAmJiBjb2x1bW5EZWYuZmlsdGVyYWJsZSkge1xyXG4gICAgICBsZXQgc2VhcmNoVGVybXM6IFNlYXJjaFRlcm1bXSB8IHVuZGVmaW5lZDtcclxuICAgICAgbGV0IG9wZXJhdG9yOiBPcGVyYXRvclR5cGUgfCBPcGVyYXRvclN0cmluZztcclxuICAgICAgY29uc3QgbmV3RmlsdGVyOiBGaWx0ZXIgfCB1bmRlZmluZWQgPSB0aGlzLmZpbHRlckZhY3RvcnkuY3JlYXRlRmlsdGVyKGFyZ3MuY29sdW1uLmZpbHRlcik7XHJcbiAgICAgIG9wZXJhdG9yID0gKGNvbHVtbkRlZiAmJiBjb2x1bW5EZWYuZmlsdGVyICYmIGNvbHVtbkRlZi5maWx0ZXIub3BlcmF0b3IpIHx8IChuZXdGaWx0ZXIgJiYgbmV3RmlsdGVyLm9wZXJhdG9yKSB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgICBpZiAodGhpcy5fY29sdW1uRmlsdGVyc1tjb2x1bW5EZWYuaWRdKSB7XHJcbiAgICAgICAgc2VhcmNoVGVybXMgPSB0aGlzLl9jb2x1bW5GaWx0ZXJzW2NvbHVtbkRlZi5pZF0uc2VhcmNoVGVybXMgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIG9wZXJhdG9yID0gdGhpcy5fY29sdW1uRmlsdGVyc1tjb2x1bW5EZWYuaWRdLm9wZXJhdG9yIHx8IHVuZGVmaW5lZDtcclxuICAgICAgfSBlbHNlIGlmIChjb2x1bW5EZWYuZmlsdGVyKSB7XHJcbiAgICAgICAgLy8gd2hlbiBoaWRpbmcvc2hvd2luZyAod2l0aCBDb2x1bW4gUGlja2VyIG9yIEdyaWQgTWVudSksIGl0IHdpbGwgdHJ5IHRvIHJlLWNyZWF0ZSB5ZXQgYWdhaW4gdGhlIGZpbHRlcnMgKHNpbmNlIFNsaWNrR3JpZCBkb2VzIGEgcmUtcmVuZGVyKVxyXG4gICAgICAgIC8vIGJlY2F1c2Ugb2YgdGhhdCB3ZSBuZWVkIHRvIGZpcnN0IGdldCBzZWFyY2hUZXJtKHMpIGZyb20gdGhlIGNvbHVtbkZpbHRlcnMgKHRoYXQgaXMgd2hhdCB0aGUgdXNlciBsYXN0IHR5cGVkIGluIGEgZmlsdGVyIHNlYXJjaCBpbnB1dClcclxuICAgICAgICBzZWFyY2hUZXJtcyA9IGNvbHVtbkRlZi5maWx0ZXIuc2VhcmNoVGVybXMgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ29sdW1uRmlsdGVycyhzZWFyY2hUZXJtcywgY29sdW1uRGVmLCBvcGVyYXRvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGZpbHRlckFyZ3VtZW50czogRmlsdGVyQXJndW1lbnRzID0ge1xyXG4gICAgICAgIGdyaWQ6IHRoaXMuX2dyaWQsXHJcbiAgICAgICAgb3BlcmF0b3IsXHJcbiAgICAgICAgc2VhcmNoVGVybXMsXHJcbiAgICAgICAgY29sdW1uRGVmLFxyXG4gICAgICAgIGNhbGxiYWNrOiB0aGlzLmNhbGxiYWNrU2VhcmNoRXZlbnQuYmluZCh0aGlzKVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKG5ld0ZpbHRlcikge1xyXG4gICAgICAgIG5ld0ZpbHRlci5pbml0KGZpbHRlckFyZ3VtZW50cywgaXNGaWx0ZXJGaXJzdFJlbmRlcik7XHJcbiAgICAgICAgY29uc3QgZmlsdGVyRXhpc3RJbmRleCA9IHRoaXMuX2ZpbHRlcnNNZXRhZGF0YS5maW5kSW5kZXgoKGZpbHRlcikgPT4gbmV3RmlsdGVyLmNvbHVtbkRlZi5pZCA9PT0gZmlsdGVyLmNvbHVtbkRlZi5pZCk7XHJcblxyXG4gICAgICAgIC8vIGFkZCB0byB0aGUgZmlsdGVycyBhcnJheXMgb3IgcmVwbGFjZSBpdCB3aGVuIGZvdW5kXHJcbiAgICAgICAgaWYgKGZpbHRlckV4aXN0SW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLl9maWx0ZXJzTWV0YWRhdGEucHVzaChuZXdGaWx0ZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9maWx0ZXJzTWV0YWRhdGFbZmlsdGVyRXhpc3RJbmRleF0gPSBuZXdGaWx0ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB3aGVuIGhpZGluZy9zaG93aW5nICh3aXRoIENvbHVtbiBQaWNrZXIgb3IgR3JpZCBNZW51KSwgaXQgd2lsbCB0cnkgdG8gcmUtY3JlYXRlIHlldCBhZ2FpbiB0aGUgZmlsdGVycyAoc2luY2UgU2xpY2tHcmlkIGRvZXMgYSByZS1yZW5kZXIpXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byBhbHNvIHNldCBhZ2FpbiB0aGUgdmFsdWVzIGluIHRoZSBET00gZWxlbWVudHMgaWYgdGhlIHZhbHVlcyB3ZXJlIHNldCBieSBhIHNlYXJjaFRlcm0ocylcclxuICAgICAgICBpZiAoc2VhcmNoVGVybXMgJiYgbmV3RmlsdGVyLnNldFZhbHVlcykge1xyXG4gICAgICAgICAgbmV3RmlsdGVyLnNldFZhbHVlcyhzZWFyY2hUZXJtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxsYmFjayBtZXRob2QgdGhhdCBpcyBjYWxsZWQgYW5kIGV4ZWN1dGVkIGJ5IHRoZSBpbmRpdmlkdWFsIEZpbHRlciAoRE9NIGVsZW1lbnQpLFxyXG4gICAqIGZvciBleGFtcGxlIHdoZW4gdXNlciB0eXBlIGluIGEgd29yZCB0byBzZWFyY2ggKHdoaWNoIHVzZXMgSW5wdXRGaWx0ZXIpLCB0aGlzIEZpbHRlciB3aWxsIGV4ZWN1dGUgdGhlIGNhbGxiYWNrIGZyb20gYW4gaW5wdXQgY2hhbmdlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHByaXZhdGUgY2FsbGJhY2tTZWFyY2hFdmVudChldmVudDogYW55LCBhcmdzOiBGaWx0ZXJDYWxsYmFja0FyZykge1xyXG4gICAgaWYgKGFyZ3MpIHtcclxuICAgICAgY29uc3Qgc2VhcmNoVGVybSA9ICgoZXZlbnQgJiYgZXZlbnQudGFyZ2V0KSA/IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgOiB1bmRlZmluZWQpO1xyXG4gICAgICBjb25zdCBzZWFyY2hUZXJtcyA9IChhcmdzLnNlYXJjaFRlcm1zICYmIEFycmF5LmlzQXJyYXkoYXJncy5zZWFyY2hUZXJtcykpID8gYXJncy5zZWFyY2hUZXJtcyA6IChzZWFyY2hUZXJtID8gW3NlYXJjaFRlcm1dIDogdW5kZWZpbmVkKTtcclxuICAgICAgY29uc3QgY29sdW1uRGVmID0gYXJncy5jb2x1bW5EZWYgfHwgbnVsbDtcclxuICAgICAgY29uc3QgY29sdW1uSWQgPSBjb2x1bW5EZWYgJiYgY29sdW1uRGVmLmlkIHx8ICcnO1xyXG4gICAgICBjb25zdCBvcGVyYXRvciA9IGFyZ3Mub3BlcmF0b3IgfHwgdW5kZWZpbmVkO1xyXG4gICAgICBjb25zdCBoYXNTZWFyY2hUZXJtcyA9IHNlYXJjaFRlcm1zICYmIEFycmF5LmlzQXJyYXkoc2VhcmNoVGVybXMpO1xyXG4gICAgICBjb25zdCB0ZXJtc0NvdW50ID0gaGFzU2VhcmNoVGVybXMgJiYgc2VhcmNoVGVybXMgJiYgc2VhcmNoVGVybXMubGVuZ3RoO1xyXG4gICAgICBjb25zdCBvbGRDb2x1bW5GaWx0ZXJzID0geyAuLi50aGlzLl9jb2x1bW5GaWx0ZXJzIH07XHJcblxyXG4gICAgICBpZiAoY29sdW1uRGVmICYmIGNvbHVtbklkKSB7XHJcbiAgICAgICAgaWYgKCFoYXNTZWFyY2hUZXJtcyB8fCB0ZXJtc0NvdW50ID09PSAwIHx8ICh0ZXJtc0NvdW50ID09PSAxICYmIEFycmF5LmlzQXJyYXkoc2VhcmNoVGVybXMpICYmIHNlYXJjaFRlcm1zWzBdID09PSAnJykpIHtcclxuICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgcHJvcGVydHkgZnJvbSB0aGUgY29sdW1uRmlsdGVycyB3aGVuIGl0IGJlY29tZXMgZW1wdHlcclxuICAgICAgICAgIC8vIHdpdGhvdXQgZG9pbmcgdGhpcywgaXQgd291bGQgbGVhdmUgYW4gaW5jb3JyZWN0IHN0YXRlIG9mIHRoZSBwcmV2aW91cyBjb2x1bW4gZmlsdGVycyB3aGVuIGZpbHRlcmluZyBvbiBhbm90aGVyIGNvbHVtblxyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbHVtbkZpbHRlcnNbY29sdW1uSWRdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCBjb2xJZCA9ICcnICsgY29sdW1uSWQgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgY29uc3QgY29sRmlsdGVyOiBDb2x1bW5GaWx0ZXIgPSB7XHJcbiAgICAgICAgICAgIGNvbHVtbklkOiBjb2xJZCxcclxuICAgICAgICAgICAgY29sdW1uRGVmLFxyXG4gICAgICAgICAgICBzZWFyY2hUZXJtcyxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBpZiAob3BlcmF0b3IpIHtcclxuICAgICAgICAgICAgY29sRmlsdGVyLm9wZXJhdG9yID0gb3BlcmF0b3I7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLl9jb2x1bW5GaWx0ZXJzW2NvbElkXSA9IGNvbEZpbHRlcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGV2ZW50IG1pZ2h0IGhhdmUgYmVlbiBjcmVhdGVkIGFzIGEgQ3VzdG9tRXZlbnQgKGUuZy4gQ29tcG91bmREYXRlRmlsdGVyKSwgd2l0aG91dCBiZWluZyBhIHZhbGlkIFNsaWNrLkV2ZW50RGF0YSxcclxuICAgICAgLy8gaWYgc28gd2Ugd2lsbCBjcmVhdGUgYSBuZXcgU2xpY2suRXZlbnREYXRhIGFuZCBtZXJnZSBpdCB3aXRoIHRoYXQgQ3VzdG9tRXZlbnQgdG8gYXZvaWQgaGF2aW5nIFNsaWNrR3JpZCBlcnJvcnNcclxuICAgICAgY29uc3QgZXZlbnREYXRhID0gKGV2ZW50ICYmIHR5cGVvZiBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCAhPT0gJ2Z1bmN0aW9uJykgPyAkLmV4dGVuZCh7fSwgbmV3IFNsaWNrLkV2ZW50RGF0YSgpLCBldmVudCkgOiBldmVudDtcclxuXHJcbiAgICAgIC8vIHRyaWdnZXIgYW4gZXZlbnQgb25seSBpZiBGaWx0ZXJzIGNoYW5nZWQgb3IgaWYgRU5URVIga2V5IHdhcyBwcmVzc2VkXHJcbiAgICAgIGNvbnN0IGV2ZW50S2V5ID0gZXZlbnQgJiYgZXZlbnQua2V5O1xyXG4gICAgICBjb25zdCBldmVudEtleUNvZGUgPSBldmVudCAmJiBldmVudC5rZXlDb2RlO1xyXG4gICAgICBpZiAodGhpcy5fb25TZWFyY2hDaGFuZ2UgJiYgKGV2ZW50S2V5ID09PSAnRW50ZXInIHx8IGV2ZW50S2V5Q29kZSA9PT0gS2V5Q29kZS5FTlRFUiB8fCAhaXNlcXVhbChvbGRDb2x1bW5GaWx0ZXJzLCB0aGlzLl9jb2x1bW5GaWx0ZXJzKSkpIHtcclxuICAgICAgICB0aGlzLl9vblNlYXJjaENoYW5nZS5ub3RpZnkoe1xyXG4gICAgICAgICAgY2xlYXJGaWx0ZXJUcmlnZ2VyZWQ6IGFyZ3MuY2xlYXJGaWx0ZXJUcmlnZ2VyZWQsXHJcbiAgICAgICAgICBzaG91bGRUcmlnZ2VyUXVlcnk6IGFyZ3Muc2hvdWxkVHJpZ2dlclF1ZXJ5LFxyXG4gICAgICAgICAgY29sdW1uSWQsXHJcbiAgICAgICAgICBjb2x1bW5EZWYsXHJcbiAgICAgICAgICBjb2x1bW5GaWx0ZXJzOiB0aGlzLl9jb2x1bW5GaWx0ZXJzLFxyXG4gICAgICAgICAgb3BlcmF0b3IsXHJcbiAgICAgICAgICBzZWFyY2hUZXJtcyxcclxuICAgICAgICAgIGdyaWQ6IHRoaXMuX2dyaWRcclxuICAgICAgICB9LCBldmVudERhdGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb29wIHRocm91Z2ggYWxsIGNvbHVtbiBkZWZpbml0aW9ucyBhbmQgZG8gdGhlIGZvbGxvd2luZyB0aGluZ1xyXG4gICAqIDEuIGxvb3AgdGhyb3VnaCBlYWNoIEhlYWRlciBNZW51IGNvbW1hbmRzIGFuZCBjaGFuZ2UgdGhlIFwiaGlkZGVuXCIgY29tbWFuZHMgdG8gc2hvdy9oaWRlIGRlcGVuZGluZyBpZiBpdCdzIGVuYWJsZWQvZGlzYWJsZWRcclxuICAgKiBBbHNvIG5vdGUgdGhhdCB3ZSBhcmVuJ3QgZGVsZXRpbmcgYW55IHByb3BlcnRpZXMsIHdlIGp1c3QgdG9nZ2xlIHRoZWlyIGZsYWdzIHNvIHRoYXQgd2UgY2FuIHJlbG9vcCB0aHJvdWdoIGF0IGxhdGVyIHBvaW50IGluIHRpbWUuXHJcbiAgICogKGlmIHdlIHByZXZpb3VzbHkgZGVsZXRlZCB0aGVzZSBwcm9wZXJ0aWVzIHdlIHdvdWxkbid0IGJlIGFibGUgdG8gY2hhbmdlIHRoZW0gYmFjayBzaW5jZSB0aGVzZSBwcm9wZXJ0aWVzIHdvdWxkbid0IGV4aXN0IGFueW1vcmUsIGhlbmNlIHdoeSB3ZSBqdXN0IGhpZGUgdGhlIGNvbW1hbmRzKVxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEaXNhYmxpbmcgLSBhcmUgd2UgZGlzYWJsaW5nIHRoZSBmaWx0ZXIgZnVuY3Rpb25hbGl0eT8gRGVmYXVsdHMgdG8gdHJ1ZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgZGlzYWJsZUFsbEZpbHRlcmluZ0NvbW1hbmRzKGlzRGlzYWJsaW5nID0gdHJ1ZSk6IENvbHVtbltdIHtcclxuICAgIGNvbnN0IGNvbHVtbkRlZmluaXRpb25zID0gdGhpcy5fZ3JpZC5nZXRDb2x1bW5zKCk7XHJcblxyXG4gICAgLy8gbG9vcCB0aHJvdWdoIGNvbHVtbiBkZWZpbml0aW9uIHRvIGhpZGUvc2hvdyBoZWFkZXIgbWVudSBjb21tYW5kc1xyXG4gICAgY29sdW1uRGVmaW5pdGlvbnMuZm9yRWFjaCgoY29sKSA9PiB7XHJcbiAgICAgIGlmIChjb2wgJiYgY29sLmhlYWRlciAmJiBjb2wuaGVhZGVyLm1lbnUpIHtcclxuICAgICAgICBjb2wuaGVhZGVyLm1lbnUuaXRlbXMuZm9yRWFjaChtZW51SXRlbSA9PiB7XHJcbiAgICAgICAgICBpZiAobWVudUl0ZW0gJiYgdHlwZW9mIG1lbnVJdGVtICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBjb25zdCBtZW51Q29tbWFuZCA9IG1lbnVJdGVtLmNvbW1hbmQ7XHJcbiAgICAgICAgICAgIGlmIChtZW51Q29tbWFuZCA9PT0gJ2NsZWFyLWZpbHRlcicpIHtcclxuICAgICAgICAgICAgICBtZW51SXRlbS5oaWRkZW4gPSBpc0Rpc2FibGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBsb29wIHRocm91Z2ggY29sdW1uIGRlZmluaXRpb24gdG8gaGlkZS9zaG93IGdyaWQgbWVudSBjb21tYW5kc1xyXG4gICAgaWYgKHRoaXMuX2dyaWRPcHRpb25zICYmIHRoaXMuX2dyaWRPcHRpb25zLmdyaWRNZW51ICYmIHRoaXMuX2dyaWRPcHRpb25zLmdyaWRNZW51LmN1c3RvbUl0ZW1zKSB7XHJcbiAgICAgIHRoaXMuX2dyaWRPcHRpb25zLmdyaWRNZW51LmN1c3RvbUl0ZW1zLmZvckVhY2goKG1lbnVJdGVtKSA9PiB7XHJcbiAgICAgICAgaWYgKG1lbnVJdGVtICYmIHR5cGVvZiBtZW51SXRlbSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGNvbnN0IG1lbnVDb21tYW5kID0gbWVudUl0ZW0uY29tbWFuZDtcclxuICAgICAgICAgIGlmIChtZW51Q29tbWFuZCA9PT0gJ2NsZWFyLWZpbHRlcicgfHwgbWVudUNvbW1hbmQgPT09ICd0b2dnbGUtZmlsdGVyJykge1xyXG4gICAgICAgICAgICBtZW51SXRlbS5oaWRkZW4gPSBpc0Rpc2FibGluZztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb2x1bW5EZWZpbml0aW9ucztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlQ29sdW1uRmlsdGVycyhzZWFyY2hUZXJtczogU2VhcmNoVGVybVtdIHwgdW5kZWZpbmVkLCBjb2x1bW5EZWY6IGFueSwgb3BlcmF0b3I/OiBPcGVyYXRvclR5cGUgfCBPcGVyYXRvclN0cmluZykge1xyXG4gICAgaWYgKHNlYXJjaFRlcm1zICYmIGNvbHVtbkRlZikge1xyXG4gICAgICB0aGlzLl9jb2x1bW5GaWx0ZXJzW2NvbHVtbkRlZi5pZF0gPSB7XHJcbiAgICAgICAgY29sdW1uSWQ6IGNvbHVtbkRlZi5pZCxcclxuICAgICAgICBjb2x1bW5EZWYsXHJcbiAgICAgICAgc2VhcmNoVGVybXMsXHJcbiAgICAgICAgb3BlcmF0b3JcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19