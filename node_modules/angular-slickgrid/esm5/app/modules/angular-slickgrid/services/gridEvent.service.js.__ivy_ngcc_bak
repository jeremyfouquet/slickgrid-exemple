var GridEventService = /** @class */ (function () {
    function GridEventService() {
        this._eventHandler = new Slick.EventHandler();
    }
    Object.defineProperty(GridEventService.prototype, "eventHandler", {
        get: function () {
            return this._eventHandler;
        },
        enumerable: true,
        configurable: true
    });
    GridEventService.prototype.dispose = function () {
        this._eventHandler.unsubscribeAll();
        this.handleOnCellChange = null;
        this.handleOnCellClick = null;
    };
    /* OnCellChange Event */
    GridEventService.prototype.bindOnCellChange = function (grid, dataView) {
        var _this = this;
        // subscribe to this Slickgrid event of onCellChange
        this._eventHandler.subscribe(grid.onCellChange, function (e, args) {
            _this.handleOnCellChange.call(_this, grid, dataView, e, args);
        });
    };
    /* OnClick Event */
    GridEventService.prototype.bindOnClick = function (grid, dataView) {
        var _this = this;
        this._eventHandler.subscribe(grid.onClick, function (e, args) {
            _this.handleOnCellClick.call(_this, grid, dataView, e, args);
        });
    };
    //
    // private functions
    // ------------------
    /* OnCellChange Event Handler */
    GridEventService.prototype.handleOnCellChange = function (grid, dataView, e, args) {
        if (!e || !args || !grid || args.cell === undefined || !grid.getColumns || !grid.getDataItem) {
            return;
        }
        var column = grid.getColumns()[args.cell];
        // if the column definition has a onCellChange property (a callback function), then run it
        if (typeof column.onCellChange === 'function') {
            // add to the output gridOptions & dataView since we'll need them inside the AJAX column.onCellChange
            var returnedArgs = {
                row: args.row,
                cell: args.cell,
                dataView: dataView,
                grid: grid,
                columnDef: column,
                dataContext: grid.getDataItem(args.row)
            };
            // finally call up the Slick.column.onCellChanges.... function
            column.onCellChange(e, returnedArgs);
        }
    };
    /* OnCellClick Event Handler */
    GridEventService.prototype.handleOnCellClick = function (grid, dataView, e, args) {
        if (!e || !args || !grid || args.cell === undefined || !grid.getColumns || !grid.getDataItem) {
            return;
        }
        var column = grid && grid.getColumns && grid.getColumns()[args.cell];
        var gridOptions = grid && grid.getOptions && grid.getOptions() || {};
        // only when using autoCommitEdit, we will make the cell active (in focus) when clicked
        // setting the cell as active as a side effect and if autoCommitEdit is set to false then the Editors won't save correctly
        if (gridOptions.enableCellNavigation && (!gridOptions.editable || (gridOptions.editable && gridOptions.autoCommitEdit))) {
            grid.setActiveCell(args.row, args.cell);
        }
        // if the column definition has a onCellClick property (a callback function), then run it
        if (typeof column.onCellClick === 'function') {
            // add to the output gridOptions & dataView since we'll need them inside the AJAX column.onClick
            var returnedArgs = {
                row: args.row,
                cell: args.cell,
                dataView: dataView,
                grid: grid,
                columnDef: column,
                dataContext: grid.getDataItem(args.row)
            };
            // finally call up the Slick.column.onCellClick.... function
            column.onCellClick(e, returnedArgs);
        }
    };
    return GridEventService;
}());
export { GridEventService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZEV2ZW50LnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLXNsaWNrZ3JpZC8iLCJzb3VyY2VzIjpbImFwcC9tb2R1bGVzL2FuZ3VsYXItc2xpY2tncmlkL3NlcnZpY2VzL2dyaWRFdmVudC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBO0lBT0U7UUFDRSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ2hELENBQUM7SUFORCxzQkFBSSwwQ0FBWTthQUFoQjtZQUNFLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUM1QixDQUFDOzs7T0FBQTtJQU1ELGtDQUFPLEdBQVA7UUFDRSxJQUFJLENBQUMsYUFBYSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztJQUNoQyxDQUFDO0lBRUQsd0JBQXdCO0lBQ3hCLDJDQUFnQixHQUFoQixVQUFpQixJQUFTLEVBQUUsUUFBYTtRQUF6QyxpQkFLQztRQUpDLG9EQUFvRDtRQUNwRCxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQUMsQ0FBNkIsRUFBRSxJQUFjO1lBQzVGLEtBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsS0FBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELG1CQUFtQjtJQUNuQixzQ0FBVyxHQUFYLFVBQVksSUFBUyxFQUFFLFFBQWE7UUFBcEMsaUJBSUM7UUFIQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQUMsQ0FBNkIsRUFBRSxJQUFjO1lBQ3ZGLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELEVBQUU7SUFDRixvQkFBb0I7SUFDcEIscUJBQXFCO0lBRXJCLGdDQUFnQztJQUNoQyw2Q0FBa0IsR0FBbEIsVUFBbUIsSUFBUyxFQUFFLFFBQWEsRUFBRSxDQUE2QixFQUFFLElBQWM7UUFDeEYsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQzVGLE9BQU87U0FDUjtRQUNELElBQU0sTUFBTSxHQUFXLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFcEQsMEZBQTBGO1FBQzFGLElBQUksT0FBTyxNQUFNLENBQUMsWUFBWSxLQUFLLFVBQVUsRUFBRTtZQUM3QyxxR0FBcUc7WUFDckcsSUFBTSxZQUFZLEdBQWdCO2dCQUNoQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ2IsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO2dCQUNmLFFBQVEsVUFBQTtnQkFDUixJQUFJLE1BQUE7Z0JBQ0osU0FBUyxFQUFFLE1BQU07Z0JBQ2pCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7YUFDeEMsQ0FBQztZQUVGLDhEQUE4RDtZQUM5RCxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQztTQUN0QztJQUNILENBQUM7SUFFRCwrQkFBK0I7SUFDdkIsNENBQWlCLEdBQXpCLFVBQTBCLElBQVMsRUFBRSxRQUFhLEVBQUUsQ0FBNkIsRUFBRSxJQUFjO1FBQy9GLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUM1RixPQUFPO1NBQ1I7UUFDRCxJQUFNLE1BQU0sR0FBVyxJQUFJLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQy9FLElBQU0sV0FBVyxHQUFlLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFFbkYsdUZBQXVGO1FBQ3ZGLDBIQUEwSDtRQUMxSCxJQUFJLFdBQVcsQ0FBQyxvQkFBb0IsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLFFBQVEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUU7WUFDdkgsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN6QztRQUVELHlGQUF5RjtRQUN6RixJQUFJLE9BQU8sTUFBTSxDQUFDLFdBQVcsS0FBSyxVQUFVLEVBQUU7WUFDNUMsZ0dBQWdHO1lBQ2hHLElBQU0sWUFBWSxHQUFnQjtnQkFDaEMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNiLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDZixRQUFRLFVBQUE7Z0JBQ1IsSUFBSSxNQUFBO2dCQUNKLFNBQVMsRUFBRSxNQUFNO2dCQUNqQixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO2FBQ3hDLENBQUM7WUFFRiw0REFBNEQ7WUFDNUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7U0FDckM7SUFDSCxDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLEFBMUZELElBMEZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2VsbEFyZ3MsIENvbHVtbiwgR3JpZE9wdGlvbiwgT25FdmVudEFyZ3MsIFNsaWNrRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi8uLi9tb2RlbHMvaW5kZXgnO1xyXG5cclxuLy8gdXNpbmcgZXh0ZXJuYWwgbm9uLXR5cGVkIGpzIGxpYnJhcmllc1xyXG5kZWNsYXJlIGNvbnN0IFNsaWNrOiBhbnk7XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZEV2ZW50U2VydmljZSB7XHJcbiAgcHJpdmF0ZSBfZXZlbnRIYW5kbGVyOiBTbGlja0V2ZW50SGFuZGxlcjtcclxuXHJcbiAgZ2V0IGV2ZW50SGFuZGxlcigpOiBTbGlja0V2ZW50SGFuZGxlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fZXZlbnRIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9ldmVudEhhbmRsZXIgPSBuZXcgU2xpY2suRXZlbnRIYW5kbGVyKCk7XHJcbiAgfVxyXG5cclxuICBkaXNwb3NlKCkge1xyXG4gICAgdGhpcy5fZXZlbnRIYW5kbGVyLnVuc3Vic2NyaWJlQWxsKCk7XHJcbiAgICB0aGlzLmhhbmRsZU9uQ2VsbENoYW5nZSA9IG51bGw7XHJcbiAgICB0aGlzLmhhbmRsZU9uQ2VsbENsaWNrID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qIE9uQ2VsbENoYW5nZSBFdmVudCAqL1xyXG4gIGJpbmRPbkNlbGxDaGFuZ2UoZ3JpZDogYW55LCBkYXRhVmlldzogYW55KSB7XHJcbiAgICAvLyBzdWJzY3JpYmUgdG8gdGhpcyBTbGlja2dyaWQgZXZlbnQgb2Ygb25DZWxsQ2hhbmdlXHJcbiAgICB0aGlzLl9ldmVudEhhbmRsZXIuc3Vic2NyaWJlKGdyaWQub25DZWxsQ2hhbmdlLCAoZTogS2V5Ym9hcmRFdmVudCB8IE1vdXNlRXZlbnQsIGFyZ3M6IENlbGxBcmdzKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlT25DZWxsQ2hhbmdlLmNhbGwodGhpcywgZ3JpZCwgZGF0YVZpZXcsIGUsIGFyZ3MpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKiBPbkNsaWNrIEV2ZW50ICovXHJcbiAgYmluZE9uQ2xpY2soZ3JpZDogYW55LCBkYXRhVmlldzogYW55KSB7XHJcbiAgICB0aGlzLl9ldmVudEhhbmRsZXIuc3Vic2NyaWJlKGdyaWQub25DbGljaywgKGU6IEtleWJvYXJkRXZlbnQgfCBNb3VzZUV2ZW50LCBhcmdzOiBDZWxsQXJncykgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZU9uQ2VsbENsaWNrLmNhbGwodGhpcywgZ3JpZCwgZGF0YVZpZXcsIGUsIGFyZ3MpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL1xyXG4gIC8vIHByaXZhdGUgZnVuY3Rpb25zXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIC8qIE9uQ2VsbENoYW5nZSBFdmVudCBIYW5kbGVyICovXHJcbiAgaGFuZGxlT25DZWxsQ2hhbmdlKGdyaWQ6IGFueSwgZGF0YVZpZXc6IGFueSwgZTogS2V5Ym9hcmRFdmVudCB8IE1vdXNlRXZlbnQsIGFyZ3M6IENlbGxBcmdzKSB7XHJcbiAgICBpZiAoIWUgfHwgIWFyZ3MgfHwgIWdyaWQgfHwgYXJncy5jZWxsID09PSB1bmRlZmluZWQgfHwgIWdyaWQuZ2V0Q29sdW1ucyB8fCAhZ3JpZC5nZXREYXRhSXRlbSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb2x1bW46IENvbHVtbiA9IGdyaWQuZ2V0Q29sdW1ucygpW2FyZ3MuY2VsbF07XHJcblxyXG4gICAgLy8gaWYgdGhlIGNvbHVtbiBkZWZpbml0aW9uIGhhcyBhIG9uQ2VsbENoYW5nZSBwcm9wZXJ0eSAoYSBjYWxsYmFjayBmdW5jdGlvbiksIHRoZW4gcnVuIGl0XHJcbiAgICBpZiAodHlwZW9mIGNvbHVtbi5vbkNlbGxDaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgLy8gYWRkIHRvIHRoZSBvdXRwdXQgZ3JpZE9wdGlvbnMgJiBkYXRhVmlldyBzaW5jZSB3ZSdsbCBuZWVkIHRoZW0gaW5zaWRlIHRoZSBBSkFYIGNvbHVtbi5vbkNlbGxDaGFuZ2VcclxuICAgICAgY29uc3QgcmV0dXJuZWRBcmdzOiBPbkV2ZW50QXJncyA9IHtcclxuICAgICAgICByb3c6IGFyZ3Mucm93LFxyXG4gICAgICAgIGNlbGw6IGFyZ3MuY2VsbCxcclxuICAgICAgICBkYXRhVmlldyxcclxuICAgICAgICBncmlkLFxyXG4gICAgICAgIGNvbHVtbkRlZjogY29sdW1uLFxyXG4gICAgICAgIGRhdGFDb250ZXh0OiBncmlkLmdldERhdGFJdGVtKGFyZ3Mucm93KVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gZmluYWxseSBjYWxsIHVwIHRoZSBTbGljay5jb2x1bW4ub25DZWxsQ2hhbmdlcy4uLi4gZnVuY3Rpb25cclxuICAgICAgY29sdW1uLm9uQ2VsbENoYW5nZShlLCByZXR1cm5lZEFyZ3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyogT25DZWxsQ2xpY2sgRXZlbnQgSGFuZGxlciAqL1xyXG4gIHByaXZhdGUgaGFuZGxlT25DZWxsQ2xpY2soZ3JpZDogYW55LCBkYXRhVmlldzogYW55LCBlOiBLZXlib2FyZEV2ZW50IHwgTW91c2VFdmVudCwgYXJnczogQ2VsbEFyZ3MpIHtcclxuICAgIGlmICghZSB8fCAhYXJncyB8fCAhZ3JpZCB8fCBhcmdzLmNlbGwgPT09IHVuZGVmaW5lZCB8fCAhZ3JpZC5nZXRDb2x1bW5zIHx8ICFncmlkLmdldERhdGFJdGVtKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGNvbHVtbjogQ29sdW1uID0gZ3JpZCAmJiBncmlkLmdldENvbHVtbnMgJiYgZ3JpZC5nZXRDb2x1bW5zKClbYXJncy5jZWxsXTtcclxuICAgIGNvbnN0IGdyaWRPcHRpb25zOiBHcmlkT3B0aW9uID0gZ3JpZCAmJiBncmlkLmdldE9wdGlvbnMgJiYgZ3JpZC5nZXRPcHRpb25zKCkgfHwge307XHJcblxyXG4gICAgLy8gb25seSB3aGVuIHVzaW5nIGF1dG9Db21taXRFZGl0LCB3ZSB3aWxsIG1ha2UgdGhlIGNlbGwgYWN0aXZlIChpbiBmb2N1cykgd2hlbiBjbGlja2VkXHJcbiAgICAvLyBzZXR0aW5nIHRoZSBjZWxsIGFzIGFjdGl2ZSBhcyBhIHNpZGUgZWZmZWN0IGFuZCBpZiBhdXRvQ29tbWl0RWRpdCBpcyBzZXQgdG8gZmFsc2UgdGhlbiB0aGUgRWRpdG9ycyB3b24ndCBzYXZlIGNvcnJlY3RseVxyXG4gICAgaWYgKGdyaWRPcHRpb25zLmVuYWJsZUNlbGxOYXZpZ2F0aW9uICYmICghZ3JpZE9wdGlvbnMuZWRpdGFibGUgfHwgKGdyaWRPcHRpb25zLmVkaXRhYmxlICYmIGdyaWRPcHRpb25zLmF1dG9Db21taXRFZGl0KSkpIHtcclxuICAgICAgZ3JpZC5zZXRBY3RpdmVDZWxsKGFyZ3Mucm93LCBhcmdzLmNlbGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIHRoZSBjb2x1bW4gZGVmaW5pdGlvbiBoYXMgYSBvbkNlbGxDbGljayBwcm9wZXJ0eSAoYSBjYWxsYmFjayBmdW5jdGlvbiksIHRoZW4gcnVuIGl0XHJcbiAgICBpZiAodHlwZW9mIGNvbHVtbi5vbkNlbGxDbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAvLyBhZGQgdG8gdGhlIG91dHB1dCBncmlkT3B0aW9ucyAmIGRhdGFWaWV3IHNpbmNlIHdlJ2xsIG5lZWQgdGhlbSBpbnNpZGUgdGhlIEFKQVggY29sdW1uLm9uQ2xpY2tcclxuICAgICAgY29uc3QgcmV0dXJuZWRBcmdzOiBPbkV2ZW50QXJncyA9IHtcclxuICAgICAgICByb3c6IGFyZ3Mucm93LFxyXG4gICAgICAgIGNlbGw6IGFyZ3MuY2VsbCxcclxuICAgICAgICBkYXRhVmlldyxcclxuICAgICAgICBncmlkLFxyXG4gICAgICAgIGNvbHVtbkRlZjogY29sdW1uLFxyXG4gICAgICAgIGRhdGFDb250ZXh0OiBncmlkLmdldERhdGFJdGVtKGFyZ3Mucm93KVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gZmluYWxseSBjYWxsIHVwIHRoZSBTbGljay5jb2x1bW4ub25DZWxsQ2xpY2suLi4uIGZ1bmN0aW9uXHJcbiAgICAgIGNvbHVtbi5vbkNlbGxDbGljayhlLCByZXR1cm5lZEFyZ3MpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=