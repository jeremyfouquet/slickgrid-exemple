import { Constants } from '../constants';
export function floatValidator(inputValue, options) {
    var floatNumber = !isNaN(inputValue) ? parseFloat(inputValue) : null;
    var decPlaces = options.decimal || 0;
    var isRequired = options.required;
    var minValue = options.minValue;
    var maxValue = options.maxValue;
    var operatorConditionalType = options.operatorConditionalType || 'inclusive';
    var errorMsg = options.errorMessage;
    var mapValidation = {
        '{{minValue}}': minValue,
        '{{maxValue}}': maxValue,
        '{{minDecimal}}': 0,
        '{{maxDecimal}}': decPlaces
    };
    var isValid = true;
    var outputMsg = '';
    if (typeof options.validator === 'function') {
        return options.validator(inputValue, options.editorArgs);
    }
    else if (isRequired && inputValue === '') {
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_REQUIRED_FIELD;
    }
    else if (inputValue !== '' && (isNaN(inputValue) || (decPlaces === 0 && !/^[-+]?(\d*(\.)?(\d)*)$/.test(inputValue)))) {
        // when decimal value is 0 (which is the default), we accept 0 or more decimal values
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_EDITOR_VALID_NUMBER;
    }
    else if (minValue !== undefined && maxValue !== undefined && floatNumber !== null && ((operatorConditionalType === 'exclusive' && (floatNumber <= minValue || floatNumber >= maxValue)) || (operatorConditionalType === 'inclusive' && (floatNumber < minValue || floatNumber > maxValue)))) {
        // MIN & MAX Values provided
        // when decimal value is bigger than 0, we only accept the decimal values as that value set
        // for example if we set decimalPlaces to 2, we will only accept numbers between 0 and 2 decimals
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_EDITOR_NUMBER_BETWEEN.replace(/{{minValue}}|{{maxValue}}/gi, function (matched) { return mapValidation[matched]; });
    }
    else if (minValue !== undefined && floatNumber !== null && ((operatorConditionalType === 'exclusive' && floatNumber <= minValue) || (operatorConditionalType === 'inclusive' && floatNumber < minValue))) {
        // MIN VALUE ONLY
        // when decimal value is bigger than 0, we only accept the decimal values as that value set
        // for example if we set decimalPlaces to 2, we will only accept numbers between 0 and 2 decimals
        isValid = false;
        var defaultErrorMsg = operatorConditionalType === 'inclusive' ? Constants.VALIDATION_EDITOR_NUMBER_MIN_INCLUSIVE : Constants.VALIDATION_EDITOR_NUMBER_MIN;
        outputMsg = errorMsg || defaultErrorMsg.replace(/{{minValue}}/gi, function (matched) { return mapValidation[matched]; });
    }
    else if (maxValue !== undefined && floatNumber !== null && ((operatorConditionalType === 'exclusive' && floatNumber >= maxValue) || (operatorConditionalType === 'inclusive' && floatNumber > maxValue))) {
        // MAX VALUE ONLY
        // when decimal value is bigger than 0, we only accept the decimal values as that value set
        // for example if we set decimalPlaces to 2, we will only accept numbers between 0 and 2 decimals
        isValid = false;
        var defaultErrorMsg = operatorConditionalType === 'inclusive' ? Constants.VALIDATION_EDITOR_NUMBER_MAX_INCLUSIVE : Constants.VALIDATION_EDITOR_NUMBER_MAX;
        outputMsg = errorMsg || defaultErrorMsg.replace(/{{maxValue}}/gi, function (matched) { return mapValidation[matched]; });
    }
    else if ((decPlaces > 0 && !new RegExp("^[-+]?(\\d*(\\.)?(\\d){0," + decPlaces + "})$").test(inputValue))) {
        // when decimal value is bigger than 0, we only accept the decimal values as that value set
        // for example if we set decimalPlaces to 2, we will only accept numbers between 0 and 2 decimals
        isValid = false;
        outputMsg = errorMsg || Constants.VALIDATION_EDITOR_DECIMAL_BETWEEN.replace(/{{minDecimal}}|{{maxDecimal}}/gi, function (matched) { return mapValidation[matched]; });
    }
    return { valid: isValid, msg: outputMsg };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmxvYXRWYWxpZGF0b3IuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9hbmd1bGFyLXNsaWNrZ3JpZC8iLCJzb3VyY2VzIjpbImFwcC9tb2R1bGVzL2FuZ3VsYXItc2xpY2tncmlkL2VkaXRvclZhbGlkYXRvcnMvZmxvYXRWYWxpZGF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQWV6QyxNQUFNLFVBQVUsY0FBYyxDQUFDLFVBQWUsRUFBRSxPQUE4QjtJQUM1RSxJQUFNLFdBQVcsR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2pGLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLElBQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDcEMsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUNsQyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO0lBQ2xDLElBQU0sdUJBQXVCLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixJQUFJLFdBQVcsQ0FBQztJQUMvRSxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBQ3RDLElBQU0sYUFBYSxHQUFHO1FBQ3BCLGNBQWMsRUFBRSxRQUFRO1FBQ3hCLGNBQWMsRUFBRSxRQUFRO1FBQ3hCLGdCQUFnQixFQUFFLENBQUM7UUFDbkIsZ0JBQWdCLEVBQUUsU0FBUztLQUM1QixDQUFDO0lBQ0YsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO0lBQ25CLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUVuQixJQUFJLE9BQU8sT0FBTyxDQUFDLFNBQVMsS0FBSyxVQUFVLEVBQUU7UUFDM0MsT0FBTyxPQUFPLENBQUMsU0FBUyxDQUFDLFVB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LElBQUksTUFBTSxDQUFDLDhCQUE0QixTQUFTLFFBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFO1FBQ3RHLDJGQUEyRjtRQUMzRixpR0FBaUc7UUFDakcsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNoQixTQUFTLEdBQUcsUUFBUSxJQUFJLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxPQUFPLENBQUMsaUNBQWlDLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxhQUFhLENBQUMsT0FBTyxDQUFDLEVBQXRCLENBQXNCLENBQUMsQ0FBQztLQUNySjtJQUVELE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsQ0FBQztBQUM1QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgRWRpdG9yVmFsaWRhdG9yT3V0cHV0IH0gZnJvbSAnLi4vbW9kZWxzL2VkaXRvclZhbGlkYXRvck91dHB1dC5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBFZGl0b3JWYWxpZGF0b3IgfSBmcm9tICcuLi9tb2RlbHMvZWRpdG9yVmFsaWRhdG9yLmludGVyZmFjZSc7XHJcblxyXG5pbnRlcmZhY2UgRmxvYXRWYWxpZGF0b3JPcHRpb25zIHtcclxuICBlZGl0b3JBcmdzOiBhbnk7XHJcbiAgZGVjaW1hbD86IG51bWJlcjtcclxuICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgbWluVmFsdWU/OiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgbWF4VmFsdWU/OiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgb3BlcmF0b3JDb25kaXRpb25hbFR5cGU/OiAnaW5jbHVzaXZlJyB8ICdleGNsdXNpdmUnO1xyXG4gIHJlcXVpcmVkPzogYm9vbGVhbjtcclxuICB2YWxpZGF0b3I/OiBFZGl0b3JWYWxpZGF0b3I7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9hdFZhbGlkYXRvcihpbnB1dFZhbHVlOiBhbnksIG9wdGlvbnM6IEZsb2F0VmFsaWRhdG9yT3B0aW9ucyk6IEVkaXRvclZhbGlkYXRvck91dHB1dCB7XHJcbiAgY29uc3QgZmxvYXROdW1iZXIgPSAhaXNOYU4oaW5wdXRWYWx1ZSBhcyBudW1iZXIpID8gcGFyc2VGbG9hdChpbnB1dFZhbHVlKSA6IG51bGw7XHJcbiAgY29uc3QgZGVjUGxhY2VzID0gb3B0aW9ucy5kZWNpbWFsIHx8IDA7XHJcbiAgY29uc3QgaXNSZXF1aXJlZCA9IG9wdGlvbnMucmVxdWlyZWQ7XHJcbiAgY29uc3QgbWluVmFsdWUgPSBvcHRpb25zLm1pblZhbHVlO1xyXG4gIGNvbnN0IG1heFZhbHVlID0gb3B0aW9ucy5tYXhWYWx1ZTtcclxuICBjb25zdCBvcGVyYXRvckNvbmRpdGlvbmFsVHlwZSA9IG9wdGlvbnMub3BlcmF0b3JDb25kaXRpb25hbFR5cGUgfHwgJ2luY2x1c2l2ZSc7XHJcbiAgY29uc3QgZXJyb3JNc2cgPSBvcHRpb25zLmVycm9yTWVzc2FnZTtcclxuICBjb25zdCBtYXBWYWxpZGF0aW9uID0ge1xyXG4gICAgJ3t7bWluVmFsdWV9fSc6IG1pblZhbHVlLFxyXG4gICAgJ3t7bWF4VmFsdWV9fSc6IG1heFZhbHVlLFxyXG4gICAgJ3t7bWluRGVjaW1hbH19JzogMCxcclxuICAgICd7e21heERlY2ltYWx9fSc6IGRlY1BsYWNlc1xyXG4gIH07XHJcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xyXG4gIGxldCBvdXRwdXRNc2cgPSAnJztcclxuXHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zLnZhbGlkYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgcmV0dXJuIG9wdGlvbnMudmFsaWRhdG9yKGlucHV0VmFsdWUsIG9wdGlvbnMuZWRpdG9yQXJncyk7XHJcbiAgfSBlbHNlIGlmIChpc1JlcXVpcmVkICYmIGlucHV0VmFsdWUgPT09ICcnKSB7XHJcbiAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICBvdXRwdXRNc2cgPSBlcnJvck1zZyB8fCBDb25zdGFudHMuVkFMSURBVElPTl9SRVFVSVJFRF9GSUVMRDtcclxuICB9IGVsc2UgaWYgKGlucHV0VmFsdWUgIT09ICcnICYmIChpc05hTihpbnB1dFZhbHVlIGFzIG51bWJlcikgfHwgKGRlY1BsYWNlcyA9PT0gMCAmJiAhL15bLStdPyhcXGQqKFxcLik/KFxcZCkqKSQvLnRlc3QoaW5wdXRWYWx1ZSkpKSkge1xyXG4gICAgLy8gd2hlbiBkZWNpbWFsIHZhbHVlIGlzIDAgKHdoaWNoIGlzIHRoZSBkZWZhdWx0KSwgd2UgYWNjZXB0IDAgb3IgbW9yZSBkZWNpbWFsIHZhbHVlc1xyXG4gICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgb3V0cHV0TXNnID0gZXJyb3JNc2cgfHwgQ29uc3RhbnRzLlZBTElEQVRJT05fRURJVE9SX1ZBTElEX05VTUJFUjtcclxuICB9IGVsc2UgaWYgKG1pblZhbHVlICE9PSB1bmRlZmluZWQgJiYgbWF4VmFsdWUgIT09IHVuZGVmaW5lZCAmJiBmbG9hdE51bWJlciAhPT0gbnVsbCAmJiAoKG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnZXhjbHVzaXZlJyAmJiAoZmxvYXROdW1iZXIgPD0gbWluVmFsdWUgfHwgZmxvYXROdW1iZXIgPj0gbWF4VmFsdWUpKSB8fCAob3BlcmF0b3JDb25kaXRpb25hbFR5cGUgPT09ICdpbmNsdXNpdmUnICYmIChmbG9hdE51bWJlciA8IG1pblZhbHVlIHx8IGZsb2F0TnVtYmVyID4gbWF4VmFsdWUpKSkpIHtcclxuICAgIC8vIE1JTiAmIE1BWCBWYWx1ZXMgcHJvdmlkZWRcclxuICAgIC8vIHdoZW4gZGVjaW1hbCB2YWx1ZSBpcyBiaWdnZXIgdGhhbiAwLCB3ZSBvbmx5IGFjY2VwdCB0aGUgZGVjaW1hbCB2YWx1ZXMgYXMgdGhhdCB2YWx1ZSBzZXRcclxuICAgIC8vIGZvciBleGFtcGxlIGlmIHdlIHNldCBkZWNpbWFsUGxhY2VzIHRvIDIsIHdlIHdpbGwgb25seSBhY2NlcHQgbnVtYmVycyBiZXR3ZWVuIDAgYW5kIDIgZGVjaW1hbHNcclxuICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgIG91dHB1dE1zZyA9IGVycm9yTXNnIHx8IENvbnN0YW50cy5WQUxJREFUSU9OX0VESVRPUl9OVU1CRVJfQkVUV0VFTi5yZXBsYWNlKC97e21pblZhbHVlfX18e3ttYXhWYWx1ZX19L2dpLCAobWF0Y2hlZCkgPT4gbWFwVmFsaWRhdGlvblttYXRjaGVkXSk7XHJcbiAgfSBlbHNlIGlmIChtaW5WYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGZsb2F0TnVtYmVyICE9PSBudWxsICYmICgob3BlcmF0b3JDb25kaXRpb25hbFR5cGUgPT09ICdleGNsdXNpdmUnICYmIGZsb2F0TnVtYmVyIDw9IG1pblZhbHVlKSB8fCAob3BlcmF0b3JDb25kaXRpb25hbFR5cGUgPT09ICdpbmNsdXNpdmUnICYmIGZsb2F0TnVtYmVyIDwgbWluVmFsdWUpKSkge1xyXG4gICAgLy8gTUlOIFZBTFVFIE9OTFlcclxuICAgIC8vIHdoZW4gZGVjaW1hbCB2YWx1ZSBpcyBiaWdnZXIgdGhhbiAwLCB3ZSBvbmx5IGFjY2VwdCB0aGUgZGVjaW1hbCB2YWx1ZXMgYXMgdGhhdCB2YWx1ZSBzZXRcclxuICAgIC8vIGZvciBleGFtcGxlIGlmIHdlIHNldCBkZWNpbWFsUGxhY2VzIHRvIDIsIHdlIHdpbGwgb25seSBhY2NlcHQgbnVtYmVycyBiZXR3ZWVuIDAgYW5kIDIgZGVjaW1hbHNcclxuICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgIGNvbnN0IGRlZmF1bHRFcnJvck1zZyA9IG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnaW5jbHVzaXZlJyA/IENvbnN0YW50cy5WQUxJREFUSU9OX0VESVRPUl9OVU1CRVJfTUlOX0lOQ0xVU0lWRSA6IENvbnN0YW50cy5WQUxJREFUSU9OX0VESVRPUl9OVU1CRVJfTUlOO1xyXG4gICAgb3V0cHV0TXNnID0gZXJyb3JNc2cgfHwgZGVmYXVsdEVycm9yTXNnLnJlcGxhY2UoL3t7bWluVmFsdWV9fS9naSwgKG1hdGNoZWQpID0+IG1hcFZhbGlkYXRpb25bbWF0Y2hlZF0pO1xyXG4gIH0gZWxzZSBpZiAobWF4VmFsdWUgIT09IHVuZGVmaW5lZCAmJiBmbG9hdE51bWJlciAhPT0gbnVsbCAmJiAoKG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnZXhjbHVzaXZlJyAmJiBmbG9hdE51bWJlciA+PSBtYXhWYWx1ZSkgfHwgKG9wZXJhdG9yQ29uZGl0aW9uYWxUeXBlID09PSAnaW5jbHVzaXZlJyAmJiBmbG9hdE51bWJlciA+IG1heFZhbHVlKSkpIHtcclxuICAgIC8vIE1BWCBWQUxVRSBPTkxZXHJcbiAgICAvLyB3aGVuIGRlY2ltYWwgdmFsdWUgaXMgYmlnZ2VyIHRoYW4gMCwgd2Ugb25seSBhY2NlcHQgdGhlIGRlY2ltYWwgdmFsdWVzIGFzIHRoYXQgdmFsdWUgc2V0XHJcbiAgICAvLyBmb3IgZXhhbXBsZSBpZiB3ZSBzZXQgZGVjaW1hbFBsYWNlcyB0byAyLCB3ZSB3aWxsIG9ubHkgYWNjZXB0IG51bWJlcnMgYmV0d2VlbiAwIGFuZCAyIGRlY2ltYWxzXHJcbiAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICBjb25zdCBkZWZhdWx0RXJyb3JNc2cgPSBvcGVyYXRvckNvbmRpdGlvbmFsVHlwZSA9PT0gJ2luY2x1c2l2ZScgPyBDb25zdGFudHMuVkFMSURBVElPTl9FRElUT1JfTlVNQkVSX01BWF9JTkNMVVNJVkUgOiBDb25zdGFudHMuVkFMSURBVElPTl9FRElUT1JfTlVNQkVSX01BWDtcclxuICAgIG91dHB1dE1zZyA9IGVycm9yTXNnIHx8IGRlZmF1bHRFcnJvck1zZy5yZXBsYWNlKC97e21heFZhbHVlfX0vZ2ksIChtYXRjaGVkKSA9PiBtYXBWYWxpZGF0aW9uW21hdGNoZWRdKTtcclxuICB9IGVsc2UgaWYgKChkZWNQbGFjZXMgPiAwICYmICFuZXcgUmVnRXhwKGBeWy0rXT8oXFxcXGQqKFxcXFwuKT8oXFxcXGQpezAsJHtkZWNQbGFjZXN9fSkkYCkudGVzdChpbnB1dFZhbHVlKSkpIHtcclxuICAgIC8vIHdoZW4gZGVjaW1hbCB2YWx1ZSBpcyBiaWdnZXIgdGhhbiAwLCB3ZSBvbmx5IGFjY2VwdCB0aGUgZGVjaW1hbCB2YWx1ZXMgYXMgdGhhdCB2YWx1ZSBzZXRcclxuICAgIC8vIGZvciBleGFtcGxlIGlmIHdlIHNldCBkZWNpbWFsUGxhY2VzIHRvIDIsIHdlIHdpbGwgb25seSBhY2NlcHQgbnVtYmVycyBiZXR3ZWVuIDAgYW5kIDIgZGVjaW1hbHNcclxuICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgIG91dHB1dE1zZyA9IGVycm9yTXNnIHx8IENvbnN0YW50cy5WQUxJREFUSU9OX0VESVRPUl9ERUNJTUFMX0JFVFdFRU4ucmVwbGFjZSgve3ttaW5EZWNpbWFsfX18e3ttYXhEZWNpbWFsfX0vZ2ksIChtYXRjaGVkKSA9PiBtYXBWYWxpZGF0aW9uW21hdGNoZWRdKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IHZhbGlkOiBpc1ZhbGlkLCBtc2c6IG91dHB1dE1zZyB9O1xyXG59XHJcbiJdfQ==